(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1655],{7018:function(e,t,s){Promise.resolve().then(s.bind(s,8174))},8174:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var i=s(5193),r=s(4477),l=s(403),n=s(152),a=s(9557),c=s(6019),d=s(6006),o=s(2310),u=s(1461),x=s(8367);function h(e){let{params:t}=e,[s,h]=(0,o.useState)(null),[m,p]=(0,o.useState)([]),[f,j]=(0,o.useState)(!0),[g,v]=(0,o.useState)(null);if((0,o.useEffect)(()=>{if(!t.id){v("Invalid trip ID");return}(async()=>{try{let[e,s]=await Promise.all([(0,u.s)(t.id),(0,u.B)(4,0)]);if(!e)throw Error("Trip not found");h(e),p(s.allTrips)}catch(e){v(e instanceof Error?e.message:"Failed to load trip")}finally{j(!1)}})()},[t.id]),f)return(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})});if(g||!s)return(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsx)("p",{className:"text-red-500",children:g||"Trip not found"})});let b=(null==s?void 0:s.imageUrls)||[],N=(0,r.c_)(null==s?void 0:s.tripDetails);if(!N)return(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsx)("p",{className:"text-red-500",children:"Failed to parse trip data"})});let{name:w,duration:y,itinerary:D,travelStyle:k,groupType:_,budget:A,interests:I,estimatedPrice:T,description:C,bestTimeToVisit:E,weatherInfo:U,country:Z}=N,P=[{text:k,bg:"!bg-pink-50 !text-pink-500"},{text:_,bg:"!bg-primary-50 !text-primary-500"},{text:A,bg:"!bg-success-50 !text-success-700"},{text:I,bg:"!bg-navy-50 !text-navy-500"}];return(0,i.jsxs)("main",{className:"travel-detail wrapper",children:[(0,i.jsx)(a.Z,{title:"Trip Details",description:"View and edit AI-generated travel plans"}),(0,i.jsxs)("section",{className:"container wrapper-md",children:[(0,i.jsxs)("header",{children:[(0,i.jsx)("h1",{className:"p-40-semibold text-dark-100",children:w}),(0,i.jsxs)("div",{className:"flex items-center gap-5",children:[(0,i.jsx)(c.Z,{text:"".concat(y," day plan"),image:"/assets/icons/calendar.svg"}),(0,i.jsx)(c.Z,{text:(null==D?void 0:D.slice(0,4).map(e=>e.location).join(", "))||"",image:"/assets/icons/location-mark.svg"})]})]}),(0,i.jsx)("section",{className:"gallery",children:b.map((e,t)=>(0,i.jsx)(x.default,{width:700,height:700,src:e,alt:"Trip image ".concat(t+1),className:(0,r.cn)("w-full rounded-xl object-cover",0===t?"md:col-span-2 md:row-span-2 h-[330px]":"md:row-span-1 h-[150px]")},t))}),(0,i.jsxs)("section",{className:"flex flex-col gap-4",children:[(0,i.jsx)(l.r,{id:"travel-chip",children:(0,i.jsx)(n.U,{children:P.map((e,t)=>(0,i.jsx)(n.g,{text:(0,r.gr)(e.text),cssClass:"".concat(e.bg," !text-base !font-medium !px-4")},t))})}),(0,i.jsxs)("ul",{className:"flex gap-1 items-center",children:[[,,,,,].fill("null").map((e,t)=>(0,i.jsx)("li",{children:(0,i.jsx)(x.default,{src:"/assets/icons/star.svg",alt:"star",className:"size-[18px]",width:100,height:100})},t)),(0,i.jsx)("li",{className:"ml-1",children:(0,i.jsx)(l.r,{children:(0,i.jsx)(n.U,{children:(0,i.jsx)(n.g,{text:"4.9/5",cssClass:"!bg-yellow-50 !text-yellow-700"})})})})]})]}),(0,i.jsxs)("section",{className:"title",children:[(0,i.jsxs)("article",{children:[(0,i.jsxs)("h3",{children:[y,"-Day ",Z," ",k," Trip"]}),(0,i.jsxs)("p",{children:[A,", ",_," and ",I]})]}),(0,i.jsx)("h2",{children:T})]}),(0,i.jsx)("p",{className:"text-sm md:text-lg font-normal text-dark-400",children:C}),(0,i.jsx)("ul",{className:"itinerary",children:null==D?void 0:D.map((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsxs)("h3",{children:["Day ",e.day,": ",e.location]}),(0,i.jsx)("ul",{children:e.activities.map((e,t)=>(0,i.jsxs)("li",{children:[(0,i.jsx)("span",{className:"flex-shring-0 p-18-semibold",children:e.time}),(0,i.jsx)("p",{className:"flex-grow",children:e.description})]},t))})]},t))}),[{title:"Best Time to Visit:",items:E},{title:"Weather:",items:U}].map(e=>{var t;return(0,i.jsx)("section",{className:"visit",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:e.title}),(0,i.jsx)("ul",{children:null===(t=e.items)||void 0===t?void 0:t.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)("p",{className:"flex-grow",children:e})},e))})]})},e.title)})]}),(0,i.jsxs)("section",{className:"flex flex-col gap-6",children:[(0,i.jsx)("h2",{className:"p-24-semibold text-dark-100",children:"Popular Trips"}),(0,i.jsx)("div",{className:"trip-grid",children:m.map(e=>{var t,s,l,n,a,c,o,u;return(0,i.jsx)(d.Z,{id:e.$id,name:(null===(t=(0,r.c_)(e.tripDetails))||void 0===t?void 0:t.name)||"",imageUrl:e.imageUrls[0],location:null!==(u=null===(n=(0,r.c_)(e.tripDetails))||void 0===n?void 0:null===(l=n.itinerary)||void 0===l?void 0:null===(s=l[0])||void 0===s?void 0:s.location)&&void 0!==u?u:"",tags:[(null===(a=(0,r.c_)(e.tripDetails))||void 0===a?void 0:a.interests)||"",(null===(c=(0,r.c_)(e.tripDetails))||void 0===c?void 0:c.travelStyle)||""],price:(null===(o=(0,r.c_)(e.tripDetails))||void 0===o?void 0:o.estimatedPrice)||""},e.$id)})})]})]})}},568:function(e,t,s){"use strict";s.d(t,{Fs:function(){return a},JT:function(){return n},qA:function(){return r}});var i=s(2289);let r={endpointUrl:"https://fra.cloud.appwrite.io/v1",projectId:"6814b4380013a9b2410d",apiKey:"6814b4380013a9b2410d",databaseId:"6814b52c000b72ebe3de",userCollectionId:"6814b5420024dcd92e84",tripCollectionId:"6814b56000150e453129"},l=new i.KU().setEndpoint(r.endpointUrl).setProject(r.projectId),n=new i.mR(l),a=new i.Lg(l);new i.Ke(l)},1461:function(e,t,s){"use strict";s.d(t,{B:function(){return l},s:function(){return n}});var i=s(568),r=s(2289);let l=async(e,t)=>{let s=await i.Fs.listDocuments(i.qA.databaseId,i.qA.tripCollectionId,[r.AE.limit(e),r.AE.offset(t),r.AE.orderDesc("createdAt")]);return 0===s.total?(console.error("No trips found"),{allTrips:[],total:0}):{allTrips:s.documents,total:s.total}},n=async e=>{let t=await i.Fs.getDocument(i.qA.databaseId,i.qA.tripCollectionId,e);return t.$id?t:(console.log("Trip not found"),null)}},9557:function(e,t,s){"use strict";var i=s(5193),r=s(3356),l=s(4477),n=s(7008),a=s(8954),c=s(8367);t.Z=e=>{let{title:t,description:s,ctaText:d,ctaUrl:o}=e,u=(0,a.usePathname)();return(0,i.jsxs)("header",{className:"header",children:[(0,i.jsxs)("article",{children:[(0,i.jsx)("h1",{className:(0,l.cn)("text-dark-100","/admin"===u?"text-2xl md:text-4xl font-bold":"text-xl md:text-2xl font-semibold"),children:t}),(0,i.jsx)("p",{className:(0,l.cn)("text-gray-600 font-normal","/"===u?"text-base md:text-lg":"text-sm md:text-lg"),children:s})]}),d&&o&&(0,i.jsx)(n.default,{href:o,children:(0,i.jsxs)(r.r,{type:"button",className:"button-class !h-11 !w-full md:w-[240px]",children:[(0,i.jsx)(c.default,{src:"/assets/icons/plus.svg",alt:"plus",className:"size-5",width:100,height:100}),(0,i.jsx)("span",{className:"p-16-semibold text-white",children:d})]})})]})}},6019:function(e,t,s){"use strict";var i=s(5193),r=s(8367);t.Z=e=>{let{text:t,image:s}=e;return(0,i.jsxs)("figure",{className:"info-pill",children:[(0,i.jsx)(r.default,{src:s,alt:t,width:100,height:100}),(0,i.jsx)("figcaption",{children:t})]})}},6006:function(e,t,s){"use strict";var i=s(5193),r=s(403),l=s(152),n=s(4477),a=s(7008),c=s(8954),d=s(8367);t.Z=e=>{let{id:t,name:s,location:o,imageUrl:u,tags:x,price:h}=e,m=(0,c.usePathname)();return(0,i.jsxs)(a.default,{href:"/"===m||m.startsWith("/travel")?"/travel/".concat(t):"/admin/trips/".concat(t),className:"trip-card",children:[(0,i.jsx)(d.default,{src:u,width:600,height:600,alt:s}),(0,i.jsxs)("article",{children:[(0,i.jsx)("h2",{children:s}),(0,i.jsxs)("figure",{children:[(0,i.jsx)(d.default,{src:"/assets/icons/location-mark.svg",alt:"location",className:"size-4 !w-3 !h-3",width:20,height:20}),(0,i.jsx)("figcaption",{className:"!text-gray-600",children:o})]})]}),(0,i.jsx)("div",{className:"mt-2 pl-[18px] pr-3.5 pb-5",children:(0,i.jsx)(r.r,{id:"travel-chip",children:(0,i.jsx)(l.U,{children:null==x?void 0:x.map((e,t)=>(0,i.jsx)(l.g,{text:(0,n.gr)(e),cssClass:(0,n.cn)(1===t?"!bg-pink-50 !text-pink-500":"!bg-success-50 !text-success-700")},t))})})}),(0,i.jsx)("article",{className:"tripCard-pill",children:h})]})}},4477:function(e,t,s){"use strict";s.d(t,{Ew:function(){return x},c_:function(){return d},cn:function(){return a},gr:function(){return o},jd:function(){return u},p6:function(){return c}});var i=s(4848),r=s(9998),l=s(3676),n=s.n(l);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,i.W)(t))}let c=e=>n()(e).format("MMMM DD, YYYY");function d(e){try{return JSON.parse(e)}catch(e){return console.error("Failed to parse trip data:",e),null}}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().split(/\s+/)[0]||""}let u=(e,t)=>{if(0===t)return 0===e?{trend:"no change",percentage:0}:{trend:"increment",percentage:100};let s=e-t,i=Math.abs(s/t*100);return s>0?{trend:"increment",percentage:i}:s<0?{trend:"decrement",percentage:i}:{trend:"no change",percentage:0}},x=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}},function(e){e.O(0,[3612,9276,7981,1226,3356,8631,3044,7550,1744],function(){return e(e.s=7018)}),_N_E=e.O()}]);