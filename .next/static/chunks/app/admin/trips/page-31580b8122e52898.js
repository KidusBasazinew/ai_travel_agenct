(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5661],{5044:function(e,t,r){Promise.resolve().then(r.bind(r,2736)),Promise.resolve().then(r.bind(r,4392)),Promise.resolve().then(r.bind(r,5489))},2736:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var s=r(5193),n=r(2310),a=r(8954),i=r(5516),l=r(9557),c=r(6006),d=r(1461),o=r(4477),u=r(3046);function p(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)().get("page"),[r,p]=(0,n.useState)(Number(t)||1),[h,x]=(0,n.useState)([]),[m,f]=(0,n.useState)(0),[g,b]=(0,n.useState)(!0),j=async e=>{b(!0);let{allTrips:t,total:r}=await (0,d.B)(8,(e-1)*8);x(t.map(e=>{let{$id:t,tripDetails:r,imageUrls:s}=e;return{id:t,...(0,o.c_)(r),imageUrls:null!=s?s:[]}})),f(r),b(!1)},v=t=>{p(t),e.push("/trips?page=".concat(t))};return(0,n.useEffect)(()=>{j(r)},[r]),(0,s.jsxs)("main",{className:"all-users wrapper",children:[(0,s.jsx)(l.Z,{title:"Trips",description:"View and edit AI-generated travel plans",ctaText:"Create a trip",ctaUrl:"/admin/create-trip"}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h1",{className:"p-24-semibold text-dark-100 mb-4",children:"Manage Created Trips"}),(0,s.jsx)("div",{className:"trip-grid mb-4",children:g?(0,s.jsx)(u.Z,{length:8}):h.map(e=>{var t,r,n;return(0,s.jsx)(c.Z,{id:e.id,name:e.name,imageUrl:e.imageUrls[0],location:null!==(n=null===(r=e.itinerary)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.location)&&void 0!==n?n:"",tags:[e.interests,e.travelStyle],price:e.estimatedPrice},e.id)})}),(0,s.jsx)(i.P,{totalRecordsCount:m,pageSize:8,currentPage:r,click:e=>v(Number(e.currentPage)),cssClass:"!mb-4"})]})]})}},568:function(e,t,r){"use strict";r.d(t,{Fs:function(){return l},JT:function(){return i},qA:function(){return n}});var s=r(2289);let n={endpointUrl:"https://fra.cloud.appwrite.io/v1",projectId:"6814b4380013a9b2410d",apiKey:"6814b4380013a9b2410d",databaseId:"6814b52c000b72ebe3de",userCollectionId:"6814b5420024dcd92e84",tripCollectionId:"6814b56000150e453129"},a=new s.KU().setEndpoint(n.endpointUrl).setProject(n.projectId),i=new s.mR(a),l=new s.Lg(a);new s.Ke(a)},1461:function(e,t,r){"use strict";r.d(t,{B:function(){return a},s:function(){return i}});var s=r(568),n=r(2289);let a=async(e,t)=>{let r=await s.Fs.listDocuments(s.qA.databaseId,s.qA.tripCollectionId,[n.AE.limit(e),n.AE.offset(t),n.AE.orderDesc("createdAt")]);return 0===r.total?(console.error("No trips found"),{allTrips:[],total:0}):{allTrips:r.documents,total:r.total}},i=async e=>{let t=await s.Fs.getDocument(s.qA.databaseId,s.qA.tripCollectionId,e);return t.$id?t:(console.log("Trip not found"),null)}},9557:function(e,t,r){"use strict";var s=r(5193),n=r(3356),a=r(4477),i=r(7008),l=r(8954),c=r(8367);t.Z=e=>{let{title:t,description:r,ctaText:d,ctaUrl:o}=e,u=(0,l.usePathname)();return(0,s.jsxs)("header",{className:"header",children:[(0,s.jsxs)("article",{children:[(0,s.jsx)("h1",{className:(0,a.cn)("text-dark-100","/admin"===u?"text-2xl md:text-4xl font-bold":"text-xl md:text-2xl font-semibold"),children:t}),(0,s.jsx)("p",{className:(0,a.cn)("text-gray-600 font-normal","/"===u?"text-base md:text-lg":"text-sm md:text-lg"),children:r})]}),d&&o&&(0,s.jsx)(i.default,{href:o,children:(0,s.jsxs)(n.r,{type:"button",className:"button-class !h-11 !w-full md:w-[240px]",children:[(0,s.jsx)(c.default,{src:"/assets/icons/plus.svg",alt:"plus",className:"size-5",width:100,height:100}),(0,s.jsx)("span",{className:"p-16-semibold text-white",children:d})]})})]})}},6006:function(e,t,r){"use strict";var s=r(5193),n=r(403),a=r(152),i=r(4477),l=r(7008),c=r(8954),d=r(8367);t.Z=e=>{let{id:t,name:r,location:o,imageUrl:u,tags:p,price:h}=e,x=(0,c.usePathname)();return(0,s.jsxs)(l.default,{href:"/"===x||x.startsWith("/travel")?"/travel/".concat(t):"/admin/trips/".concat(t),className:"trip-card",children:[(0,s.jsx)(d.default,{src:u,width:600,height:600,alt:r}),(0,s.jsxs)("article",{children:[(0,s.jsx)("h2",{children:r}),(0,s.jsxs)("figure",{children:[(0,s.jsx)(d.default,{src:"/assets/icons/location-mark.svg",alt:"location",className:"size-4 !w-3 !h-3",width:20,height:20}),(0,s.jsx)("figcaption",{className:"!text-gray-600",children:o})]})]}),(0,s.jsx)("div",{className:"mt-2 pl-[18px] pr-3.5 pb-5",children:(0,s.jsx)(n.r,{id:"travel-chip",children:(0,s.jsx)(a.U,{children:null==p?void 0:p.map((e,t)=>(0,s.jsx)(a.g,{text:(0,i.gr)(e),cssClass:(0,i.cn)(1===t?"!bg-pink-50 !text-pink-500":"!bg-success-50 !text-success-700")},t))})})}),(0,s.jsx)("article",{className:"tripCard-pill",children:h})]})}},3046:function(e,t,r){"use strict";var s=r(5193),n=r(6156);r(2310),t.Z=e=>{let{length:t}=e;return(0,s.jsx)(s.Fragment,{children:Array.from({length:t}).map((e,t)=>(0,s.jsxs)("div",{className:"trip-card",children:[(0,s.jsx)(n._,{width:"100%",height:"100px",shape:"Rectangle",className:"mb-2 bg-gray-300"}),(0,s.jsxs)("article",{className:"p-4",children:[(0,s.jsx)(n._,{width:"100%",height:"20px",shape:"Text",className:"mb-2 bg-gray-300"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n._,{width:"16px",height:"16px",shape:"Circle",className:"mb-2 bg-gray-300"}),(0,s.jsx)(n._,{width:"40%",height:"14px",shape:"Text",className:"mb-2 bg-gray-300"})]})]}),(0,s.jsxs)("div",{className:"mt-2 pl-[18px] pr-3.5 pb-5 flex gap-2 flex-wrap",children:[(0,s.jsx)(n._,{width:"60px",height:"28px",shape:"Text",className:" bg-gray-300"}),(0,s.jsx)(n._,{width:"50px",height:"28px",shape:"Text",className:" bg-gray-300"})]}),(0,s.jsx)("div",{className:"tripCard-pill",children:(0,s.jsx)(n._,{width:"80px",height:"24px",shape:"Text"})})]},t))})}},4477:function(e,t,r){"use strict";r.d(t,{Ew:function(){return p},c_:function(){return d},cn:function(){return l},gr:function(){return o},jd:function(){return u},p6:function(){return c}});var s=r(4848),n=r(9998),a=r(3676),i=r.n(a);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}let c=e=>i()(e).format("MMMM DD, YYYY");function d(e){try{return JSON.parse(e)}catch(e){return console.error("Failed to parse trip data:",e),null}}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().split(/\s+/)[0]||""}let u=(e,t)=>{if(0===t)return 0===e?{trend:"no change",percentage:0}:{trend:"increment",percentage:100};let r=e-t,s=Math.abs(r/t*100);return r>0?{trend:"increment",percentage:s}:r<0?{trend:"decrement",percentage:s}:{trend:"no change",percentage:0}},p=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())},4392:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=r(7582);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return r}},5489:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let s=r(5193),n=r(4671);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,n.getExpectedRequestStore)("next/dynamic css"),a=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));a.push(...t)}}return 0===a.length?null:(0,s.jsx)(s.Fragment,{children:a.map(e=>(0,s.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[3069,5067,3612,9276,7981,1226,3356,8631,3377,904,5516,3044,7550,1744],function(){return e(e.s=5044)}),_N_E=e.O()}]);