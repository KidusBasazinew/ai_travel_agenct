(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},3074:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(8567),s(9499),s(3186);var r=s(786),a=s(6216),i=s(7979),l=s.n(i),n=s(41),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["travel",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8567)),"C:\\Users\\Kidus\\Desktop\\web\\nextjs\\ai_travel\\app\\travel\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,8330))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,9499)),"C:\\Users\\Kidus\\Desktop\\web\\nextjs\\ai_travel\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,3186,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,8330))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\Kidus\\Desktop\\web\\nextjs\\ai_travel\\app\\travel\\[id]\\page.tsx"],u="/travel/[id]/page",p={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/travel/[id]/page",pathname:"/travel/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},713:(e,t,s)=>{Promise.resolve().then(s.bind(s,6591))},5850:(e,t,s)=>{Promise.resolve().then(s.bind(s,873))},7520:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2362,23)),Promise.resolve().then(s.t.bind(s,5727,23)),Promise.resolve().then(s.t.bind(s,8010,23)),Promise.resolve().then(s.t.bind(s,7684,23)),Promise.resolve().then(s.t.bind(s,7441,23)),Promise.resolve().then(s.t.bind(s,9295,23))},6591:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(951),a=s(4107),i=s(8785),l=s(1424),n=s(1838),c=s(6517),o=s(6314),d=s(8393);s(3201);var u=s(490),p=s(5661);function h({params:e}){let[t,s]=(0,d.useState)(null),[h,m]=(0,d.useState)([]),[x,g]=(0,d.useState)(!0),[f,j]=(0,d.useState)(null);if(x)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})});if(f||!t)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("p",{className:"text-red-500",children:f||"Trip not found"})});let v=t?.imageUrls||[],b=(0,a.c_)(t?.tripDetails);if(!b)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("p",{className:"text-red-500",children:"Failed to parse trip data"})});let{name:w,duration:y,itinerary:N,travelStyle:P,groupType:A,budget:_,interests:C,estimatedPrice:k,description:D,bestTimeToVisit:q,weatherInfo:E,country:S}=b,U=[{text:P,bg:"!bg-pink-50 !text-pink-500"},{text:A,bg:"!bg-primary-50 !text-primary-500"},{text:_,bg:"!bg-success-50 !text-success-700"},{text:C,bg:"!bg-navy-50 !text-navy-500"}];return(0,r.jsxs)("main",{className:"travel-detail wrapper",children:[(0,r.jsxs)("section",{className:"container wrapper-md",children:[(0,r.jsxs)("header",{children:[r.jsx("h1",{className:"p-40-semibold text-dark-100 mt-20",children:w}),(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[r.jsx(c.Z,{text:`${y} day plan`,image:"/assets/icons/calendar.svg"}),r.jsx(c.Z,{text:N?.slice(0,4).map(e=>e.location).join(", ")||"",image:"/assets/icons/location-mark.svg"})]})]}),r.jsx("section",{className:"gallery",children:v.map((e,t)=>r.jsx(p.default,{width:600,height:600,src:e,alt:`Trip image ${t+1}`,className:(0,a.cn)("w-full rounded-xl object-cover",0===t?"md:col-span-2 md:row-span-2 h-[330px]":"md:row-span-1 h-[150px]")},t))}),(0,r.jsxs)("section",{className:"flex flex-col gap-4",children:[r.jsx(i.r,{id:"travel-chip",children:r.jsx(l.U,{children:U.map((e,t)=>r.jsx(l.g,{text:(0,a.gr)(e.text),cssClass:`${e.bg} !text-base !font-medium !px-4`},t))})}),(0,r.jsxs)("ul",{className:"flex gap-1 items-center",children:[[,,,,,].fill("null").map((e,t)=>r.jsx("li",{children:r.jsx(p.default,{src:"/assets/icons/star.svg",alt:"star",className:"size-[18px]",width:100,height:100})},t)),r.jsx("li",{className:"ml-1",children:r.jsx(i.r,{children:r.jsx(l.U,{children:r.jsx(l.g,{text:"4.9/5",cssClass:"!bg-yellow-50 !text-yellow-700"})})})})]})]}),(0,r.jsxs)("section",{className:"title",children:[(0,r.jsxs)("article",{children:[(0,r.jsxs)("h3",{children:[y,"-Day ",S," ",P," Trip"]}),(0,r.jsxs)("p",{children:[_,", ",A," and ",C]})]}),r.jsx("h2",{children:k})]}),r.jsx("p",{className:"text-sm md:text-lg font-normal text-dark-400",children:D}),r.jsx("ul",{className:"itinerary",children:N?.map((e,t)=>r.jsxs("li",{children:[r.jsxs("h3",{children:["Day ",e.day,": ",e.location]}),r.jsx("ul",{children:e.activities.map((e,t)=>r.jsxs("li",{children:[r.jsx("span",{className:"flex-shring-0 p-18-semibold",children:e.time}),r.jsx("p",{className:"flex-grow",children:e.description})]},t))})]},t))}),[{title:"Best Time to Visit:",items:q},{title:"Weather:",items:E}].map(e=>r.jsx("section",{className:"visit",children:(0,r.jsxs)("div",{children:[r.jsx("h3",{children:e.title}),r.jsx("ul",{children:e.items?.map(e=>r.jsx("li",{children:r.jsx("p",{className:"flex-grow",children:e})},e))})]})},e.title)),r.jsx(u.default,{href:`/payment/${t.$id}`,className:"w-full",children:r.jsx(n.r,{type:"button",className:"button-class !h-11 !w-full ",children:r.jsx("span",{className:"p-16-semibold text-white",children:"Book Now"})})})]}),(0,r.jsxs)("section",{className:"flex flex-col gap-6",children:[r.jsx("h2",{className:"p-24-semibold text-dark-100",children:"Popular Trips"}),r.jsx("div",{className:"trip-grid",children:h.map(e=>r.jsx(o.Z,{id:e.$id,name:a.c_(e.tripDetails)?.name||"",imageUrl:e.imageUrls[0],location:a.c_(e.tripDetails)?.itinerary?.[0]?.location??"",tags:[a.c_(e.tripDetails)?.interests||"",a.c_(e.tripDetails)?.travelStyle||""],price:a.c_(e.tripDetails)?.estimatedPrice||""},e.$id))})]})]})}},3504:(e,t,s)=>{"use strict";s.d(t,{AW:()=>p,Cb:()=>d,Lo:()=>n,TX:()=>u,aC:()=>h,cm:()=>c});var r=s(1997),a=s(4327),i=s(7814),l=s(8393);let n=async e=>{try{let{documents:t,total:s}=await a.Fs.listDocuments(a.qA.databaseId,a.qA.userCollectionId,[r.AE.equal("accountId",e)]);return s>0?t[0]:null}catch(e){return console.error("Error fetching user:",e),null}},c=async()=>{try{let e=await a.JT.get();if(!e)throw Error("User not found");let{providerAccessToken:t}=await a.JT.getSession("current")||{},s=t?await o(t):null;(await a.Fs.createDocument(a.qA.databaseId,a.qA.userCollectionId,r.ID.unique(),{accountId:e.$id,email:e.email,name:e.name,imageUrl:s,joinedAt:new Date().toISOString()})).$id||(0,i.redirect)("/sign-in")}catch(e){console.error("Error storing user data:",e)}},o=async e=>{try{let t=await fetch("https://people.googleapis.com/v1/people/me?personFields=photos",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch Google profile picture");let{photos:s}=await t.json();return s?.[0]?.url||null}catch(e){return console.error("Error fetching Google picture:",e),null}},d=async()=>{try{a.JT.createOAuth2Session(r.O4.Google,`${window.location.origin}/`,`${window.location.origin}/404`)}catch(e){console.error("Error during OAuth2 session creation:",e)}},u=async()=>{try{await a.JT.deleteSession("current")}catch(e){console.error("Error during logout:",e)}},p=async(e,t)=>{try{let{documents:s,total:i}=await a.Fs.listDocuments(a.qA.databaseId,a.qA.userCollectionId,[r.AE.limit(e),r.AE.offset(t)]);if(0===i)return{users:[],total:i};return{users:s,total:i}}catch(e){return console.log("Error fetching users"),{users:[],total:0}}};function h(){let[e,t]=(0,l.useState)(null),[s,r]=(0,l.useState)(!0);return{user:e,loading:s,logout:async()=>{try{await a.JT.deleteSession("current"),t(null)}catch(e){throw console.error("Logout failed:",e),e}}}}},4327:(e,t,s)=>{"use strict";s.d(t,{Fs:()=>n,JT:()=>l,qA:()=>a});var r=s(1997);let a={endpointUrl:"https://fra.cloud.appwrite.io/v1",projectId:"6814b4380013a9b2410d",apiKey:"6814b4380013a9b2410d",databaseId:"6814b52c000b72ebe3de",userCollectionId:"6814b5420024dcd92e84",tripCollectionId:"6814b56000150e453129"},i=new r.KU().setEndpoint(a.endpointUrl).setProject(a.projectId),l=new r.mR(i),n=new r.Lg(i);new r.Ke(i)},3201:(e,t,s)=>{"use strict";s.d(t,{B:()=>i});var r=s(4327),a=s(1997);let i=async(e,t)=>{let s=await r.Fs.listDocuments(r.qA.databaseId,r.qA.tripCollectionId,[a.AE.limit(e),a.AE.offset(t),a.AE.orderDesc("createdAt")]);return 0===s.total?(console.error("No trips found"),{allTrips:[],total:0}):{allTrips:s.documents,total:s.total}}},6517:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(951),a=s(5661);let i=({text:e,image:t})=>(0,r.jsxs)("figure",{className:"info-pill",children:[r.jsx(a.default,{src:t,alt:e,width:100,height:100}),r.jsx("figcaption",{children:e})]})},873:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(951),a=s(7814),i=s(490),l=s(5661),n=s(4107),c=s(3504),o=s(8393);function d(){let e=(0,a.usePathname)(),{logout:t}=(0,c.aC)(),s=(0,a.useRouter)(),[d,u]=(0,o.useState)(null),[p,h]=(0,o.useState)(!1),m=async()=>{try{await t(),s.push("/sign-in")}catch(e){console.error("Logout failed:",e)}};return e.startsWith("/sign-in")||e.startsWith("/admin")||e.startsWith("/payment")?null:(0,r.jsxs)("nav",{className:(0,n.cn)(p||e.startsWith("/travel")?"bg-white shadow-gray-100 shadow-md":"glassmorphism","flex py-2 justify-between w-full items-center fixed z-50"),children:[r.jsx("div",{className:"flex items-center space-x-4 ml-10",children:(0,r.jsxs)(i.default,{href:"/",className:"flex items-center space-x-2",children:[r.jsx(l.default,{src:"/assets/icons/logo.svg",alt:"Logo",width:32,height:32,className:"size-8"}),r.jsx("span",{className:"font-semibold text-lg",children:"Tourvisto"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mr-10",children:[r.jsx(i.default,{href:"/admin",className:(0,n.cn)(p||e.startsWith("/travel")?"text-gray-800":"text-white","font-base font-normal"),children:"Admin Panel"}),r.jsx(i.default,{href:"/",className:(0,n.cn)("text-base font-normal",{"text-white":!p,"text-black":p,"text-dark-100":e.startsWith("/travel")})}),r.jsx(l.default,{src:d?.imageUrl||"/assets/images/david.wepb",alt:"user",referrerPolicy:"no-referrer",width:100,height:100,className:"w-10 h-10 rounded-full overflow-hidden"}),r.jsx("button",{onClick:m,className:"cursor-pointer rounded-full bg-white opacity-70 p-1 transition-all duration-300 hover:opacity-100",children:r.jsx(l.default,{width:100,height:100,src:"/assets/icons/logout.svg",alt:"logout",className:"size-10 rotate-180 transition-all duration-300"})})]})]})}s(4327)},6314:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(951),a=s(8785),i=s(1424),l=s(4107),n=s(490),c=s(7814),o=s(5661);let d=({id:e,name:t,location:s,imageUrl:d,tags:u,price:p})=>{let h=(0,c.usePathname)();return(0,r.jsxs)(n.default,{href:"/"===h||h.startsWith("/travel")?`/travel/${e}`:`/admin/trips/${e}`,className:"trip-card",children:[r.jsx(o.default,{src:d,width:600,height:600,alt:t}),(0,r.jsxs)("article",{children:[r.jsx("h2",{children:t}),(0,r.jsxs)("figure",{children:[r.jsx(o.default,{src:"/assets/icons/location-mark.svg",alt:"location",className:"size-4 !w-3 !h-3",width:20,height:20}),r.jsx("figcaption",{className:"!text-gray-600",children:s})]})]}),r.jsx("div",{className:"mt-2 pl-[18px] pr-3.5 pb-5",children:r.jsx(a.r,{id:"travel-chip",children:r.jsx(i.U,{children:u?.map((e,t)=>r.jsx(i.g,{text:l.gr(e),cssClass:l.cn(1===t?"!bg-pink-50 !text-pink-500":"!bg-success-50 !text-success-700")},t))})})}),r.jsx("article",{className:"tripCard-pill",children:p})]})}},4107:(e,t,s)=>{"use strict";s.d(t,{Ew:()=>p,c_:()=>o,cn:()=>n,gr:()=>d,jd:()=>u,p6:()=>c});var r=s(769),a=s(2753),i=s(1244),l=s.n(i);function n(...e){return(0,a.m6)((0,r.W)(e))}let c=e=>l()(e).format("MMMM DD, YYYY");function o(e){try{return JSON.parse(e)}catch(e){return console.error("Failed to parse trip data:",e),null}}function d(e=""){return e.trim().split(/\s+/)[0]||""}let u=(e,t)=>{if(0===t)return 0===e?{trend:"no change",percentage:0}:{trend:"increment",percentage:100};let s=e-t,r=Math.abs(s/t*100);return s>0?{trend:"increment",percentage:r}:s<0?{trend:"decrement",percentage:r}:{trend:"no change",percentage:0}},p=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())},9499:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>o});var r=s(7161),a=s(2040),i=s.n(a),l=s(216),n=s.n(l);s(5359);let c=(0,s(3233).createProxy)(String.raw`C:\Users\Kidus\Desktop\web\nextjs\ai_travel\components\Navbar.tsx#default`),o={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:`${i().variable} ${n().variable} antialiased`,children:[r.jsx(c,{}),e]})})}},8567:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(3233).createProxy)(String.raw`C:\Users\Kidus\Desktop\web\nextjs\ai_travel\app\travel\[id]\page.tsx#default`)},8330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(2354);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5359:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,172,354,93,838,165],()=>s(3074));module.exports=r})();