(()=>{var e={};e.id=790,e.ids=[790],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},3651:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(213),r(9499),r(3186);var a=r(786),s=r(6216),n=r(7979),i=r.n(n),o=r(41),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,213)),"C:\\Users\\Kidus\\Desktop\\web\\nextjs\\ai_travel\\app\\payment\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,8330))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9499)),"C:\\Users\\Kidus\\Desktop\\web\\nextjs\\ai_travel\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,3186,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,8330))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\Kidus\\Desktop\\web\\nextjs\\ai_travel\\app\\payment\\page.tsx"],u="/payment/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/payment/page",pathname:"/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5850:(e,t,r)=>{Promise.resolve().then(r.bind(r,873))},7520:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2362,23)),Promise.resolve().then(r.t.bind(r,5727,23)),Promise.resolve().then(r.t.bind(r,8010,23)),Promise.resolve().then(r.t.bind(r,7684,23)),Promise.resolve().then(r.t.bind(r,7441,23)),Promise.resolve().then(r.t.bind(r,9295,23))},9592:()=>{},3504:(e,t,r)=>{"use strict";r.d(t,{AW:()=>p,Cb:()=>d,Lo:()=>o,TX:()=>u,aC:()=>m,cm:()=>l});var a=r(1997),s=r(4327),n=r(7814),i=r(8393);let o=async e=>{try{let{documents:t,total:r}=await s.Fs.listDocuments(s.qA.databaseId,s.qA.userCollectionId,[a.AE.equal("accountId",e)]);return r>0?t[0]:null}catch(e){return console.error("Error fetching user:",e),null}},l=async()=>{try{let e=await s.JT.get();if(!e)throw Error("User not found");let{providerAccessToken:t}=await s.JT.getSession("current")||{},r=t?await c(t):null;(await s.Fs.createDocument(s.qA.databaseId,s.qA.userCollectionId,a.ID.unique(),{accountId:e.$id,email:e.email,name:e.name,imageUrl:r,joinedAt:new Date().toISOString()})).$id||(0,n.redirect)("/sign-in")}catch(e){console.error("Error storing user data:",e)}},c=async e=>{try{let t=await fetch("https://people.googleapis.com/v1/people/me?personFields=photos",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch Google profile picture");let{photos:r}=await t.json();return r?.[0]?.url||null}catch(e){return console.error("Error fetching Google picture:",e),null}},d=async()=>{try{s.JT.createOAuth2Session(a.O4.Google,`${window.location.origin}/`,`${window.location.origin}/404`)}catch(e){console.error("Error during OAuth2 session creation:",e)}},u=async()=>{try{await s.JT.deleteSession("current")}catch(e){console.error("Error during logout:",e)}},p=async(e,t)=>{try{let{documents:r,total:n}=await s.Fs.listDocuments(s.qA.databaseId,s.qA.userCollectionId,[a.AE.limit(e),a.AE.offset(t)]);if(0===n)return{users:[],total:n};return{users:r,total:n}}catch(e){return console.log("Error fetching users"),{users:[],total:0}}};function m(){let[e,t]=(0,i.useState)(null),[r,a]=(0,i.useState)(!0);return{user:e,loading:r,logout:async()=>{try{await s.JT.deleteSession("current"),t(null)}catch(e){throw console.error("Logout failed:",e),e}}}}},4327:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>o,JT:()=>i,qA:()=>s});var a=r(1997);let s={endpointUrl:"https://fra.cloud.appwrite.io/v1",projectId:"6814b4380013a9b2410d",apiKey:"6814b4380013a9b2410d",databaseId:"6814b52c000b72ebe3de",userCollectionId:"6814b5420024dcd92e84",tripCollectionId:"6814b56000150e453129"},n=new a.KU().setEndpoint(s.endpointUrl).setProject(s.projectId),i=new a.mR(n),o=new a.Lg(n);new a.Ke(n)},873:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var a=r(951),s=r(7814),n=r(490),i=r(5661),o=r(4107),l=r(3504),c=r(8393);function d(){let e=(0,s.usePathname)(),{logout:t}=(0,l.aC)(),r=(0,s.useRouter)(),[d,u]=(0,c.useState)(null),[p,m]=(0,c.useState)(!1),h=async()=>{try{await t(),r.push("/sign-in")}catch(e){console.error("Logout failed:",e)}};return e.startsWith("/sign-in")||e.startsWith("/admin")||e.startsWith("/payment")?null:(0,a.jsxs)("nav",{className:(0,o.cn)(p||e.startsWith("/travel")?"bg-white shadow-gray-100 shadow-md":"glassmorphism","flex py-2 justify-between w-full items-center fixed z-50"),children:[a.jsx("div",{className:"flex items-center space-x-4 ml-10",children:(0,a.jsxs)(n.default,{href:"/",className:"flex items-center space-x-2",children:[a.jsx(i.default,{src:"/assets/icons/logo.svg",alt:"Logo",width:32,height:32,className:"size-8"}),a.jsx("span",{className:"font-semibold text-lg",children:"Tourvisto"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mr-10",children:[a.jsx(n.default,{href:"/admin",className:(0,o.cn)(p||e.startsWith("/travel")?"text-gray-800":"text-white","font-base font-normal"),children:"Admin Panel"}),a.jsx(n.default,{href:"/",className:(0,o.cn)("text-base font-normal",{"text-white":!p,"text-black":p,"text-dark-100":e.startsWith("/travel")})}),a.jsx(i.default,{src:d?.imageUrl||"/assets/images/david.wepb",alt:"user",referrerPolicy:"no-referrer",width:100,height:100,className:"w-10 h-10 rounded-full overflow-hidden"}),a.jsx("button",{onClick:h,className:"cursor-pointer rounded-full bg-white opacity-70 p-1 transition-all duration-300 hover:opacity-100",children:a.jsx(i.default,{width:100,height:100,src:"/assets/icons/logout.svg",alt:"logout",className:"size-10 rotate-180 transition-all duration-300"})})]})]})}r(4327)},4107:(e,t,r)=>{"use strict";r.d(t,{Ew:()=>p,c_:()=>c,cn:()=>o,gr:()=>d,jd:()=>u,p6:()=>l});var a=r(769),s=r(2753),n=r(1244),i=r.n(n);function o(...e){return(0,s.m6)((0,a.W)(e))}let l=e=>i()(e).format("MMMM DD, YYYY");function c(e){try{return JSON.parse(e)}catch(e){return console.error("Failed to parse trip data:",e),null}}function d(e=""){return e.trim().split(/\s+/)[0]||""}let u=(e,t)=>{if(0===t)return 0===e?{trend:"no change",percentage:0}:{trend:"increment",percentage:100};let r=e-t,a=Math.abs(r/t*100);return r>0?{trend:"increment",percentage:a}:r<0?{trend:"decrement",percentage:a}:{trend:"no change",percentage:0}},p=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())},9499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>c});var a=r(7161),s=r(2040),n=r.n(s),i=r(216),o=r.n(i);r(5359);let l=(0,r(3233).createProxy)(String.raw`C:\Users\Kidus\Desktop\web\nextjs\ai_travel\components\Navbar.tsx#default`),c={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return a.jsx("html",{lang:"en",children:(0,a.jsxs)("body",{className:`${n().variable} ${o().variable} antialiased`,children:[a.jsx(l,{}),e]})})}},213:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(7161);r(1733);let s=()=>a.jsx("div",{children:"page"})},8330:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var a=r(2354);let s=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5359:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,172,354],()=>r(3651));module.exports=a})();