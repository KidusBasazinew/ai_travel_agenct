exports.id=407,exports.ids=[407],exports.modules={4042:(e,t,s)=>{Promise.resolve().then(s.bind(s,6063))},5850:(e,t,s)=>{Promise.resolve().then(s.bind(s,873))},7520:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2362,23)),Promise.resolve().then(s.t.bind(s,5727,23)),Promise.resolve().then(s.t.bind(s,8010,23)),Promise.resolve().then(s.t.bind(s,7684,23)),Promise.resolve().then(s.t.bind(s,7441,23)),Promise.resolve().then(s.t.bind(s,9295,23))},6063:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(951),a=s(8393),i=s(490),n=s(4982),l=s(7814),o=s(5661),c=s(3504),d=s(4327);let u=({handleClick:e})=>{let t=(0,l.usePathname)(),s=(0,l.useRouter)(),[u,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await d.JT.get(),t=await (0,c.Lo)(e.$id);if(t){let e={id:t.$id,name:t.name,email:t.email,imageUrl:t.imageUrl||""};h(e)}}catch(e){console.error("No user found",e)}})()},[]);let m=async()=>{await (0,c.TX)(),s.push("/sign-in")};return(0,r.jsxs)("section",{className:"nav-items",children:[(0,r.jsxs)(i.default,{href:"/",className:"link-logo",children:[r.jsx(o.default,{src:"/assets/icons/logo.svg",alt:"logo",className:"size-[30px]",width:400,height:400}),r.jsx("h1",{children:"Tourvisto"})]}),(0,r.jsxs)("div",{className:"container",children:[r.jsx("nav",{children:r.jsx("nav",{children:n.zG.map(({id:s,href:a,icon:n,label:l})=>r.jsx(i.default,{href:a,onClick:e,children:(0,r.jsxs)("div",{className:`group nav-item ${t===a?"bg-primary-100 !text-white":""}`,children:[r.jsx(o.default,{width:100,height:100,src:n,alt:l,className:`group-hover:brightness-0 size-0 group-hover:invert ${t===a?"brightness-0 invert":"text-dark-200"}`}),l]})},s))})}),(0,r.jsxs)("footer",{className:"nav-footer",children:[r.jsx(o.default,{src:u?.imageUrl||"/assets/images/david.webp",alt:u?.name||"David",referrerPolicy:"no-referrer",width:40,height:40,className:"rounded-full"}),(0,r.jsxs)("article",{children:[r.jsx("h2",{children:u?.name||"Guest"}),r.jsx("p",{children:u?.email||"N/A"})]}),r.jsx("button",{onClick:m,className:"cursor-pointer",children:r.jsx(o.default,{src:"/assets/icons/logout.svg",alt:"logout",width:24,height:24,className:"size-6"})})]})]})]})};var h=s(2280);s(9656);let m=()=>{let e=(0,a.useRef)(null),t=()=>{e.current?.toggle()};return(0,r.jsxs)("div",{className:"mobile-sidebar wrapper",children:[(0,r.jsxs)("header",{children:[(0,r.jsxs)(i.default,{href:"/",children:[r.jsx(o.default,{width:600,height:600,src:"/assets/icons/logo.svg",alt:"Logo",className:"size-[30px]"}),r.jsx("h1",{children:"Tourvisto"})]}),r.jsx("button",{onClick:t,children:r.jsx(o.default,{src:"/assets/icons/menu.svg",alt:"menu",className:"size-7",width:100,height:100})})]}),r.jsx(h.k,{ref:e,created:()=>e.current?.hide(),closeOnDocumentClick:!0,showBackdrop:!0,type:"Over",width:"270px",children:r.jsx("div",{className:"nav-items",children:r.jsx(u,{handleClick:t})})})]})},g=({children:e})=>{let t=(0,l.useRouter)();return(0,a.useEffect)(()=>{(async()=>{try{let e=await d.JT.get();if(!e?.$id)return t.push("/sign-in");let s=await (0,c.Lo)(e.$id);if(s){if("user"===s.status)return t.push("/");return}await (0,c.cm)()}catch(e){return console.log("Error in client loader",e),t.push("/sign-in")}})()},[t]),(0,r.jsxs)("div",{className:"admin-layout flex",children:[r.jsx(m,{}),r.jsx("aside",{className:"w-full max-w-[270px] hidden lg:block",children:r.jsx(h.k,{width:270,enableGestures:!1,children:r.jsx(u,{})})}),r.jsx("main",{className:"flex-grow p-4",children:e})]})}},3504:(e,t,s)=>{"use strict";s.d(t,{AW:()=>h,Cb:()=>d,Lo:()=>l,TX:()=>u,aC:()=>m,cm:()=>o});var r=s(1997),a=s(4327),i=s(7814),n=s(8393);let l=async e=>{try{let{documents:t,total:s}=await a.Fs.listDocuments(a.qA.databaseId,a.qA.userCollectionId,[r.AE.equal("accountId",e)]);return s>0?t[0]:null}catch(e){return console.error("Error fetching user:",e),null}},o=async()=>{try{let e=await a.JT.get();if(!e)throw Error("User not found");let{providerAccessToken:t}=await a.JT.getSession("current")||{},s=t?await c(t):null;(await a.Fs.createDocument(a.qA.databaseId,a.qA.userCollectionId,r.ID.unique(),{accountId:e.$id,email:e.email,name:e.name,imageUrl:s,joinedAt:new Date().toISOString()})).$id||(0,i.redirect)("/sign-in")}catch(e){console.error("Error storing user data:",e)}},c=async e=>{try{let t=await fetch("https://people.googleapis.com/v1/people/me?personFields=photos",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw Error("Failed to fetch Google profile picture");let{photos:s}=await t.json();return s?.[0]?.url||null}catch(e){return console.error("Error fetching Google picture:",e),null}},d=async()=>{try{a.JT.createOAuth2Session(r.O4.Google,`${window.location.origin}/`,`${window.location.origin}/404`)}catch(e){console.error("Error during OAuth2 session creation:",e)}},u=async()=>{try{await a.JT.deleteSession("current")}catch(e){console.error("Error during logout:",e)}},h=async(e,t)=>{try{let{documents:s,total:i}=await a.Fs.listDocuments(a.qA.databaseId,a.qA.userCollectionId,[r.AE.limit(e),r.AE.offset(t)]);if(0===i)return{users:[],total:i};return{users:s,total:i}}catch(e){return console.log("Error fetching users"),{users:[],total:0}}};function m(){let[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)(!0);return{user:e,loading:s,logout:async()=>{try{await a.JT.deleteSession("current"),t(null)}catch(e){throw console.error("Logout failed:",e),e}}}}},4327:(e,t,s)=>{"use strict";s.d(t,{Fs:()=>l,JT:()=>n,qA:()=>a});var r=s(1997);let a={endpointUrl:"https://fra.cloud.appwrite.io/v1",projectId:"6814b4380013a9b2410d",apiKey:"6814b4380013a9b2410d",databaseId:"6814b52c000b72ebe3de",userCollectionId:"6814b5420024dcd92e84",tripCollectionId:"6814b56000150e453129"},i=new r.KU().setEndpoint(a.endpointUrl).setProject(a.projectId),n=new r.mR(i),l=new r.Lg(i);new r.Ke(i)},873:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var r=s(951),a=s(7814),i=s(490),n=s(5661),l=s(4107),o=s(3504),c=s(8393);function d(){let e=(0,a.usePathname)(),{logout:t}=(0,o.aC)(),s=(0,a.useRouter)(),[d,u]=(0,c.useState)(null),[h,m]=(0,c.useState)(!1),g=async()=>{try{await t(),s.push("/sign-in")}catch(e){console.error("Logout failed:",e)}};return e.startsWith("/sign-in")||e.startsWith("/admin")||e.startsWith("/payment")?null:(0,r.jsxs)("nav",{className:(0,l.cn)(h||e.startsWith("/travel")?"bg-white shadow-gray-100 shadow-md":"glassmorphism","flex py-2 justify-between w-full items-center fixed z-50"),children:[r.jsx("div",{className:"flex items-center space-x-4 ml-10",children:(0,r.jsxs)(i.default,{href:"/",className:"flex items-center space-x-2",children:[r.jsx(n.default,{src:"/assets/icons/logo.svg",alt:"Logo",width:32,height:32,className:"size-8"}),r.jsx("span",{className:"font-semibold text-lg",children:"Tourvisto"})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mr-10",children:[r.jsx(i.default,{href:"/admin",className:(0,l.cn)(h||e.startsWith("/travel")?"text-gray-800":"text-white","font-base font-normal"),children:"Admin Panel"}),r.jsx(i.default,{href:"/",className:(0,l.cn)("text-base font-normal",{"text-white":!h,"text-black":h,"text-dark-100":e.startsWith("/travel")})}),r.jsx(n.default,{src:d?.imageUrl||"/assets/images/david.wepb",alt:"user",referrerPolicy:"no-referrer",width:100,height:100,className:"w-10 h-10 rounded-full overflow-hidden"}),r.jsx("button",{onClick:g,className:"cursor-pointer rounded-full bg-white opacity-70 p-1 transition-all duration-300 hover:opacity-100",children:r.jsx(n.default,{width:100,height:100,src:"/assets/icons/logout.svg",alt:"logout",className:"size-10 rotate-180 transition-all duration-300"})})]})]})}s(4327)},9656:(e,t,s)=>{"use strict";(0,s(5883).GG)("Ngo9BigBOggjHTQxAR8/V1NNaF5cWWJCf1FpRmJGdld5fUVHYVZUTXxaS00DNHVRdkdmWXpednRQQmNdVUdzW0pWYUA=")},4982:(e,t,s)=>{"use strict";s.d(t,{LR:()=>n,a1:()=>i,zG:()=>a});var r=s(4107);let a=[{id:1,icon:"/assets/icons/home.svg",label:"Dashboard",href:"/admin/dashboard"},{id:3,icon:"/assets/icons/users.svg",label:"All Users",href:"/admin/all-users"},{id:4,icon:"/assets/icons/itinerary.svg",label:"AI Trips",href:"/admin/trips"}],i=["groupType","travelStyle","interest","budget"],n={groupType:["Solo","Couple","Family","Friends","Business"],travelStyle:["Relaxed","Luxury","Adventure","Cultural","Nature & Outdoors","City Exploration"],interest:["Food & Culinary","Historical Sites","Hiking & Nature Walks","Beaches & Water Activities","Museums & Art","Nightlife & Bars","Photography Spots","Shopping","Local Experiences"],budget:["Budget","Mid-range","Luxury","Premium"]};(0,r.p6)("2025-01-01"),(0,r.p6)("2025-01-02"),(0,r.p6)("2025-01-03")},4107:(e,t,s)=>{"use strict";s.d(t,{Ew:()=>h,c_:()=>c,cn:()=>l,gr:()=>d,jd:()=>u,p6:()=>o});var r=s(769),a=s(2753),i=s(1244),n=s.n(i);function l(...e){return(0,a.m6)((0,r.W)(e))}let o=e=>n()(e).format("MMMM DD, YYYY");function c(e){try{return JSON.parse(e)}catch(e){return console.error("Failed to parse trip data:",e),null}}function d(e=""){return e.trim().split(/\s+/)[0]||""}let u=(e,t)=>{if(0===t)return 0===e?{trend:"no change",percentage:0}:{trend:"increment",percentage:100};let s=e-t,r=Math.abs(s/t*100);return s>0?{trend:"increment",percentage:r}:s<0?{trend:"decrement",percentage:r}:{trend:"no change",percentage:0}},h=e=>e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())},5595:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(3233).createProxy)(String.raw`C:\Users\Kidus\Desktop\web\nextjs\ai_travel\app\admin\layout.tsx#default`)},9499:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var r=s(7161),a=s(2040),i=s.n(a),n=s(216),l=s.n(n);s(5359);let o=(0,s(3233).createProxy)(String.raw`C:\Users\Kidus\Desktop\web\nextjs\ai_travel\components\Navbar.tsx#default`),c={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:`${i().variable} ${l().variable} antialiased`,children:[r.jsx(o,{}),e]})})}},8330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(2354);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5359:()=>{}};