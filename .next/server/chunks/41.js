"use strict";exports.id=41,exports.ids=[41],exports.modules={2217:(e,t,i)=>{i.d(t,{K:()=>h});var n=i(5883),r=i(7388),o=i(7417),s=i(9603),a=i(442),l=i(680),h=function(){function e(e,t){this.isAsyncPrint=!1,this.defered=new a.B,this.parent=e,this.parent.isDestroyed||(this.parent.on(s.GEE,this.isContentReady(),this),this.actionBeginFunction=this.actionBegin.bind(this),this.parent.addEventListener(s.m2U,this.actionBeginFunction),this.parent.on(s.c$N,this.onEmpty.bind(this)),this.parent.on(s.WV9,this.hierarchyPrint,this),this.scrollModule=t)}return e.prototype.isContentReady=function(){var e=this;return this.isPrintGrid()&&("None"===this.parent.hierarchyPrintMode||!this.parent.childGrid)?this.contentReady:function(){e.defered.promise.then(function(){e.contentReady()}),e.isPrintGrid()&&e.hierarchyPrint()}},e.prototype.hierarchyPrint=function(){this.removeColGroup(this.parent);var e=window.printGridObj;e&&!e.element.querySelector("[aria-busy=true")&&e.printModule.defered.resolve()},e.prototype.print=function(){this.renderPrintGrid()},e.prototype.onEmpty=function(){this.isPrintGrid()&&this.contentReady()},e.prototype.actionBegin=function(){this.isPrintGrid()&&(this.isAsyncPrint=!0)},e.prototype.renderPrintGrid=function(){var e=this.parent,t=(0,n.az)("div",{id:this.parent.element.id+"_print",className:e.element.className+" e-print-grid"});t.classList.remove("e-gridhover"),document.body.appendChild(t);for(var i=new o.rj((0,r.n8)(e,e.hierarchyPrintMode)),a=0;a<i.columns.length;a++)i.columns[parseInt(a.toString(),10)]=(0,n.l7)({},i.columns[parseInt(a.toString(),10)]),!e.getFrozenColumns()&&e.isFrozenGrid()&&(i.columns[parseInt(a.toString(),10)].freeze=void 0);this.parent.isAngular&&(i.viewContainerRef=this.parent.viewContainerRef),i.load=function(){},i.query=e.getQuery().clone(),window.printGridObj=i,i.isPrinting=!0;var l=i.getInjectedModules(),h=e.getInjectedModules();l&&l.length===h.length||i.setInjectedModules(h),e.notify(s.F5K,{element:t,printgrid:i}),this.parent.log("exporting_begin",this.getModuleName()),i.registeredTemplate=this.parent.registeredTemplate,i.isVue=this.parent.isVue,this.parent.isVue&&(i.vueInstance=this.parent.vueInstance),i.printGridParent=e,i.appendTo(t),e.isVue3||(i.trigger=e.trigger)},e.prototype.contentReady=function(){var e=this;if(this.isPrintGrid()){var t=this.parent;if(this.isAsyncPrint){this.printGrid();return}var i={requestType:"print",element:t.element,selectedRows:t.getContentTable().querySelectorAll('tr[aria-selected="true"]'),cancel:!1,hierarchyPrintMode:t.hierarchyPrintMode};if(this.isAsyncPrint||t.trigger(s.lpK,i),i.cancel){(0,n.og)(t.element);return}this.isAsyncPrint||(this.parent.printGridParent&&this.parent.printGridParent.isReact?this.parent.printGridParent.renderTemplates(function(){e.printGrid()}):this.printGrid())}},e.prototype.printGrid=function(){var e=this.parent;if("auto"!==e.height){var t=this.scrollModule.getCssProperties(),i=e.element.querySelector("."+l.kQ),r=e.element.querySelector("."+l.uD);i.style.height="auto",i.style.overflowY="auto",r.style[t.padding]="",r.firstElementChild.style[t.border]=""}e.allowGrouping&&(e.groupSettings.columns.length?this.removeColGroup(e):e.element.querySelector(".e-groupdroparea").style.display="none");for(var o=0,a=[].slice.call(e.element.getElementsByClassName(l.kQ));o<a.length;o++){var h=a[o];h.style.overflowX="hidden"}for(var c=[].slice.call(e.element.getElementsByClassName("e-spin-show")),p=0,d=[].slice.call(c);p<d.length;p++){var h=d[p];(0,n.s1)(h,["e-spin-hide"],["e-spin-show"])}this.printGridElement(e),e.isPrinting=!1,delete window.printGridObj;var u={element:e.element};e.trigger(s.sbd,u),e.destroy(),this.parent.log("exporting_complete",this.getModuleName())},e.prototype.printGridElement=function(e){(0,n.s1)(e.element,["e-print-grid-layout"],["e-print-grid"]),e.isPrinting&&(0,n.og)(e.element),this.printWind=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no"),(0,n.le)(this.printWind)||(this.printWind.moveTo(0,0),this.printWind.resizeTo(screen.availWidth,screen.availHeight),this.printWind=(0,n.S0)(e.element,this.printWind))},e.prototype.removeColGroup=function(e){var t=e.groupSettings.columns.length,i=e.element,r="#"+e.element.id;if(t){for(var o=(0,n.td)(".e-groupcaption",i),s=e.groupSettings.enableLazyLoading?(parseInt(o[0].getAttribute("colspan"),10)-(e.groupSettings.columns.length-1)).toString():o[t-1].getAttribute("colspan"),a=0;a<o.length;a++)o[parseInt(a.toString(),10)].setAttribute("colspan",s);var l=(0,n.td)("colgroup"+r+"colgroup",i),h=(0,n.td)(".e-content colgroup",i),c=(0,n.td)(".e-summarycontent colgroup",i);this.hideColGroup(l,t),this.hideColGroup(h,t),this.hideColGroup(c,t)}},e.prototype.hideColGroup=function(e,t){for(var i=0;i<e.length;i++)for(var n=0;n<t;n++)e[parseInt(i.toString(),10)].children[parseInt(n.toString(),10)].style.display="none"},e.prototype.isPrintGrid=function(){return this.parent.element.id.indexOf("_print")>0&&this.parent.isPrinting},e.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off(s.GEE,this.contentReady.bind(this)),this.parent.removeEventListener(s.m2U,this.actionBeginFunction),this.parent.off(s.c$N,this.onEmpty.bind(this)),this.parent.off(s.WV9,this.hierarchyPrint))},e.prototype.getModuleName=function(){return"print"},e.printGridProp=["aggregates","allowGrouping","allowFiltering","allowMultiSorting","allowReordering","allowSorting","allowTextWrap","childGrid","columns","currentViewData","dataSource","detailTemplate","enableAltRow","enableColumnVirtualization","filterSettings","gridLines","groupSettings","height","locale","pageSettings","printMode","query","queryString","enableRtl","rowHeight","rowTemplate","sortSettings","textWrapSettings","allowPaging","hierarchyPrintMode","searchSettings","queryCellInfo","beforeDataBound","enableHtmlSanitizer"].concat([s.lpK,s.sbd,s.zDl]),e}()},9603:(e,t,i)=>{i.d(t,{$2G:()=>x,$CS:()=>tp,$G9:()=>ep,$If:()=>ev,A2N:()=>eJ,ARY:()=>ef,BZ_:()=>tw,BvZ:()=>y,BzD:()=>eK,C$S:()=>ec,C$p:()=>tY,CCe:()=>$,CMe:()=>el,Cqv:()=>ex,D5g:()=>_,DB7:()=>tm,Ddc:()=>V,EJt:()=>eB,EOz:()=>tV,EQt:()=>ei,EXN:()=>o,Erk:()=>t0,F20:()=>tB,F5K:()=>e$,GEE:()=>Z,GNQ:()=>tn,Gu1:()=>f,HjP:()=>X,Hm1:()=>F,I3$:()=>e1,INB:()=>tl,J9:()=>eo,JEZ:()=>G,JUM:()=>eG,JfJ:()=>C,Jrq:()=>tA,K25:()=>s,KVS:()=>tx,KfI:()=>v,KtC:()=>tM,KtR:()=>b,KuG:()=>eH,L83:()=>tk,LjL:()=>to,MEe:()=>ej,MXM:()=>tI,OJx:()=>w,ONC:()=>eU,OTh:()=>tW,OX0:()=>tE,Od5:()=>p,P26:()=>E,PC4:()=>tb,Pn6:()=>tP,Pxe:()=>tL,Q9R:()=>tQ,QNr:()=>r,R8s:()=>tj,RAh:()=>tR,Rdw:()=>eF,SDA:()=>m,SFv:()=>em,SOw:()=>e0,SR1:()=>eC,T5y:()=>W,TYh:()=>J,Ti1:()=>j,Tku:()=>e2,UYz:()=>tt,Ulz:()=>R,Unn:()=>eO,V4S:()=>ed,VAl:()=>eE,VPT:()=>T,V_9:()=>eD,Vty:()=>h,WOt:()=>tC,WV9:()=>eQ,Wae:()=>ti,XrU:()=>K,XxH:()=>tu,XzU:()=>e9,Y9J:()=>tN,YVH:()=>D,Yp2:()=>tv,Ypq:()=>d,YwE:()=>tD,Zgy:()=>eW,Zjj:()=>en,ZuL:()=>e7,_Gn:()=>t_,aF_:()=>tq,aUU:()=>S,afn:()=>tr,aqZ:()=>tS,bEA:()=>u,bFW:()=>ez,bhi:()=>ea,bs6:()=>tH,bxM:()=>eL,c$N:()=>Q,cIP:()=>et,cOo:()=>ek,cY3:()=>eS,d$w:()=>B,d2u:()=>eN,d6W:()=>er,de3:()=>N,eCZ:()=>tG,eDT:()=>es,eFh:()=>t$,fY0:()=>eI,fhX:()=>z,gaA:()=>eT,hh5:()=>eM,hr2:()=>ts,i8$:()=>l,iLX:()=>ey,ib3:()=>eh,ied:()=>tg,j0B:()=>tF,k2Y:()=>I,k6n:()=>e4,kCr:()=>g,kgh:()=>eY,lhh:()=>P,lpK:()=>k,lvo:()=>tc,lvv:()=>eZ,lwO:()=>te,lxn:()=>ee,m2U:()=>a,mHp:()=>U,mVO:()=>ew,mnQ:()=>e8,mqI:()=>tT,n7v:()=>tO,n_n:()=>ty,nf0:()=>eq,oGC:()=>eA,ob2:()=>eu,oie:()=>e6,p0D:()=>q,qfA:()=>td,r63:()=>tK,ru1:()=>O,rud:()=>c,s0L:()=>tJ,sbd:()=>A,sj6:()=>eg,snV:()=>eV,uW0:()=>tz,un7:()=>th,v4S:()=>eR,vB1:()=>e_,vCA:()=>M,vg7:()=>e5,vxT:()=>Y,wyI:()=>L,xOR:()=>H,xXB:()=>e3,xhl:()=>tU,xx5:()=>tf,yKz:()=>eP,yag:()=>eb,yc9:()=>eX,yzo:()=>tZ,zDl:()=>n,zeS:()=>tX,zhO:()=>ta});var n="load",r="rowDataBound",o="queryCellInfo",s="headerCellInfo",a="actionBegin",l="actionComplete",h="actionFailure",c="dataBound",p="rowSelecting",d="rowSelected",u="rowDeselecting",g="rowDeselected",f="cellSelecting",m="cellSelected",y="cellDeselecting",v="cellDeselected",S="columnSelecting",C="columnSelected",b="columnDeselecting",w="columnDeselected",I="columnDragStart",x="columnDrag",R="columnDrop",k="beforePrint",A="printComplete",T="detailDataBound",E="batchAdd",M="batchCancel",F="batchDelete",D="recordDoubleClick",z="recordClick",L="beforeDataBound",P="beforeOpenAdaptiveDialog",B="resizeStop",O="checkBoxChange",q="beforeCopy",H="beforePaste",N="beforeAutoFill",V="filterchoicerequest",j="filterAfterOpen",_="filterBeforeOpen",G="filterSearchBegin",W="initial-load",K="initial-end",U="data-ready",Z="content-ready",Y="ui-update",Q="on-empty",X="inbound-model-changed",$="model-changed",J="colgroup-refresh",ee="header-refreshed",et="searching-complete",ei="grouping-complete",en="group-aggregates",er="refresh-footer-rendered",eo="refresh-aggregate-cell",es="rowselected",ea="cellselected",el="destroy-autofill-elements",eh="beforecellfocused",ec="cellfocused",ep="key-pressed",ed="click",eu="destroy",eg="column-visible-changed",ef="scroll",em="column-width-changed",ey="column-position-changed",ev="rows-added",eS="rows-removed",eC="column-drag-stop",eb="header-drop",ew="datasource-modified",eI="refresh-complete",ex="dblclick",eR="toolbar-refresh",ek="bulk-save",eA="auto-col",eT="tooltip-destroy",eE="update-data",eM="prevent-batch",eF="crud-Action",eD="add-delete-Action",ez="double-tap",eL="freezerender",eP="filterDialogCreated",eB="filter-menu-close",eO="initForeignKeyColumn",eq="getForeignKeyData",eH="generateQuery",eN="showEmptyGrid",eV="foreignKeyData",ej="dataStateChange",e_="dataSourceChanged",eG="rtl-updated",eW="beforeFragAppend",eK="textWrapRefresh",eU="recordAdded",eZ="cancel-Begin",eY="editNextValCell",eQ="hierarchyprint",eX="expandchildgrid",e$="printGrid-Init",eJ="row-position-changed",e0="partial-refresh",e1="select-virtual-Row",e2="columns-prepared",e9="cbox-filter-begin",e3="cbox-filter-complete",e7="filter-Prevent",e4="filter-cbox-value",e5="restore-Focus",e8="detail-indentcell-info",e6="virtaul-cell-focus",te="virtual-scroll-edit",tt="edit-reset",ti="get-virtual-data",tn="refresh-infinite-mode-blocks",tr="reset-infinite-blocks",to="infinite-scroll-handler",ts="infinite-page-query",ta="infinite-show-hide",tl="append-infinite-content",th="remove-infinite-rows",tc="set-infinite-cache",tp="infinite-edit-handler",td="close-filter-dialog",tu="reset-columns",tg="group-cache",tf="lazy-load-scroll-handler",tm="group-collapse",ty="beforeCheckboxRenderer",tv="refreshResizeHandlers",tS="set-freeze-selection",tC="before-refresh-on-data-change",tb="immutable-batch-cancel",tw="check-scroll-reset",tI="prevent-frozen-scroll-refresh",tx="refresh-infinite-current-view-data",tR="filter-dialog-close",tk="refresh-cutsom-filter-ok-button",tA="refresh-cutsom-filter-clear-button",tT="render-responsive-cmenu",tE="filter-cmenu-select",tM="custom-filter-close",tF="set-fullscreen-dialog",tD="refresh-Expand-and-Collapse",tz="row-mode-change",tL="enter-key-handler",tP="set-virtual-page-query",tB="close-edit",tO="reset-virtual-focus",tq="before-checkbox-renderer-query",tH="destroy-child-grid",tN="sticky-scroll-complete",tV="refresh-infinite-persist-selection",tj="after-filter-column-menu-close",t_="beforeCheckboxfilterRenderer",tG="commandColumnDestroy",tW="cancelcnfrmDlg",tK="refresh-Frozen-Position",tU="refresh-Resize-Position",tZ="refresh-Split-Frozen-Column",tY="render-Responsive-Change-Action",tQ="render-Responsive-Column-Chooser-Div",tX="show-Add-New-Row-Focus",t$="last-rowcell-border-updated",tJ="destroy-edit-form",t0="detach-detail-template"},7417:(e,t,i)=>{i.d(t,{rj:()=>iR});var n,r,o,s,a,l,h,c,p,d,u,g,f,m,y=i(5883),v=i(442),S=i(3831),C=i(5395),b=i(3192),w=i(6547),I=i(3636),x=i(3419),R=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),k=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},A="e-tooltip",T="e-rtl",E="e-icons",M="e-tooltip-close",F="e-tooltip-wrap",D="e-tip-content",z="e-arrow-tip",L="e-arrow-tip-outer",P="e-arrow-tip-inner",B="e-tip-bottom",O="e-tip-top",q="e-tip-left",H="e-tip-right",N="e-popup",V="e-popup-open",j="e-popup-close",_="e-lib",G="e-tooltip-popup-container",W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),k([(0,y.Z9)({effect:"FadeIn",duration:150,delay:0})],t.prototype,"open",void 0),k([(0,y.Z9)({effect:"FadeOut",duration:150,delay:0})],t.prototype,"close",void 0),t}(y.rt),K=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.mouseMoveEvent=null,n.mouseMoveTarget=null,n.containerElement=null,n.isBodyContainer=!0,n}return R(t,e),t.prototype.initialize=function(){this.formatPosition(),(0,y.cn)([this.element],A)},t.prototype.formatPosition=function(){var e,t;this.position&&(0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1]))},t.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:z+" "+this.tipClass});e.appendChild(this.createElement("div",{className:L+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:P+" "+this.tipClass})),this.tooltipEle.appendChild(e)},t.prototype.setTipClass=function(e){0===e.indexOf("Right")?this.tipClass=q:0===e.indexOf("Bottom")?this.tipClass=O:0===e.indexOf("Left")?this.tipClass=H:this.tipClass=B},t.prototype.renderPopup=function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(_),this.popupObj=new w.GI(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},t.prototype.getScalingFactor=function(e){if(!e)return{x:1,y:1};var t={x:1,y:1},i=e.closest('[style*="transform: scale"]');if(i&&i!==this.tooltipEle&&i.contains(this.tooltipEle)){var n=window.getComputedStyle(i).getPropertyValue("transform").match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);t.x=n[0],t.y=n[3]}return t},t.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var t=this.element.closest('[style*="zoom"]');t&&!t.contains(this.tooltipEle)&&(this.tooltipEle.style.zoom=getComputedStyle(t).zoom);var i=(0,I.k)(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),n=this.getScalingFactor(e),r=this.calculateTooltipOffset(this.position,n.x,n.y),o=this.calculateElementPosition(i,r),s=o[0],a=o[1],l=this.collisionFlipFit(e,s,a);return l.left=l.left/n.x,l.top=l.top/n.y,this.tooltipEle.style.display="",l},t.prototype.windowResize=function(){this.reposition(this.findTarget())},t.prototype.reposition=function(e){if(this.popupObj&&e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}},t.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},t.prototype.closePopupHandler=function(){this.isReact&&!("Click"===this.opensOn||"function"==typeof this.content)&&this.clearTemplate(["content"]),this.clear();var e={type:this.tooltipEventArgs.event?this.tooltipEventArgs.event.type:null,cancel:!1,target:this.tooltipEventArgs.target,event:this.tooltipEventArgs.event?this.tooltipEventArgs.event:null,element:this.tooltipEle,isInteracted:!(0,y.le)(this.tooltipEventArgs.event)};this.trigger("afterClose",e)},t.prototype.calculateTooltipOffset=function(e,t,i){void 0===t&&(t=1),void 0===i&&(i=1);var n,r,o,s,a,l,h,c,p={top:0,left:0};if(1!==t||1!==i){var d=this.tooltipEle.getBoundingClientRect(),u=void 0;o=Math.round(d.width),s=Math.round(d.height),(a=(0,y.Ys)("."+z,this.tooltipEle))&&(u=a.getBoundingClientRect()),n=a?Math.round(u.width):0,r=a?Math.round(u.height):0,l=this.showTipPointer?0:8,h=r/2+2+(s-this.tooltipEle.clientHeight*i),c=n/2+2+(o-this.tooltipEle.clientWidth*t)}else o=this.tooltipEle.offsetWidth,s=this.tooltipEle.offsetHeight,n=(a=(0,y.Ys)("."+z,this.tooltipEle))?a.offsetWidth:0,r=a?a.offsetHeight:0,l=this.showTipPointer?0:8,h=r/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),c=n/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(l+=2),e){case"RightTop":p.left+=n+l,p.top-=s-h;break;case"RightCenter":p.left+=n+l,p.top-=s/2;break;case"RightBottom":p.left+=n+l,p.top-=h;break;case"BottomRight":p.top+=r+l,p.left-=c;break;case"BottomCenter":p.top+=r+l,p.left-=o/2;break;case"BottomLeft":p.top+=r+l,p.left-=o-c;break;case"LeftBottom":p.left-=n+o+l,p.top-=h;break;case"LeftCenter":p.left-=n+o+l,p.top-=s/2;break;case"LeftTop":p.left-=n+o+l,p.top-=s-h;break;case"TopLeft":p.top-=s+r+l,p.left-=o-c;break;case"TopRight":p.top-=s+r+l,p.left-=c;break;default:p.top-=s+r+l,p.left-=o/2}return p.left+=this.offsetX,p.top+=this.offsetY,p},t.prototype.updateTipPosition=function(e){var t=(0,y.td)("."+z+",."+L+",."+P,this.tooltipEle),i=[B,O,q,H];(0,y.IV)(t,i),this.setTipClass(e),(0,y.cn)(t,this.tipClass)},t.prototype.adjustArrow=function(e,t,i,n){var r,o,s=(0,y.Ys)("."+z,this.tooltipEle);if(!1!==this.showTipPointer&&null!==s){this.updateTipPosition(t),this.tooltipEle.style.display="block";var a=this.tooltipEle.clientWidth,l=this.tooltipEle.clientHeight,h=(0,y.Ys)("."+P,this.tooltipEle),c=s.offsetWidth,p=s.offsetHeight;if(this.tooltipEle.style.display="",this.tipClass===B||this.tipClass===O){if(this.tipClass===B?(o="99.9%",h.style.top="-"+(p-2)+"px"):(o=-(p-1)+"px",h.style.top="-"+(p-6)+"px"),e){var d="Center"!==i||a>e.offsetWidth||this.mouseTrail;r=d&&"Left"===i||!d&&"End"===this.tipPointerPosition?a-c-2+"px":d&&"Right"===i||!d&&"Start"===this.tipPointerPosition?"2px":d&&("End"===this.tipPointerPosition||"Start"===this.tipPointerPosition)?"End"===this.tipPointerPosition?e.offsetWidth+(this.tooltipEle.offsetWidth-e.offsetWidth)/2-c/2-2+"px":(this.tooltipEle.offsetWidth-e.offsetWidth)/2-c/2+2+"px":a/2-c/2+"px"}}else{this.tipClass===H?(r="99.9%",h.style.left="-"+(c-2)+"px"):(r=-(c-1)+"px",h.style.left=-c+(c-2)+"px");var d="Center"!==n||l>e.offsetHeight||this.mouseTrail;o=d&&"Top"===n||!d&&"End"===this.tipPointerPosition?l-p-2+"px":d&&"Bottom"===n||!d&&"Start"===this.tipPointerPosition?"2px":l/2-p/2+"px"}s.style.top=o,s.style.left=r}},t.prototype.renderContent=function(e){var t=this,i=(0,y.Ys)("."+D,this.tooltipEle);if(this.cssClass&&(0,y.cn)([this.tooltipEle],this.cssClass.split(" ")),e&&!(0,y.le)(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),(0,y.le)(this.content))e&&!(0,y.le)(e.getAttribute("data-content"))&&(i.innerHTML=e.getAttribute("data-content"));else if(i.innerHTML="",this.content instanceof HTMLElement)i.appendChild(this.content);else if("string"==typeof this.content){if(this.isAngular?this.setProperties({content:y.pJ.sanitize(this.content)},!0):this.content=this.enableHtmlSanitizer?y.pJ.sanitize(this.content):this.content,this.enableHtmlParse){var n=(0,y.MY)(this.content)({},this,"content",this.element.id+"content",void 0,void 0,i,this.root);n&&(0,y.R3)(n,i)}else i.textContent=this.content}else{var n=(0,y.MY)(this.content)({},this,"content",this.element.id+"content",void 0,void 0,i);n&&(this.isAngular&&setTimeout(function(){t.reposition(e)},1),(0,y.R3)(n,i)),this.renderReactTemplates()}},t.prototype.renderCloseIcon=function(){if(!this.isSticky){var e=this.tooltipEle.querySelector("."+E+"."+M);e&&(0,y.Od)(e);return}var t=this.createElement("div",{className:E+" "+M,attrs:{role:"button","aria-label":"Press escape to close the Tooltip"}});this.tooltipEle.appendChild(t),y.bi.add(t,y.AR.touchStartEvent,this.onStickyClose,this)},t.prototype.addDescribedBy=function(e,t){var i=(e.getAttribute("aria-describedby")||"").split(/\s+/);0>i.indexOf(t)&&i.push(t),(0,y.Y4)(e,{"aria-describedby":i.join(" ").trim(),"data-tooltip-id":t})},t.prototype.removeDescribedBy=function(e){var t=e.getAttribute("data-tooltip-id"),i=(e.getAttribute("aria-describedby")||"").split(/\s+/),n=i.indexOf(t);-1!==n&&i.splice(n,1),e.removeAttribute("data-tooltip-id");var r=i.join(" ").trim();r?e.setAttribute("aria-describedby",r):e.removeAttribute("aria-describedby")},t.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},t.prototype.touchEndHandler=function(){var e=this;this.isSticky||(this.autoCloseTimer=setTimeout(function(){e.close()},1500))},t.prototype.targetClick=function(e){var t;t=this.target?(0,y.oq)(e.target,this.target):this.element,!(0,y.le)(t)&&(null===t.getAttribute("data-tooltip-id")?"mousedown"===e.type&&2===e.button||this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))},t.prototype.targetHover=function(e){if(t=this.target?(0,y.oq)(e.target,this.target):this.element,!(0,y.le)(t)&&(null===t.getAttribute("data-tooltip-id")||0!==this.closeDelay)){!(0,y.le)(this.tooltipEle)&&this.tooltipEle.getAttribute("e-animation-id")&&(y.fw.stop(this.tooltipEle),this.clear());for(var t,i=[].slice.call((0,y.td)('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)),n=0;n<i.length;n++){var r=i[n];this.restoreElement(r)}this.showTooltip(t,this.animation.open,e)}},t.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},t.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&y.bi.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},t.prototype.showTooltip=function(e,t,i){var n=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,y.bi.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:i?i.type:null,cancel:!1,target:e,event:i||null,element:this.tooltipEle,isInteracted:!(0,y.le)(i)},this.trigger("beforeRender",this.tooltipEventArgs,(function(r){n.beforeRenderCallback(r,e,i,t)}).bind(this))},t.prototype.beforeRenderCallback=function(e,t,i,n){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,(0,y.le)(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?(0,y.QI)(this.element.getAttribute("id")):(0,y.QI)("tooltip"),this.tooltipEle=this.createElement("div",{className:F+" "+N+" "+_,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"}}),this.tooltipEle.style.width=(0,y.Ac)(this.width),this.tooltipEle.style.height=(0,y.Ac)(this.height),this.tooltipEle.style.position="absolute",this.tooltipBeforeRender(t,this),this.tooltipAfterRender(t,i,n,this)):t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),y.fw.stop(this.tooltipEle),this.reposition(t),this.tooltipAfterRender(t,i,n,this)))},t.prototype.appendContainer=function(e){"string"==typeof this.container?"body"===this.container?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=(0,y.Ys)(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer="BODY"===this.containerElement.tagName),this.isBodyContainer||(0,y.cn)([this.containerElement],G),this.containerElement.appendChild(e.tooltipEle)},t.prototype.tooltipBeforeRender=function(e,t){e&&(y.AR.isDevice&&(0,y.cn)([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=(0,y.Ac)(t.width)),t.tooltipEle.appendChild(t.createElement("div",{className:D})),this.appendContainer(t),(0,y.IV)([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),(0,y.cn)([t.tooltipEle],V),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),y.fw.stop(t.tooltipEle),t.reposition(e))},t.prototype.tooltipAfterRender=function(e,t,i,n){e&&((0,y.IV)([n.tooltipEle],V),(0,y.cn)([n.tooltipEle],j),n.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:n.tooltipEle,isInteracted:!(0,y.le)(t)},n.needTemplateReposition()&&!n.mouseTrail&&("None"===i.effect||"FadeIn"===i.effect||this.isReact&&"string"!=typeof n.content)&&(n.tooltipEle.style.display="none"),n.trigger("beforeOpen",n.tooltipEventArgs,(function(r){n.beforeOpenCallback(r,e,i,t)}).bind(n)))},t.prototype.beforeOpenCallback=function(e,t,i,n){var r=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(t);else{var o={name:"None"===i.effect&&"Enable"===y.ti?"FadeIn":this.animation.open.effect,duration:i.duration,delay:i.delay,timingFunction:"easeOut"};"None"===i.effect&&(o=void 0),this.openDelay>0?this.showTimer=setTimeout(function(){r.mouseTrail&&y.bi.add(t,"mousemove touchstart mouseenter",r.onMouseMove,r),r.popupObj&&(r.popupObj.show(o,t),r.mouseMoveEvent&&r.mouseTrail&&r.onMouseMove(r.mouseMoveEvent))},this.openDelay):this.popupObj&&this.popupObj.show(o,t)}n&&this.wireMouseEvents(n,t)},t.prototype.needTemplateReposition=function(){return!(0,y.le)(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef||this.isReact},t.prototype.checkCollision=function(e,t,i){var n={left:t,top:i,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},r=(0,x.vF)(this.tooltipEle,this.checkCollideTarget(),t,i);return r.length>0&&(n.horizontal=r.indexOf("left")>=0?"Right":r.indexOf("right")>=0?"Left":this.tooltipPositionX,n.vertical=r.indexOf("top")>=0?"Bottom":r.indexOf("bottom")>=0?"Top":this.tooltipPositionY),n},t.prototype.calculateElementPosition=function(e,t){return[this.isBodyContainer?e.left+t.left:e.left-this.containerElement.getBoundingClientRect().left+t.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+t.top:e.top-this.containerElement.getBoundingClientRect().top+t.top+window.pageYOffset+this.containerElement.scrollTop]},t.prototype.collisionFlipFit=function(e,t,i){var n=this.checkCollision(e,t,i),r=n.position;if(this.tooltipPositionY!==n.vertical&&(r=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?n.vertical+this.tooltipPositionX:this.tooltipPositionX+n.vertical),this.tooltipPositionX!==n.horizontal&&(0===r.indexOf("Left")&&(n.vertical="LeftTop"===r||"LeftCenter"===r?"Top":"Bottom",r=n.vertical+"Left"),0===r.indexOf("Right")&&(n.vertical="RightTop"===r||"RightCenter"===r?"Top":"Bottom",r=n.vertical+"Right"),n.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:r},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)r=this.position;else{var o=n.vertical,s=n.horizontal;if(n.position!==r){var a=(0,I.k)(e,s,o,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,r,s,o);var l=this.getScalingFactor(e),h=this.calculateTooltipOffset(r,l.x,l.y);h.top-=this.getOffSetPosition("TopBottom",r,this.offsetY),h.left-=this.getOffSetPosition("RightLeft",r,this.offsetX),n.position=r;var c=this.calculateElementPosition(a,h);n.left=c[0],n.top=c[1]}else this.adjustArrow(e,r,s,o)}var p={left:n.left,top:n.top},d=this.isBodyContainer?(0,x.Tj)(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},p):p;this.tooltipEle.style.display="block";var u=(0,y.Ys)("."+z,this.tooltipEle);if(this.showTipPointer&&null!=u&&(0===r.indexOf("Bottom")||0===r.indexOf("Top"))){var g=parseInt(u.style.left,10)-(d.left-n.left);g<0?g=0:g+u.offsetWidth>this.tooltipEle.clientWidth&&(g=this.tooltipEle.clientWidth-u.offsetWidth),u.style.left=g.toString()+"px"}return this.tooltipEle.style.display="",p.left=d.left,p.top=d.top,p},t.prototype.getOffSetPosition=function(e,t,i){return -1!==e.indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!==e.indexOf(t.split(/(?=[A-Z])/)[0])?2*i:0},t.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},t.prototype.hideTooltip=function(e,t,i){var n=this;this.closeDelay>0?(clearTimeout(this.hideTimer),clearTimeout(this.showTimer),this.hideTimer=setTimeout(function(){n.closeDelay&&n.tooltipEle&&n.isTooltipOpen||n.tooltipHide(e,t,i)},this.closeDelay)):this.tooltipHide(e,t,i)},t.prototype.tooltipHide=function(e,t,i){var n,r=this;n=t?this.target?i||t.target:this.element:(0,y.Ys)('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:n,event:t||null,element:this.tooltipEle,isInteracted:!(0,y.le)(t)},this.trigger("beforeClose",this.tooltipEventArgs,function(i){i.cancel?r.isHidden=!1:(r.mouseMoveBeforeRemove(),r.popupHide(e,n,t))})},t.prototype.popupHide=function(e,t,i){t&&i&&this.restoreElement(t),this.isHidden=!0;var n={name:"None"===e.effect&&"Enable"===y.ti?"FadeOut":this.animation.close.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(n=void 0),this.popupObj&&this.popupObj.hide(n)},t.prototype.restoreElement=function(e){this.unwireMouseEvents(e),(0,y.le)(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},t.prototype.clear=function(){var e=this.findTarget();e&&this.restoreElement(e),this.tooltipEle&&((0,y.IV)([this.tooltipEle],j),(0,y.cn)([this.tooltipEle],V)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&(0,y.Od)(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},t.prototype.tooltipHover=function(){this.tooltipEle&&(this.isTooltipOpen=!0)},t.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},t.prototype.onMouseOut=function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var i=(0,y.oq)(t,"."+F+"."+_+"."+N);i?y.bi.add(i,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&("None"===this.animation.close.effect||this.isReact&&"string"!=typeof this.content)&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear();this.popupObj&&!this.popupObj.element.classList.contains(V)&&this.clear()},t.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),y.bi.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},t.prototype.onStickyClose=function(){this.close()},t.prototype.onMouseMove=function(e){var t=0,i=0;if(e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,i=e.touches[0].pageY):(t=e.pageX,i=e.pageY),!(0,y.le)(this.tooltipEle)){y.fw.stop(this.tooltipEle),(0,y.IV)([this.tooltipEle],j),(0,y.cn)([this.tooltipEle],V),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var n=this.getScalingFactor(e.target),r=this.calculateTooltipOffset(this.position,n.x,n.y),o=t+r.left+this.offsetX,s=i+r.top+this.offsetY,a=this.checkCollision(e.target,o,s);if(this.tooltipPositionX!==a.horizontal||this.tooltipPositionY!==a.vertical){var l=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?a.vertical+a.horizontal:a.horizontal+a.vertical;a.position=l,this.adjustArrow(e.target,a.position,a.horizontal,a.vertical);var h=this.calculateTooltipOffset(a.position,n.x,n.y);a.left=t+h.left-this.offsetX,a.top=i+h.top-this.offsetY}this.tooltipEle.style.left=a.left+"px",this.tooltipEle.style.top=a.top+"px"}},t.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},t.prototype.touchEnd=function(e){this.tooltipEle&&null===(0,y.oq)(e.target,"."+A)&&!this.isSticky&&this.close()},t.prototype.scrollHandler=function(e){!this.tooltipEle||this.isSticky||(0,y.oq)(e.target,"."+F+"."+_+"."+N)||this.isSticky||this.close()},t.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},t.prototype.preRender=function(){this.tipClass=B,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},t.prototype.wireEvents=function(e){for(var t=this.getTriggerList(e),i=0;i<t.length;i++){var n=t[i];if("Custom"===n)return;"Focus"===n&&this.wireFocusEvents(),"Click"===n&&y.bi.add(this.element,y.AR.touchStartEvent,this.targetClick,this),"Hover"===n&&(y.AR.isDevice?(this.touchModule=new y.Xh(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),y.bi.add(this.element,y.AR.touchEndEvent,this.touchEndHandler,this)):y.bi.add(this.element,"mouseover",this.targetHover,this))}this.windowResizeBound=this.windowResize.bind(this),this.keyDownBound=this.keyDown.bind(this),this.touchEndBound=this.touchEnd.bind(this),this.scrollWheelBound=this.scrollHandler.bind(this),document.addEventListener("wheel",this.scrollWheelBound),document.addEventListener("scroll",this.scrollWheelBound),document.addEventListener("touchend",this.touchEndBound),document.addEventListener("keydown",this.keyDownBound),window.addEventListener("resize",this.windowResizeBound)},t.prototype.getTriggerList=function(e){return e?("Auto"===e&&(e=y.AR.isDevice?"Hover":"Hover Focus"),e.split(" ")):[]},t.prototype.wireFocusEvents=function(){if((0,y.le)(this.target))y.bi.add(this.element,"focusin",this.targetHover,this);else{var e=[].slice.call((0,y.td)(this.target,this.element));if(this.targetsList=e,!(0,y.le)(this.targetsList)&&this.targetsList.length>0)for(var t=0;t<e.length;t++){var i=e[t];y.bi.add(i,"focus",this.targetHover,this)}else y.bi.add(this.element,"focusin",this.targetHover,this)}},t.prototype.wireMouseEvents=function(e,t){this.tooltipEle&&(!this.isSticky&&("focus"===e.type&&y.bi.add(t,"blur",this.onMouseOut,this),"focusin"===e.type&&y.bi.add(t,"focusout",this.onMouseOut,this),"mouseover"===e.type&&y.bi.add(t,"mouseleave",this.onMouseOut,this),this.closeDelay&&(y.bi.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),y.bi.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&y.bi.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},t.prototype.unwireEvents=function(e){for(var t=this.getTriggerList(e),i=0;i<t.length;i++){var n=t[i];if("Custom"===n)return;"Focus"===n&&this.unwireFocusEvents(),"Click"===n&&y.bi.remove(this.element,y.AR.touchStartEvent,this.targetClick),"Hover"===n&&(y.AR.isDevice?(this.touchModule&&this.touchModule.destroy(),y.bi.remove(this.element,y.AR.touchEndEvent,this.touchEndHandler)):y.bi.remove(this.element,"mouseover",this.targetHover))}document.removeEventListener("touchend",this.touchEndBound),this.touchEndBound=null,document.removeEventListener("wheel",this.scrollWheelBound),document.removeEventListener("scroll",this.scrollWheelBound),this.scrollWheelBound=null,window.removeEventListener("resize",this.windowResizeBound),this.windowResizeBound=null,document.removeEventListener("keydown",this.keyDownBound),this.keyDownBound=null},t.prototype.unwireFocusEvents=function(){if((0,y.le)(this.target))y.bi.remove(this.element,"focusin",this.targetHover);else{var e=[].slice.call((0,y.td)(this.target,this.element));if(!(0,y.le)(this.targetsList)&&this.targetsList.length>0)for(var t=0;t<e.length;t++){var i=e[t];y.bi.remove(i,"focus",this.targetHover)}else y.bi.remove(this.element,"focusin",this.targetHover)}},t.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var t=this.getTriggerList(this.opensOn),i=0;i<t.length;i++){var n=t[i];"Focus"===n&&(y.bi.remove(e,"blur",this.onMouseOut),y.bi.remove(e,"focusout",this.onMouseOut)),"Hover"!==n||y.AR.isDevice||y.bi.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(y.bi.remove(e,"mouseenter",this.tooltipHover),y.bi.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&y.bi.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},t.prototype.findTarget=function(){return(0,y.Ys)('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)},t.prototype.getModuleName=function(){return"tooltip"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.onPropertyChanged=function(e,t){for(var i=this.findTarget(),n=0,r=Object.keys(e);n<r.length;n++)switch(r[n]){case"width":this.tooltipEle&&i&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=(0,y.Ac)(e.width),this.reposition(i));break;case"height":this.tooltipEle&&i&&(this.tooltipEle.style.height=(0,y.Ac)(e.height),this.reposition(i));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&i){var o=(0,y.Ys)("."+P,this.tooltipEle);o&&(o.style.top=o.style.left=null),this.reposition(i)}break;case"tipPointerPosition":this.tooltipEle&&i&&this.reposition(i);break;case"offsetX":if(this.tooltipEle){var s=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+s).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var a=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+a).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&(0,y.IV)([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&(0,y.cn)([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?(0,y.cn)([this.tooltipEle],T):(0,y.IV)([this.tooltipEle],T));break;case"isSticky":this.tooltipEle&&i&&(this.renderCloseIcon(),this.reposition(i));break;case"container":(0,y.le)(this.containerElement)||(0,y.IV)([this.containerElement],G),this.container=e.container,this.tooltipEle&&i&&(this.appendContainer(this),this.reposition(i))}},t.prototype.open=function(e,t){(0,y.le)(t)&&(t=this.animation.open),(0,y.le)(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)},t.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},t.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e),(0,y.le)(this.targetsList)||(0,y.le)(this.target)||(0,y.td)(this.target,this.element).length===this.targetsList.length||(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltipEle&&(0,y.Od)(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),(0,x.ob)(),(0,y.IV)([this.element],A),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var t=(0,y.td)('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element),i=0;i<t.length;i++){var n=t[i];this.restoreElement(n)}this.containerElement=null,this.tipClass=null,this.tooltipPositionX=null,this.tooltipPositionY=null,this.ctrlId=null,this.tooltipEventArgs=null,this.touchModule=null,this.mouseMoveEvent=null,this.mouseMoveTarget=null,this.containerElement=null,this.targetsList=null},k([(0,y.Z9)("auto")],t.prototype,"width",void 0),k([(0,y.Z9)("auto")],t.prototype,"height",void 0),k([(0,y.Z9)()],t.prototype,"content",void 0),k([(0,y.Z9)("body")],t.prototype,"container",void 0),k([(0,y.Z9)()],t.prototype,"target",void 0),k([(0,y.Z9)("TopCenter")],t.prototype,"position",void 0),k([(0,y.Z9)(0)],t.prototype,"offsetX",void 0),k([(0,y.Z9)(0)],t.prototype,"offsetY",void 0),k([(0,y.Z9)(!0)],t.prototype,"showTipPointer",void 0),k([(0,y.Z9)(!0)],t.prototype,"enableHtmlParse",void 0),k([(0,y.Z9)(!1)],t.prototype,"windowCollision",void 0),k([(0,y.Z9)("Auto")],t.prototype,"tipPointerPosition",void 0),k([(0,y.Z9)("Auto")],t.prototype,"opensOn",void 0),k([(0,y.Z9)(!1)],t.prototype,"mouseTrail",void 0),k([(0,y.Z9)(!1)],t.prototype,"isSticky",void 0),k([(0,y.Zz)({},W)],t.prototype,"animation",void 0),k([(0,y.Z9)(0)],t.prototype,"openDelay",void 0),k([(0,y.Z9)(0)],t.prototype,"closeDelay",void 0),k([(0,y.Z9)()],t.prototype,"cssClass",void 0),k([(0,y.Z9)(!0)],t.prototype,"enableHtmlSanitizer",void 0),k([(0,y.Z9)("")],t.prototype,"htmlAttributes",void 0),k([(0,y.ju)()],t.prototype,"beforeRender",void 0),k([(0,y.ju)()],t.prototype,"beforeOpen",void 0),k([(0,y.ju)()],t.prototype,"afterOpen",void 0),k([(0,y.ju)()],t.prototype,"beforeClose",void 0),k([(0,y.ju)()],t.prototype,"afterClose",void 0),k([(0,y.ju)()],t.prototype,"beforeCollision",void 0),k([(0,y.ju)()],t.prototype,"created",void 0),k([(0,y.ju)()],t.prototype,"destroyed",void 0),t=k([y.Zl],t)}(y.wA),U=i(7388),Z=i(9603),Y=i(5287),Q=i(1464);(function(e){e[e.Data=0]="Data",e[e.Header=1]="Header",e[e.Summary=2]="Summary",e[e.GroupSummary=3]="GroupSummary",e[e.CaptionSummary=4]="CaptionSummary",e[e.Filter=5]="Filter",e[e.Indent=6]="Indent",e[e.GroupCaption=7]="GroupCaption",e[e.GroupCaptionEmpty=8]="GroupCaptionEmpty",e[e.Expand=9]="Expand",e[e.HeaderIndent=10]="HeaderIndent",e[e.StackedHeader=11]="StackedHeader",e[e.DetailHeader=12]="DetailHeader",e[e.DetailExpand=13]="DetailExpand",e[e.CommandColumn=14]="CommandColumn",e[e.DetailFooterIntent=15]="DetailFooterIntent",e[e.RowDragIcon=16]="RowDragIcon",e[e.RowDragHIcon=17]="RowDragHIcon"})(n||(n={})),function(e){e[e.Header=0]="Header",e[e.Content=1]="Content",e[e.Summary=2]="Summary"}(r||(r={})),function(e){e[e.Add=0]="Add",e[e.Edit=1]="Edit",e[e.Update=2]="Update",e[e.Delete=3]="Delete",e[e.Cancel=4]="Cancel",e[e.Print=5]="Print",e[e.Search=6]="Search",e[e.ColumnChooser=7]="ColumnChooser",e[e.PdfExport=8]="PdfExport",e[e.ExcelExport=9]="ExcelExport",e[e.CsvExport=10]="CsvExport",e[e.WordExport=11]="WordExport"}(o||(o={})),function(e){e[e.isEdit=0]="isEdit",e[e.isAdd=1]="isAdd",e[e.isSort=2]="isSort",e[e.isFilter=3]="isFilter",e[e.isColMenu=4]="isColMenu",e[e.isColumnChooser=5]="isColumnChooser"}(s||(s={})),function(e){e[e.isInitial=0]="isInitial",e[e.isSearch=1]="isSearch"}(a||(a={}));var X=i(7291),$=i(4599),J=["north-west","north","north-east","west","east","south-west","south","south-east"],ee="e-resize-handle",et="e-focused-handle",ei=["e-restrict-left"],en="e-resize-viewport",er=["north","west","east","south"],eo=0,es=0,ea=0,el=0,eh=0,ec=0,ep=null,ed=null,eu=null,eg=!0,ef=0,em=!0;function ey(e){var t;return(0,y.le)(e)||(t="string"==typeof e?document.querySelector(e):e),t}function ev(e){for(var t=e||this,i=l.querySelectorAll("."+ee),n=0;n<i.length;n++){h=i[n],y.bi.add(h,"mousedown",eC,t);var r="msie"===y.AR.info.name?"pointerdown":"touchstart";y.bi.add(h,r,eI,t)}var o=l.querySelectorAll(".e-dialog-border-resize");if(!(0,y.le)(o))for(var n=0;n<o.length;n++){h=o[n],y.bi.add(h,"mousedown",eC,t);var r="msie"===y.AR.info.name?"pointerdown":"touchstart";y.bi.add(h,r,eI,t)}}function eS(e){return e.indexOf("mouse")>-1?"mouse":"touch"}function eC(e){if(e.preventDefault(),l=e.target.parentElement,ew(),eh=e.pageX,ec=e.pageY,e.target.classList.add(et),(0,y.le)(ep)||!0!==ep(e,this)){this.targetEle&&l&&l.querySelector(".e-dlg-resizable")&&(g="body"===this.target?null:this.targetEle,u=this.targetEle.clientWidth,p=this.targetEle.clientHeight);var t=(0,y.le)(g)?document:g;y.bi.add(t,"mousemove",ex,this),y.bi.add(document,"mouseup",eb,this);for(var i=0;i<ei.length;i++)eg=!l.classList.contains(ei[i])}}function eb(e){var t="msie"===y.AR.info.name?"pointermove":"touchmove",i="msie"===y.AR.info.name?"pointerup":"touchend",n=(0,y.le)(g)?document:g,r="msie"===y.AR.info.name?"pointerdown":"touchstart";y.bi.remove(n,"mousemove",ex),y.bi.remove(n,t,ex),y.bi.remove(n,r,ex),(0,y.le)(document.body.querySelector("."+et))||document.body.querySelector("."+et).classList.remove(et),(0,y.le)(eu)||eu(e,this),y.bi.remove(document,"mouseup",eb),y.bi.remove(document,i,eb)}function ew(){eo=parseFloat(getComputedStyle(l,null).getPropertyValue("width").replace("px","")),es=parseFloat(getComputedStyle(l,null).getPropertyValue("height").replace("px","")),ea=l.getBoundingClientRect().left,el=l.getBoundingClientRect().top}function eI(e){l=e.target.parentElement,ew();var t=l.classList.contains("e-dialog");(e.target.classList.contains(ee)||e.target.classList.contains("e-dialog-border-resize"))&&t&&e.target.classList.add(et);var i=e.touches?e.changedTouches[0]:e;if(eh=i.pageX,ec=i.pageY,(0,y.le)(ep)||!0!==ep(e,this)){var n="msie"===y.AR.info.name?"pointermove":"touchmove",r="msie"===y.AR.info.name?"pointerup":"touchend",o=(0,y.le)(g)?document:g;y.bi.add(o,n,ex,this),y.bi.add(document,r,eb,this)}}function ex(e){if(e.target.classList.contains(ee)&&e.target.classList.contains(et)?h=e.target:(0,y.le)(document.body.querySelector("."+et))||(h=document.body.querySelector("."+et)),!(0,y.le)(h)){for(var t="",i=0;i<J.length;i++)h.classList.contains("e-"+J[i])&&(t=J[i]);switch((0,y.le)(ed)||ed(e,this),t){case"south":ek(e);break;case"north":eA(e);break;case"west":eT(e);break;case"east":eE(e);break;case"south-east":ek(e),eE(e);break;case"south-west":ek(e),eT(e);break;case"north-east":eA(e),eE(e);break;case"north-west":eA(e),eT(e)}}}function eR(e){return e.getBoundingClientRect()}function ek(e){var t,i=document.documentElement.clientHeight,n=!1,r=(e.touches?e.changedTouches[0]:e).pageY,o=eR(l);(0,y.le)(g)||(t=eR(g)),(0,y.le)(g)?(0,y.le)(g)&&(i-r>=0||o.top<0)&&(n=!0):n=!0;var s=es+(r-ec);s=s>c?s:c;var a=0;(0,y.le)(g)||(a=t.top);var h=(0,y.le)(g)?0:g.offsetHeight-g.clientHeight,d=o.top-a-h/2;if(d=d<0?0:d,o.top>0&&d+s>p){if(n=!1,l.classList.contains(en))return;l.style.height=p-parseInt(d.toString(),10)+"px";return}var u=0;if(n){o.top<0&&i+(o.height+o.top)>0&&s+(u=o.top)<=30&&(s=o.height-(o.height+o.top)+30),s+o.top>=p&&(l.style.height=o.height+(i-(o.height+o.top))+"px");var f=(0,y.le)(g)?u:d;s>=c&&s+f<=p&&(l.style.height=s+"px")}}function eA(e){var t,i=!1,n="mouse"===eS(e.type)?e.pageY:e.touches[0].pageY,r=eR(l),o=(0,y.le)(g)?0:g.offsetHeight-g.clientHeight;(0,y.le)(g)||(t=eR(g)),!(0,y.le)(g)&&r.top-t.top>0?i=!0:(0,y.le)(g)&&n>0?i=!0:!(0,y.le)(g)&&Math.floor(r.top-t.top+r.height+(t.bottom-r.bottom))-o<=p&&(i=!0);var s=es-(n-ec);if(i&&s>=c&&s<=p){var a=0;(0,y.le)(g)||(a=t.top);var h=el-a+(n-ec);h=h>0?h:1,l.style.height=s+"px",l.style.top=h+"px"}}function eT(e){var t,i=document.documentElement.clientWidth,n=!1;(0,y.le)(g)||(t=eR(g));var r="mouse"===eS(e.type)?e.pageX:e.touches[0].pageX,o=eR(l),s=(0,y.le)(g)?0:g.offsetWidth-g.clientWidth,a=(0,y.le)(g)?0:t.left,h=(0,y.le)(g)?0:t.width;(0,y.le)(f)&&((0,y.le)(g)?f=i:(f=o.left-a-s/2+o.width,f+=h-s-f)),!(0,y.le)(g)&&Math.floor(o.left-t.left+o.width+(t.right-o.right))-s<=u?n=!0:(0,y.le)(g)&&r>=0&&(n=!0);var c=eo-(r-eh);if(eg&&(c=c>f?f:c),n&&c>=d&&c<=u){var p=0;(0,y.le)(g)||(p=t.left);var m=ea-p+(r-eh);m=m>0?m:1,c!==ef&&em&&(l.style.width=c+"px"),eg&&(l.style.left=m+"px",em=1!==m)}ef=c}function eE(e){var t,i=document.documentElement.clientWidth,n=!1;(0,y.le)(g)||(t=eR(g));var r=(e.touches?e.changedTouches[0]:e).pageX,o=eR(l);!(0,y.le)(g)&&(o.left-t.left+o.width<=u||o.right-t.left>=o.width)?n=!0:(0,y.le)(g)&&i-r>0&&(n=!0);var s=eo+(r-eh),a=0;if((0,y.le)(g)||(a=t.left),o.left-a+s>u){if(n=!1,l.classList.contains(en))return;l.style.width=u-(o.left-a)+"px"}n&&s>=d&&s<=u&&(l.style.width=s+"px")}function eM(){for(var e=l.querySelectorAll("."+ee),t=0;t<e.length;t++)(0,y.og)(e[t]);var i=l.querySelectorAll(".e-dialog-border-resize");if(!(0,y.le)(i))for(var t=0;t<i.length;t++)(0,y.og)(i[t])}var eF=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),eD=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ez=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eF(t,e),eD([(0,y.Z9)(!0)],t.prototype,"isFlat",void 0),eD([(0,y.Z9)()],t.prototype,"buttonModel",void 0),eD([(0,y.Z9)("Button")],t.prototype,"type",void 0),eD([(0,y.ju)()],t.prototype,"click",void 0),t}(y.rt),eL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eF(t,e),eD([(0,y.Z9)("Fade")],t.prototype,"effect",void 0),eD([(0,y.Z9)(400)],t.prototype,"duration",void 0),eD([(0,y.Z9)(0)],t.prototype,"delay",void 0),t}(y.rt),eP="e-dialog",eB="e-rtl",eO="e-dlg-header-content",eq="e-dlg-header",eH="e-footer-content",eN="e-dlg-modal",eV="e-icon-dlg-close",ej="e-dlg-target",e_="e-scroll-disabled",eG="e-device",eW="e-dlg-fullscreen",eK="e-dlg-closeicon-btn",eU="e-popup-open",eZ="Information",eY="e-scroll-disabled",eQ="e-alert-dialog",eX="e-confirm-dialog",e$="e-dlg-resizable",eJ="e-restrict-left",e0="e-resize-viewport",e1="user action",e2=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.needsID=!0,n}return eF(t,e),t.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=(0,y.Ac)(this.minHeight)),this.enableResize&&(this.setResize(),this.isModal&&(this.isModelResize=!0),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()},t.prototype.initializeValue=function(){this.dlgClosedBy=e1},t.prototype.preRender=function(){var e=this;if(this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(t){e.dlgClosedBy="close icon",e.hide(t)},this.dlgOverlayClickEventHandler=function(t){e.dlgClosedBy="overlayClick",t.preventFocus=!1,e.trigger("overlayClick",t,function(t){t.preventFocus||e.focusContent(),e.dlgClosedBy=e1})},this.l10n=new y.E7("dialog",{close:"Close"},this.locale),this.checkPositionData(),(0,y.le)(this.target)){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=t}},t.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},t.prototype.isNumberValue=function(e){return/^[-+]?\d*\.?\d+$/.test(e)},t.prototype.checkPositionData=function(){if(!(0,y.le)(this.position)){if(!(0,y.le)(this.position.X)&&"number"!=typeof this.position.X){var e=this.isNumberValue(this.position.X);if(e){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=t}}if(!(0,y.le)(this.position.Y)&&"number"!=typeof this.position.Y){var e=this.isNumberValue(this.position.Y);if(e){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=t}}}},t.prototype.getEle=function(e,t){for(var i=void 0,n=0;n<e.length;n++)if(e[n].classList.contains(t)){i=e[n];break}return i},t.prototype.getMinHeight=function(){var e="0px",t="0px";(0,y.le)(this.element.querySelector("."+eO))||(e=getComputedStyle(this.headerContent).height);var i=this.getEle(this.element.children,eH);(0,y.le)(i)||(t=getComputedStyle(i).height);var n=parseInt(e.slice(0,e.indexOf("p")),10),r=parseInt(t.slice(0,t.indexOf("p")),10);return c=n+30+(isNaN(r)?0:r),n+30+r},t.prototype.onResizeStart=function(e,t){if(t.trigger("resizeStart",e),!e.cancel&&this.isModelResize&&!(0,y.le)(this.dlgContainer)&&this.dlgContainer.classList.contains("e-dlg-"+this.position.X+"-"+this.position.Y)){this.setPopupPosition(),this.dlgContainer.classList.remove("e-dlg-"+this.position.X+"-"+this.position.Y);var i=this.getTargetContainer(this.target);i instanceof Element&&"rtl"===window.getComputedStyle(i).getPropertyValue("direction")?this.element.style.position="absolute":this.element.style.position="relative",this.element.classList.contains(eJ)&&this.element.classList.remove(eJ),this.isModelResize=!1}return e.cancel},t.prototype.onResizing=function(e,t){t.trigger("resizing",e)},t.prototype.onResizeComplete=function(e,t){t.trigger("resizeStop",e),this.updatePersistData()},t.prototype.setResize=function(){if(this.enableResize){this.element.classList.add(e$);for(var e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth,i="",n=0;n<this.resizeHandles.length;n++){if("All"===this.resizeHandles[n]){i="south north east west north-east north-west south-east south-west";break}var r="";switch(this.resizeHandles[n].toString()){case"SouthEast":r="south-east";break;case"SouthWest":r="south-west";break;case"NorthEast":r="north-east";break;case"NorthWest":r="north-west";break;default:r=this.resizeHandles[n].toString()}i+=r.toLocaleLowerCase()+" "}this.enableRtl&&"south-east"===i.trim()?i="south-west":this.enableRtl&&"south-west"===i.trim()&&(i="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(eJ):this.isModal&&this.target===document.body&&this.element.classList.add(e0),function(e){ep=e.resizeBegin,ed=e.resizing,eu=e.resizeComplete,l=ey(e.element),g=ey(e.boundary);for(var t=e.direction.split(" "),i=0;i<t.length;i++)if(er.indexOf(t[i])>=0&&t[i])(function(e){ew();var t=(0,y.az)("span",{attrs:{unselectable:"on",contenteditable:"false"}});t.setAttribute("class","e-dialog-border-resize e-"+e),"south"===e&&(t.style.height="2px",t.style.width="100%",t.style.bottom="0px",t.style.left="0px"),"north"===e&&(t.style.height="2px",t.style.width="100%",t.style.top="0px",t.style.left="0px"),"east"===e&&(t.style.height="100%",t.style.width="2px",t.style.right="0px",t.style.top="0px"),"west"===e&&(t.style.height="100%",t.style.width="2px",t.style.left="0px",t.style.top="0px"),l.appendChild(t)})(t[i]);else if(""!==t[i].trim()){var n=(0,y.az)("div",{className:"e-icons "+ee+" e-"+t[i]});l.appendChild(n)}c=e.minHeight,d=e.minWidth,u=e.maxWidth,p=e.maxHeight,e.proxy&&e.proxy.element&&e.proxy.element.classList.contains("e-dialog")?ev(e.proxy):ev()}({element:this.element,direction:i,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else eM(),this.unWireWindowResizeEvent(),this.isModal?this.element.classList.remove(eJ):this.element.classList.remove(e0),this.element.classList.remove(e$)},t.prototype.getFocusElement=function(e){var t=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:t[t.length-1]}},t.prototype.keyDown=function(e){var t,i=this;if(9===e.keyCode&&this.isModal){var n=void 0;(0,y.le)(this.btnObj)||(n=this.btnObj[this.btnObj.length-1]),(0,y.le)(this.btnObj)&&!(0,y.le)(this.ftrTemplateContent)&&(n=this.getFocusElement(this.ftrTemplateContent)),(0,y.le)(this.btnObj)&&(0,y.le)(this.ftrTemplateContent)&&!(0,y.le)(this.contentEle)&&(n=this.getFocusElement(this.contentEle)),(0,y.le)(n)||document.activeElement!==n.element||e.shiftKey||(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),(0,y.le)(n)||n.element.focus())}var r=document.activeElement,o=["input","textarea"].indexOf(r.tagName.toLowerCase())>-1,s=!1;if(o||(s=r.hasAttribute("contenteditable")&&"true"===r.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape){this.dlgClosedBy="escape";var a=document.querySelector(".e-popup-open:not(.e-dialog)");((0,y.le)(a)||a.classList.contains("e-toolbar-pop")||a.classList.contains("e-slider-tooltip"))&&this.hide(e)}(13===e.keyCode&&!e.ctrlKey&&"textarea"!==r.tagName.toLowerCase()&&o&&!(0,y.le)(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===r.tagName.toLowerCase()||s)&&!(0,y.le)(this.primaryButtonEle))&&this.buttons.some(function(e,i){t=i;var n=e.buttonModel;return!(0,y.le)(n)&&!0===n.isPrimary})&&"function"==typeof this.buttons[t].click&&!this.primaryButtonEle.disabled&&setTimeout(function(){i.buttons[t].click.call(i,e)})},t.prototype.initialize=function(){(0,y.le)(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||(0,y.cn)([this.element],eP),y.AR.isDevice&&(0,y.cn)([this.element],eG),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},t.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||(0,y.Y4)(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.setTargetContent(),""===this.header||(0,y.le)(this.header)||this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||(0,y.le)(this.footerTemplate)?(0,y.le)(this.buttons[0])||(0,y.le)(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate(),this.allowDragging&&!(0,y.le)(this.headerContent)&&this.setAllowDragging(),(0,y.Y4)(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal(),!0!==this.element.classList.contains(eQ)&&!0!==this.element.classList.contains(eX)&&!(0,y.le)(this.element.parentElement)){var t=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),t.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}if((0,y.le)(this.targetEle)||(this.isModal?this.targetEle.appendChild(this.dlgContainer):this.targetEle.appendChild(this.element)),this.popupObj=new w.GI(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(t){var i={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",i,function(t){t.preventFocus||e.focusContent()})},close:function(t){e.isModal&&(0,y.cn)([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var i=document.activeElement;(0,y.le)(i)||(0,y.le)(i.blur)||i.blur(),(0,y.le)(e.storeActiveElement)||(0,y.le)(e.storeActiveElement.focus)||e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),!this.isBlazorServerRender()&&((0,y.cn)([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible){if(this.show(),this.isModal){var i=this.getTargetContainer(this.target);i instanceof Element&&"rtl"===window.getComputedStyle(i).getPropertyValue("direction")&&this.setPopupPosition()}}else this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},t.prototype.getTargetContainer=function(e){var t=null;if("string"==typeof e){if(e.startsWith("#"))t=document.getElementById(e.substring(1));else if(e.startsWith(".")){var i=document.getElementsByClassName(e.substring(1));t=i.length>0?i[0]:null}else e instanceof HTMLElement||e===document.body||(t=document.querySelector(e))}else e instanceof HTMLElement&&(t=e);return t},t.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var t=this.enableRtl?"e-south-west":"e-south-east",i=this.element.querySelector("."+t);(0,y.le)(i)||(i.style.bottom="-"+e.toString()+"px")}},t.prototype.setOverlayZindex=function(e){var t;t=(0,y.le)(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()},t.prototype.positionChange=function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},t.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},t.prototype.setAllowDragging=function(){var e=this,t="."+eO;this.element.classList.contains("e-draggable")||(this.dragObj=new y._l(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:t,dragStart:function(t){e.trigger("dragStart",t,function(e){(0,y.xr)()&&e.bindEvents(t.dragElement)})},dragStop:function(t){if(e.isModal){e.IsDragStop=!0,(0,y.le)(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y);var i=e.getTargetContainer(e.target);i instanceof Element&&"rtl"===window.getComputedStyle(i).getPropertyValue("direction")?e.element.style.position="absolute":e.element.style.position="relative"}e.trigger("dragStop",t),e.isModelResize=!1,e.element.classList.remove(eJ),e.updatePersistData()},drag:function(t){e.trigger("drag",t)}}),(0,y.le)(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},t.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e,t=0;t<this.buttons.length;t++)if(!(0,y.le)(this.buttons[t].buttonModel)){var i=(0,y.le)(this.buttons[t].type)?"button":this.buttons[t].type.toLowerCase(),n=this.createElement("button",{className:this.cssClass,attrs:{type:i,tabindex:"0"}});this.buttonContent.push(n.outerHTML)}this.setFooterTemplate()}for(var t=0,r=this.element.children;t<r.length;t++)r[t].classList.contains(eH)&&(e=r[t].querySelectorAll("button"));for(var t=0;t<this.buttons.length;t++)!(0,y.le)(this.buttons[t].buttonModel)&&(this.isBlazorServerRender()||(this.btnObj[t]=new $.zx(this.buttons[t].buttonModel)),!(0,y.le)(this.ftrTemplateContent)&&e.length>0&&("function"==typeof this.buttons[t].click&&y.bi.add(e[t],"click",this.buttons[t].click,this),"object"==typeof this.buttons[t].click&&y.bi.add(e[t],"click",this.buttonClickHandler.bind(this,t),this)),this.isBlazorServerRender()||(0,y.le)(this.ftrTemplateContent)||(this.btnObj[t].appendTo(this.ftrTemplateContent.children[t]),this.buttons[t].isFlat&&this.btnObj[t].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]))},t.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},t.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),this.headerEle?(0,y.Y4)(this.element,{"aria-describedby":this.element.id+"_title "+this.element.id+"_dialog-content"}):(0,y.Y4)(this.element,{"aria-describedby":this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):((0,y.le)(this.content)||""===this.content)&&this.initialRender||(("string"!=typeof this.content||(0,y.xr)())&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),(0,y.le)(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(this.isBlazorServerRender()||!y.AR.isIE||""!==this.element.style.width||(0,y.le)(this.width)||(this.element.style.width=(0,y.Ac)(this.width)),this.setMaxHeight())},t.prototype.setTemplate=function(e,t,i){r=t.classList.contains(eq)?this.element.id+"header":t.classList.contains(eH)?this.element.id+"footerTemplate":this.element.id+"content",(0,y.le)(e.outerHTML)?("string"==typeof e||"string"!=typeof e||(0,y.xr)()&&!this.isStringTemplate)&&("string"==typeof e&&(e=this.sanitizeHelper(e)),this.isVue||"string"!=typeof e?(n=(0,y.MY)(e),o=e):t.innerHTML=e):t.appendChild(e);var n,r,o,s=[];if(!(0,y.le)(n)){for(var a=!(0,y.xr)()||!!this.isStringTemplate||0!==o.indexOf("<div>Blazor")||this.isStringTemplate,l=0,h=n({},this,i,r,a);l<h.length;l++){var c=h[l];s.push(c)}(0,y.R3)([].slice.call(s),t)}},t.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var t=y.pJ.beforeSanitize();(0,y.l7)(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!(0,y.le)(t.helper)?e=t.helper(e):t.cancel||(e=y.pJ.serializeValue(t,e))}return e},t.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!(0,y.le)(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,y.AR.isIE&&"auto"===this.height&&!(0,y.le)(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},t.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?(0,y.cn)([this.element],eB):(0,y.IV)([this.element],eB)),(0,y.le)(this.element.querySelector(".e-resize-handle"))||(eM(),this.setResize())},t.prototype.setTargetContent=function(){var e=this;if((0,y.le)(this.content)||""===this.content){var t=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||t)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(t){8!==t.nodeType&&e.innerContentElement.appendChild(t)}))}},t.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:eq}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),(0,y.Y4)(this.element,{"aria-describedby":this.element.id+"_title"}),(0,y.Y4)(this.element,{"aria-labelledby":this.element.id+"_dialog-header"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!(0,y.le)(this.headerContent)&&this.setAllowDragging()},t.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:eH}),""===this.footerTemplate||(0,y.le)(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)},t.prototype.createHeaderContent=function(){(0,y.le)(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:eO}))},t.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:eK,attrs:{type:"button"}}),this.closeIconBtnObj=new $.zx({cssClass:"e-flat",iconCss:eV+" e-icons"}),this.closeIconTitle(),(0,y.le)(this.headerContent)?(this.createHeaderContent(),(0,y.Ce)([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):(0,y.Ce)([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},t.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},t.prototype.setCSSClass=function(e){e&&((0,y.IV)([this.element],e.split(" ")),this.isModal&&!(0,y.le)(this.dlgContainer)&&(0,y.IV)([this.dlgContainer],e.split(" "))),this.cssClass&&((0,y.cn)([this.element],this.cssClass.split(" ")),this.isModal&&!(0,y.le)(this.dlgContainer)&&(0,y.cn)([this.dlgContainer],this.cssClass.split(" ")))},t.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.setCSSClass(),this.element.classList.remove(eU),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),(0,y.cn)([this.element],eN),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},t.prototype.getValidFocusNode=function(e){for(var t,i=0;i<e.length&&(!((t=e[i]).clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))||!(t.tabIndex>-1)||t.disabled||this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'));i++)t=null;return t},t.prototype.focusableElements=function(e){if(!(0,y.le)(e)){var t=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(t)}return null},t.prototype.getAutoFocusNode=function(e){var t=e.querySelector("."+eK),i=e.querySelectorAll("[autofocus]"),n=this.getValidFocusNode(i);if((0,y.xr)()&&(this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]),(0,y.le)(n)){if(n=this.focusableElements(this.contentEle),!(0,y.le)(n))return n;if(!(0,y.le)(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=n;return t},t.prototype.disableElement=function(e,t){var i=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(i){for(;e;e=e.parentNode)if(e instanceof Element&&i.call(e,t))return e}return null},t.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),t=(0,y.le)(e)?this.element:e,i=y.AR.userAgent;(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0)&&this.element.focus(),t.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},t.prototype.bindEvent=function(e){y.bi.add(e,"keydown",this.keyDown,this)},t.prototype.unBindEvent=function(e){y.bi.remove(e,"keydown",this.keyDown)},t.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},t.prototype.isBlazorServerRender=function(){return(0,y.xr)()&&this.isServerRendered},t.prototype.getModuleName=function(){return"dialog"},t.prototype.onPropertyChanged=function(e,t){if(this.element.classList.contains(eP))for(var i=0,n=Object.keys(e);i<n.length;i++)switch(n[i]){case"content":(0,y.le)(this.content)||""===this.content?(0,y.le)(this.contentEle)||((0,y.og)(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),(0,y.le)(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),(0,y.og)(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||(0,y.le)(this.header)?this.headerEle&&((0,y.og)(this.headerEle),this.headerEle=null):this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||(0,y.le)(this.footerTemplate)){if(!this.ftrTemplateContent)return;(0,y.og)(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(eV).length>0?!this.showCloseIcon&&(""===this.header||(0,y.le)(this.header))?((0,y.og)(this.headerContent),this.headerContent=null):this.showCloseIcon||(0,y.og)(this.closeIcon):(this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":(0,y.V7)(this.element,{height:(0,y.Ac)(e.height)}),this.updatePersistData();break;case"width":(0,y.V7)(this.element,{width:(0,y.Ac)(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":this.unWireButtonEvents(),this.destroyButtons(),(0,y.le)(this.ftrTemplateContent)||((0,y.og)(this.ftrTemplateContent),this.ftrTemplateContent=null),this.footerTemplate="",this.setButton();break;case"allowDragging":this.allowDragging&&!(0,y.le)(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var r=this.position.X,o=this.position.Y;(0,y.le)(t.position)||((0,y.le)(t.position.X)||(r=t.position.X),(0,y.le)(t.position.Y)||(o=t.position.Y)),this.dlgContainer.classList.contains("e-dlg-"+r+"-"+o)&&this.dlgContainer.classList.remove("e-dlg-"+r+"-"+o)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize(),this.isModelResize=this.enableResize&&this.isModal,this.enableResize&&this.dialogOpen&&this.resetResizeIcon();break;case"minHeight":""!==this.minHeight&&(this.element.style.minHeight=(0,y.Ac)(this.minHeight))}},t.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize(),(0,y.le)(this.targetEle)||(this.isModal&&!(0,y.le)(this.dlgContainer)?this.targetEle.appendChild(this.dlgContainer):(0,y.le)(this.element)||this.targetEle.appendChild(this.element))},t.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)(0,y.le)(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",(0,y.le)(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for((0,y.IV)([this.element],eN),(0,y.IV)([document.body],[ej,e_]),(0,y.og)(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&y.bi.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.setzIndex=function(e,t){var i=this.isProtectedOnChange;this.isProtectedOnChange=!0;var n=(0,w.TE)(e);this.zIndex=n>this.zIndex?n:this.zIndex,this.isProtectedOnChange=i,t&&(this.popupObj.zIndex=this.zIndex)},t.prototype.windowResizeHandler=function(){u=this.targetEle.clientWidth,p=this.targetEle.clientHeight,this.setMaxHeight()},t.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},t.prototype.removeAllChildren=function(e){for(;e.children[0];)this.removeAllChildren(e.children[0]),e.removeChild(e.children[0])},t.prototype.destroy=function(){if(!this.isDestroyed){var t=[eB,eN,e$,eJ,eW,eG],i=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];(0,y.IV)([this.targetEle],[ej,e_]),!(0,y.le)(this.element)&&this.element.classList.contains(eW)&&(0,y.IV)([document.body],[ej,e_]),this.isModal&&(0,y.IV)([(0,y.le)(this.targetEle)?document.body:this.targetEle],e_),this.unWireEvents(),this.unWireButtonEvents(),this.destroyButtons(),(0,y.le)(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),(0,y.le)(this.dragObj)||this.dragObj.destroy(),!(0,y.le)(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),(0,y.IV)([this.element],t),(0,y.le)(this.cssClass)||""===this.cssClass||(0,y.IV)([this.element],this.cssClass.split(" ")),(0,y.le)(this.refElement)||(0,y.le)(this.refElement.parentElement)||(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),(0,y.og)(this.refElement),this.refElement=void 0),this.isModal&&((0,y.og)(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),(0,y.og)(this.dlgContainer)),this.element.innerHTML=this.clonedEle.innerHTML;for(var n=0;n<i.length;n++)this.element.removeAttribute(i[n]);this.ftrTemplateContent=null,this.headerContent=null,this.isReact||this.isVue||(0,y.le)(this.contentEle)||this.removeAllChildren(this.contentEle),this.contentEle=null,l=null,h=null,g=null,f=null,ep=null,ed=null,eu=null,e.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},t.prototype.wireWindowResizeEvent=function(){this.boundWindowResizeHandler=this.windowResizeHandler.bind(this),window.addEventListener("resize",this.boundWindowResizeHandler)},t.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.boundWindowResizeHandler),this.boundWindowResizeHandler=null},t.prototype.wireEvents=function(){this.showCloseIcon&&y.bi.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&y.bi.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},t.prototype.unWireEvents=function(){this.showCloseIcon&&y.bi.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&y.bi.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler)},t.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(eN)&&this.positionChange()},t.prototype.getDimension=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},t.prototype.show=function(e){var t=this;if(this.element.classList.contains(eP)){if(!this.element.classList.contains(eU)||!(0,y.le)(e)){(0,y.le)(e)||this.fullScreen(e);var i=(0,y.xr)()?{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,maxHeight:this.element.style.maxHeight}:{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",i,function(e){if(!e.cancel){if(t.element.style.maxHeight!==i.maxHeight&&(t.allowMaxHeight=!1,t.element.style.maxHeight=i.maxHeight),t.enableResize&&null==t.boundWindowResizeHandler&&!t.initialRender&&t.wireWindowResizeEvent(),t.storeActiveElement=document.activeElement,t.element.tabIndex=-1,t.isModal&&!(0,y.le)(t.dlgOverlay)){if(t.dlgOverlay.style.display="block",t.dlgContainer.style.display="flex",(0,y.IV)([t.dlgOverlay],"e-fade"),(0,y.le)(t.targetEle))(0,y.cn)([document.body],[ej,e_]);else{t.targetEle===document.body?t.dlgContainer.style.position="fixed":t.dlgContainer.style.position="absolute",t.dlgOverlay.style.position="absolute";var n=t.getTargetContainer(t.target);if(n instanceof Element){var r=window.getComputedStyle(n);"rtl"===r.getPropertyValue("direction")?t.element.style.position="absolute":t.element.style.position="relative"}else t.element.style.position="relative";(0,y.cn)([t.targetEle],[ej,e_])}}var o={name:"None"===t.animationSettings.effect&&"Enable"===y.ti?"ZoomIn":t.animationSettings.effect+"In",duration:t.animationSettings.duration,delay:t.animationSettings.delay},s=t.isModal?t.element.parentElement:t.element;if(t.calculatezIndex&&(t.setzIndex(s,!0),(0,y.V7)(t.element,{zIndex:t.zIndex}),t.isModal&&t.setOverlayZindex(t.zIndex)),"None"===t.animationSettings.effect&&"Enable"===y.ti?t.popupObj.show(o):"None"===t.animationSettings.effect?t.popupObj.show():t.popupObj.show(o),t.isModal){var n=t.getTargetContainer(t.target);if(n instanceof Element){var r=window.getComputedStyle(n);"rtl"!==r.getPropertyValue("direction")||t.IsDragStop||t.setPopupPosition()}}t.dialogOpen=!0;var a=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!0,t.preventVisibility=!0,t.isProtectedOnChange=a}})}this.isReact&&this.renderReactTemplates()}},t.prototype.hide=function(e){var t=this;if(this.element.classList.contains(eP)&&this.preventVisibility){var i=(0,y.xr)()?{cancel:!1,isInteracted:!!e,element:this.element,container:this.isModal?this.dlgContainer:this.element,event:e}:{cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=i,this.trigger("beforeClose",i,function(e){if(!e.cancel){t.enableResize&&t.unWireWindowResizeEvent();var i={name:"None"===t.animationSettings.effect&&"Enable"===y.ti?"ZoomOut":t.animationSettings.effect+"Out",duration:t.animationSettings.duration,delay:t.animationSettings.delay};"None"===t.animationSettings.effect&&"Enable"===y.ti?t.popupObj.hide(i):"None"===t.animationSettings.effect?t.popupObj.hide():t.popupObj.hide(i),setTimeout(function(){t.isModal&&!(0,y.le)(t.targetEle)&&t.targetEle.classList.contains(ej)&&t.targetEle.classList.contains(e_)&&(0,y.IV)([t.targetEle],[ej,e_]),document.body.classList.contains(ej)&&document.body.classList.contains(e_)&&(0,y.IV)([document.body],[ej,e_])},t.animationSettings.duration+t.animationSettings.delay),t.dialogOpen=!1;var n=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!1,t.preventVisibility=!1,t.isProtectedOnChange=n}t.dlgClosedBy=e1})}},t.prototype.fullScreen=function(e){if(this.element.offsetTop,this.element.offsetLeft,e){this.isModal||(this.element.style.top=document.scrollingElement.scrollTop+"px"),(0,y.cn)([this.element],eW);var t=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=(0,y.le)(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=t,(0,y.cn)([document.body],[ej,e_]),this.allowDragging&&!(0,y.le)(this.dragObj)&&this.dragObj.destroy()}else(0,y.IV)([this.element],eW),(0,y.IV)([document.body],[ej,e_]),this.allowDragging&&!(0,y.le)(this.headerContent)&&this.setAllowDragging();return e},t.prototype.getButtons=function(e){return(0,y.le)(e)?this.btnObj:this.btnObj[e]},t.prototype.unWireButtonEvents=function(){if(this.buttons.length>0&&""===this.footerTemplate&&this.ftrTemplateContent)for(var e=0;e<this.buttons.length;e++)this.buttons[e].click&&"function"==typeof this.buttons[e].click&&this.ftrTemplateContent.children[e]&&y.bi.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},t.prototype.destroyButtons=function(){if(!(0,y.le)(this.btnObj))for(var e=0;e<this.btnObj.length;e++)this.btnObj[e]&&!this.btnObj[e].isDestroyed&&this.btnObj[e].destroy()},eD([(0,y.Z9)("")],t.prototype,"content",void 0),eD([(0,y.Z9)(!0)],t.prototype,"enableHtmlSanitizer",void 0),eD([(0,y.Z9)(!1)],t.prototype,"enablePersistence",void 0),eD([(0,y.Z9)(!1)],t.prototype,"showCloseIcon",void 0),eD([(0,y.Z9)(!1)],t.prototype,"isModal",void 0),eD([(0,y.Z9)("")],t.prototype,"header",void 0),eD([(0,y.Z9)(!0)],t.prototype,"visible",void 0),eD([(0,y.Z9)(!1)],t.prototype,"enableResize",void 0),eD([(0,y.Z9)(["South-East"])],t.prototype,"resizeHandles",void 0),eD([(0,y.Z9)("auto")],t.prototype,"height",void 0),eD([(0,y.Z9)("")],t.prototype,"minHeight",void 0),eD([(0,y.Z9)("100%")],t.prototype,"width",void 0),eD([(0,y.Z9)("")],t.prototype,"cssClass",void 0),eD([(0,y.Z9)(1e3)],t.prototype,"zIndex",void 0),eD([(0,y.Z9)(null)],t.prototype,"target",void 0),eD([(0,y.Z9)("")],t.prototype,"footerTemplate",void 0),eD([(0,y.Z9)(!1)],t.prototype,"allowDragging",void 0),eD([(0,y.FE)([{}],ez)],t.prototype,"buttons",void 0),eD([(0,y.Z9)(!0)],t.prototype,"closeOnEscape",void 0),eD([(0,y.Zz)({},eL)],t.prototype,"animationSettings",void 0),eD([(0,y.Zz)({X:"center",Y:"center"},w.WV)],t.prototype,"position",void 0),eD([(0,y.ju)()],t.prototype,"created",void 0),eD([(0,y.ju)()],t.prototype,"open",void 0),eD([(0,y.ju)()],t.prototype,"beforeSanitizeHtml",void 0),eD([(0,y.ju)()],t.prototype,"beforeOpen",void 0),eD([(0,y.ju)()],t.prototype,"close",void 0),eD([(0,y.ju)()],t.prototype,"beforeClose",void 0),eD([(0,y.ju)()],t.prototype,"dragStart",void 0),eD([(0,y.ju)()],t.prototype,"dragStop",void 0),eD([(0,y.ju)()],t.prototype,"drag",void 0),eD([(0,y.ju)()],t.prototype,"overlayClick",void 0),eD([(0,y.ju)()],t.prototype,"resizeStart",void 0),eD([(0,y.ju)()],t.prototype,"resizing",void 0),eD([(0,y.ju)()],t.prototype,"resizeStop",void 0),eD([(0,y.ju)()],t.prototype,"destroyed",void 0),t=eD([y.Zl],t)}(y.wA);!function(e){function t(e,t){var i=new e2(e);return i.appendTo(t),i}function i(e,t){return e.header=(0,y.le)(t.title)?null:t.title,e.content=(0,y.le)(t.content)?"":t.content,e.isModal=!!(0,y.le)(t.isModal)||t.isModal,e.showCloseIcon=!(0,y.le)(t.showCloseIcon)&&t.showCloseIcon,e.allowDragging=!(0,y.le)(t.isDraggable)&&t.isDraggable,e.closeOnEscape=!(0,y.le)(t.closeOnEscape)&&t.closeOnEscape,e.position=(0,y.le)(t.position)?{X:"center",Y:"top"}:t.position,e.animationSettings=(0,y.le)(t.animationSettings)?{effect:"Fade",duration:400,delay:0}:t.animationSettings,e.cssClass=(0,y.le)(t.cssClass)?"":t.cssClass,e.zIndex=(0,y.le)(t.zIndex)?1e3:t.zIndex,e.open=(0,y.le)(t.open)?null:t.open,e.width=(0,y.le)(t.width)?"auto":t.width,e.height=(0,y.le)(t.height)?"auto":t.height,e}function n(e,t,i){return(0,y.le)(t.text)||(i.buttonModel.content=t.text),(0,y.le)(t.icon)||(i.buttonModel.iconCss=t.icon),(0,y.le)(t.cssClass)||(i.buttonModel.cssClass=t.cssClass),(0,y.le)(t.click)||(i.click=t.click),(0,y.le)(t.isFlat)||(i.isFlat=t.isFlat),i}e.alert=function(e){var r,o,s,a,l=(0,y.az)("div",{className:eQ});return document.body.appendChild(l),(a="string"==typeof e?t({content:e,position:{X:"center",Y:"top"},isModal:!0,header:eZ,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]},l):t(((r={}).buttons=[],o=r=i(r,e),s=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}],(0,y.le)(e.okButton)?o.buttons=s:o.buttons[0]=n(o.buttons[0],e.okButton,s[0]),r=o),l)).close=function(){e&&e.close&&e.close.apply(a),a.destroy(),a.element.classList.contains("e-dlg-modal")?(a.element.parentElement.remove(),a.target.classList.remove(eY)):a.element.remove()},a},e.confirm=function(e){var r,o,s,a,l,h=(0,y.az)("div",{className:eX});return document.body.appendChild(h),(l="string"==typeof e?t({position:{X:"center",Y:"top"},content:e,isModal:!0,header:eZ,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]},h):t(((r={}).buttons=[],o=r=i(r,e),s={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},a={buttonModel:{content:"Cancel"},click:function(){this.hide()}},(0,y.le)(e.okButton)?o.buttons[0]=s:o.buttons[0]=n(o.buttons[0],e.okButton,s),(0,y.le)(e.cancelButton)?o.buttons[1]=a:o.buttons[1]=n(o.buttons[1],e.cancelButton,a),r=o),h)).close=function(){e&&e.close&&e.close.apply(l),l.destroy(),l.element.classList.contains("e-dlg-modal")?(l.element.parentElement.remove(),l.target.classList.remove(eY)):l.element.remove()},l}}(m||(m={}));var e9=i(5819),e3=function(){function e(e){this.searchInputArgs=null,this.isExecuteLocal=!1,this.queryFilteredColumn=[],this.existingPredicate={},this.foreignKeyQuery=new Y.A,this.filterState=!0,this.values={},this.renderEmpty=!1,this.isCheckboxFilterTemplate=!1,this.infiniteRenderMod=!1,this.infiniteInitialLoad=!1,this.infiniteSearchValChange=!1,this.infinitePermenantLocalData=[],this.infiniteQueryExecutionPending=!1,this.infiniteSkipCnt=0,this.infiniteScrollAppendDiff=0,this.prevInfiniteScrollDirection="",this.infiniteLoadedElem=[],this.infiniteDataCount=0,this.infiniteLocalSelectAll=!0,this.localInfiniteSelectAllClicked=!1,this.localInfiniteSelectionInteracted=!1,this.infiniteManualSelectMaintainPred=[],this.parent=e,this.id=this.parent.element.id,this.valueFormatter=new Q.K(this.parent.locale),this.cBoxTrue=(0,X.eE)(this.parent.createElement,!1,{checked:!0,label:" "}),this.cBoxFalse=(0,X.eE)(this.parent.createElement,!1,{checked:!1,label:" "}),this.cBoxTrue.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxTrue.firstChild),this.cBoxFalse.insertBefore(this.parent.createElement("input",{className:"e-chk-hidden",attrs:{type:"checkbox"}}),this.cBoxFalse.firstChild),this.cBoxFalse.querySelector(".e-frame").classList.add("e-uncheck"),this.parent.enableRtl&&(0,y.cn)([this.cBoxTrue,this.cBoxFalse],["e-rtl"]),this.parent.cssClass&&(-1!==this.parent.cssClass.indexOf(" ")?(0,y.cn)([this.cBoxTrue,this.cBoxFalse],this.parent.cssClass.split(" ")):(0,y.cn)([this.cBoxTrue,this.cBoxFalse],[this.parent.cssClass]))}return e.prototype.destroy=function(){this.closeDialog()},e.prototype.wireEvents=function(){y.bi.add(this.dlg,"click",this.clickHandler,this),y.bi.add(this.dlg,"keyup",this.keyupHandler,this),this.searchHandler=(0,y.Ds)(this.searchBoxKeyUp,200);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&(y.bi.add(e,"keyup",this.searchHandler,this),y.bi.add(e,"input",this.searchHandler,this))},e.prototype.unWireEvents=function(){y.bi.remove(this.dlg,"click",this.clickHandler),y.bi.remove(this.dlg,"keyup",this.keyupHandler);var e=this.dialogObj.element.querySelector(".e-searchinput");e&&(y.bi.remove(e,"keyup",this.searchHandler),y.bi.remove(e,"input",this.searchHandler))},e.prototype.foreignKeyFilter=function(e,t,i){var n=this,r={},o=[],s=this.foreignKeyQuery.clone();this.options.column.dataSource.executeQuery(s.where(i)).then(function(i){n.options.column.columnData=i.result,n.parent.notify(Z.KuG,{predicate:r,column:n.options.column}),e.ejpredicate=r.predicate.predicates;for(var s=r.predicate.predicates,a=0;a<s.length;a++)o.push({field:s[parseInt(a.toString(),10)].field,predicate:"or",matchCase:s[parseInt(a.toString(),10)].ignoreCase,ignoreAccent:s[parseInt(a.toString(),10)].ignoreAccent,operator:s[parseInt(a.toString(),10)].operator,value:s[parseInt(a.toString(),10)].value,type:n.options.type});e.filterCollection=o.length?o:t.filter(function(e){return e.field=n.options.field}),n.options.handler(e)})},e.prototype.searchBoxClick=function(e){var t=e.target;t.classList.contains("e-searchclear")&&(this.sInput.value=t.classList.contains("e-chkcancel-icon")?"":this.sInput.value,this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon(),this.sInput.focus())},e.prototype.searchBoxKeyUp=function(e){!(0,y.le)(this.sInput)&&((0,y.le)(e)||"ArrowUp"!==e.key&&"ArrowDown"!==e.key&&"Tab"!==e.key&&!("Tab"===e.key&&e.shiftKey))&&((0,y.le)(this.parent.loadingIndicator)||"Shimmer"!==this.parent.loadingIndicator.indicatorType||this.parent.showMaskRow(void 0,this.dialogObj.element),this.isCheckboxFilterTemplate?this.parent.notify("refreshCheckbox",{event:e}):this.refreshCheckboxes(),this.updateSearchIcon())},e.prototype.updateSearchIcon=function(){this.sInput.value.length?((0,y.s1)(this.sIcon,["e-chkcancel-icon"],["e-search-icon"]),(0,y.le)(document.body.querySelector(".e-chkcancel-icon"))||document.body.querySelector(".e-chkcancel-icon").setAttribute("title",this.localeObj.getConstant("Clear"))):((0,y.s1)(this.sIcon,["e-search-icon"],["e-chkcancel-icon"]),(0,y.le)(document.body.querySelector(".e-searchclear.e-search-icon"))||document.body.querySelector(".e-searchclear.e-search-icon").setAttribute("title",this.localeObj.getConstant("Search")))},e.prototype.getLocalizedLabel=function(e){return this.localeObj.getConstant(e)},e.prototype.updateDataSource=function(){var e=this.options.dataSource;if(!(e instanceof v.h)){for(var t=0;t<e.length;t++)if("object"!=typeof e){var i={};i[this.options.field]=e[parseInt(t.toString(),10)],e[parseInt(t.toString(),10)]=i}}},e.prototype.updateModel=function(e){this.options=e,this.existingPredicate=e.actualPredicate||{},this.options.dataSource=e.dataSource,this.options.dataManager=e.dataManager?e.dataManager:e.dataSource,this.updateDataSource(),this.options.type=e.type,this.options.format=e.format||"",this.options.ignoreAccent=e.ignoreAccent||!1,this.options.filteredColumns=e.filteredColumns||this.parent.filterSettings.columns,this.options.query=e.query||new Y.A,this.options.allowCaseSensitive=e.allowCaseSensitive||!1,this.options.uid=e.column.uid,this.options.disableHtmlEncode=e.column.disableHtmlEncode||!1,this.values={},this.localeObj=e.localeObj,this.isFiltered=e.filteredColumns.length,this.infiniteRenderMod=!!this.parent.filterSettings&&!!this.parent.filterSettings.enableInfiniteScrolling,this.infiniteUnloadParentExistPred=this.infiniteRenderMod&&this.existingPredicate[this.options.column.field]?this.existingPredicate[this.options.column.field].slice():[]},e.prototype.getAndSetChkElem=function(e){return this.dlg=this.parent.createElement("div",{id:this.id+this.options.type+"_excelDlg",attrs:{uid:this.options.column.uid},className:"e-checkboxfilter e-filter-popup"}),this.sBox=this.parent.createElement("div",{className:"e-searchcontainer"}),e.hideSearchbox||(this.sInput=this.parent.createElement("input",{id:this.id+"_SearchBox",className:"e-searchinput"}),this.sIcon=this.parent.createElement("span",{className:"e-searchclear e-search-icon e-icons e-input-group-icon",attrs:{type:"text",title:this.getLocalizedLabel("Search")}}),this.searchBox=this.parent.createElement("span",{className:"e-searchbox e-fields"}),this.searchBox.appendChild(this.sInput),this.sBox.appendChild(this.searchBox),this.searchInputArgs={element:this.sInput,floatLabelType:"Never",properties:{placeholder:this.getLocalizedLabel("Search"),cssClass:this.parent.cssClass}},e9.II.createInput(this.searchInputArgs,this.parent.createElement),this.searchBox.querySelector(".e-input-group").appendChild(this.sIcon)),this.spinner=this.parent.createElement("div",{className:"e-spinner"}),this.cBox=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxList",className:"e-checkboxlist e-fields"}),this.spinner.appendChild(this.cBox),this.sBox.appendChild(this.spinner),this.sBox},e.prototype.showDialog=function(e){var t={requestType:Z.D5g,columnName:this.options.field,columnType:this.options.type,cancel:!1};if(t.filterModel=this,this.parent.notify(Z.XzU,t),t.cancel){e.cancel=t.cancel;return}this.dialogObj=new e2({visible:!1,content:this.sBox,close:this.closeDialog.bind(this),enableRtl:this.parent.enableRtl,width:!(0,y.le)((0,U.Cf)(e.target,"e-bigger"))||this.parent.element.classList.contains("e-device")?260:255,target:this.parent.element,animationSettings:{effect:"None"},buttons:[{click:this.btnClick.bind(this),buttonModel:{content:this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton"),cssClass:this.parent.cssClass?"e-primary "+this.parent.cssClass:"e-primary",isPrimary:!0}},{click:this.btnClick.bind(this),buttonModel:{cssClass:this.parent.cssClass?"e-flat "+this.parent.cssClass:"e-flat",content:this.getLocalizedLabel(this.isExcel?"CancelButton":"ClearButton")}}],created:this.dialogCreated.bind(this),open:this.dialogOpen.bind(this),cssClass:this.parent.cssClass?this.parent.cssClass:""}),this.dialogObj.isStringTemplate=!0,this.renderResponsiveFilter(e);var i=this.parent.filterSettings&&"CheckBox"===this.parent.filterSettings.type?this.getLocalizedLabel("CheckBoxFilterDialogARIA"):this.getLocalizedLabel("ExcelFilterDialogARIA");if(this.dlg.setAttribute("aria-label",i),e.isResponsiveFilter?document.querySelector(".e-responsive-dialog > .e-dlg-content > .e-mainfilterdiv").appendChild(this.dlg):this.parent.element.appendChild(this.dlg),this.dialogObj.appendTo(this.dlg),this.dialogObj.element.style.maxHeight=e.isResponsiveFilter?"none":this.options.height+"px",this.dialogObj.show(),this.parent&&this.parent.filterSettings&&("CheckBox"===this.parent.filterSettings.type||this.options.column&&this.options.column.filter&&"CheckBox"===this.options.column.filter.type)&&this.parent.getContent().firstElementChild.offsetHeight<this.dialogObj.element.offsetHeight&&!(0,U.Cf)(this.parent.element,"e-gantt-dialog")&&(0,U.lr)(this.parent,this.dialogObj),this.dialogObj.element.querySelector(".e-dlg-content").appendChild(this.sBox),this.wireEvents(),this.parent.enableAdaptiveUI){if(this.infiniteRenderMod&&this.parent.filterSettings&&"Shimmer"===this.parent.filterSettings.loadingIndicator){this.getAllData();return}this.infiniteRenderMod&&(this.cBox.style.marginTop=(0,U.wk)(this.cBox)+"px")}else(0,y.le)(this.parent.loadingIndicator)||"Shimmer"!==this.parent.loadingIndicator.indicatorType||this.infiniteRenderMod||this.parent.showMaskRow(void 0,this.dialogObj.element),this.infiniteRenderMod&&this.parent.filterSettings&&"Shimmer"===this.parent.filterSettings.loadingIndicator&&this.showMask();this.infiniteRenderMod&&this.parent.filterSettings&&"Shimmer"===this.parent.filterSettings.loadingIndicator||((0,b.rj)({target:this.spinner,cssClass:this.parent.cssClass?this.parent.cssClass:null},this.parent.createElement),(0,b.yh)(this.spinner)),this.getAllData()},e.prototype.renderResponsiveFilter=function(e){e.isResponsiveFilter&&(this.dialogObj.buttons=[{}],this.dialogObj.position={X:"",Y:""},this.dialogObj.target=document.querySelector(".e-resfilter > .e-dlg-content > .e-mainfilterdiv"),this.dialogObj.width="100%")},e.prototype.dialogCreated=function(e){this.options.isResponsiveFilter?this.dialogObj.element.style.left="0px":y.AR.isDevice?this.dialogObj.position={X:"center",Y:"center"}:(0,U.uY)(this.options.target,this.dialogObj),this.options.column.showColumnMenu&&this.parent.notify(Z.yKz,e)},e.prototype.openDialog=function(e){this.updateModel(e),this.getAndSetChkElem(e),this.showDialog(e)},e.prototype.closeDialog=function(){if(this.infiniteRenderMod&&this.infinitePermenantLocalData.length&&!this.options.isRemote&&(this.options.dataSource.dataSource.json=this.infinitePermenantLocalData),this.dialogObj&&!this.dialogObj.isDestroyed){this.isBlanks=!1;var e=this.options.columns.filter(function(e){return e.getFilterItemTemplate()}),t=this.parent.registeredTemplate;if(e.length&&!(0,y.le)(t)&&t.filterItemTemplate&&this.parent.destroyTemplate(["filterItemTemplate"]),(this.parent.isReact||this.parent.isVue)&&void 0!==this.parent.destroyTemplate&&(0,U.uq)(this.parent,["filterItemTemplate"]),this.parent.notify(Z.EJt,{field:this.options.field}),this.unWireEvents(),this.searchInputArgs&&this.searchInputArgs.element&&this.searchInputArgs.element.parentElement&&(e9.II.destroy(this.searchInputArgs),(0,y.Od)(this.searchInputArgs.element)),this.searchInputArgs=null,this.sInput=null,this.parent.isReact&&this.options.column.filter&&"string"!=typeof this.options.column.filter.itemTemplate&&("CheckBox"===this.options.column.filter.type||"Excel"===this.options.column.filter.type)&&(this.dialogObj.element.querySelector(".e-dlg-content").innerHTML=""),this.dialogObj.destroy(),"escape"===this.dialogObj.dlgClosedBy&&(this.parent.isColumnMenuFilterClosing=!0),this.dlg&&this.dlg.parentElement){(0,y.Od)(this.dlg);var i=document.getElementById(this.parent.element.id+"_e-popup");(0,y.le)(i)||((0,y.Od)(i),i=null)}this.dlg=null,this.parent.notify(Z.RAh,{})}},e.prototype.clearFilter=function(e){var t={instance:this,handler:this.clearFilter,cancel:!1};this.parent.notify(Z.ZuL,t),t.cancel||this.options.handler({action:"clear-filter",field:e?e.field:this.options.field})},e.prototype.btnClick=function(e){if(this.filterState){if("input"===e.target.tagName.toLowerCase()&&e.target.classList.contains("e-searchinput")||13===e.keyCode)this.isCheckboxFilterTemplate||this.fltrBtnHandler();else{var t=e.target.firstChild.textContent.toLowerCase();this.getLocalizedLabel(this.isExcel?"OKButton":"FilterButton").toLowerCase()===t?this.isCheckboxFilterTemplate||this.fltrBtnHandler():this.getLocalizedLabel("ClearButton").toLowerCase()===t&&this.clearFilter()}this.closeDialog()}else e.target&&e.target.firstChild&&e.target.firstChild.textContent.toLowerCase()===this.getLocalizedLabel("CancelButton").toLowerCase()?this.closeDialog():"input"!==e.target.tagName.toLowerCase()&&(this.clearFilter(),this.closeDialog());this.options.column.showColumnMenu&&this.parent.notify(Z.R8s,{}),(0,y.le)(this.parent.focusModule)||this.parent.focusModule.filterfocus()},e.prototype.fltrBtnHandler=function(){var e,t,i,n=this;this.infiniteRenderMod&&(this.cBox.innerHTML="",(0,U.rG)(this.cBox,this.infiniteLoadedElem.slice()));var r=[].slice.call(this.cBox.querySelectorAll(".e-check:not(.e-selectall):not(.e-add-current)")),o=r,s="equal",a=this.dialogObj.element.querySelector(".e-dropdownlist");a&&(this.options.operator=s=a.ej2_instances[0].value),this.isMenuNotEqual="notequal"===this.options.operator,this.options.hideSearchbox||(e=this.searchBox.querySelector(".e-searchinput"));var l=this.options.allowCaseSensitive,h={field:this.options.field,predicate:this.isMenuNotEqual?"and":"or",uid:this.options.uid,operator:s,type:this.options.type,matchCase:l,ignoreAccent:this.options.ignoreAccent},c=this.itemsCnt!==r.length&&this.itemsCnt-r.length<r.length;c&&e&&""===e.value&&(s=this.isMenuNotEqual?"equal":"notequal",r=[].slice.call(this.cBox.querySelectorAll(".e-uncheck:not(.e-selectall)")),h.predicate=this.isMenuNotEqual?"or":"and",h.operator=s);var p=[];if(r.length!==this.itemsCnt||e&&e.value&&""!==e.value||this.infiniteRenderMod){if(this.infiniteRenderMod)this.infiniteRenderMod&&(!this.infiniteSearchPred||this.infiniteSearchPred&&!this.infiniteSearchPred.isComplex)?this.infiniteFltrBtnHandler(p):this.infiniteSearchPred.isComplex&&(p=this.complexQueryPredicate(r,h,c));else{if(p=this.complexQueryPredicate(r,h,c),(0,y.le)(p))return;p=this.filterPreventColumns?this.filterPreventColumns:p}("date"===this.options.type||"dateonly"===this.options.type||"datetime"===this.options.type)&&o.length&&(i=o.length-1,t=this.values[(0,U.Cf)(o[parseInt(i.toString(),10)],"e-ftrchk").getAttribute("uid")],(0,y.le)(t)&&c&&p.push({field:h.field,matchCase:h.matchCase,operator:"equal",predicate:"or",value:null}));var d=this.infiniteRenderMod?this.sBox.querySelector(".e-add-current"):this.cBox.querySelector(".e-add-current");if(d&&d.classList.contains("e-check")){var u=this.existingPredicate[this.options.field];if(!u)return;for(var g=function(e){p.some(function(t){return t.value===u[parseInt(e.toString(),10)].value})||p.push(u[parseInt(e.toString(),10)])},f=0;f<u.length;f++)g(f)}if(this.infiniteRenderMod){if(p.length)this.initiateFilter(p);else if(this.sBox.querySelector(".e-selectall").classList.contains("e-check")&&!p.length){var m=this.options.filteredColumns.some(function(e){return n.options.field===e.field});m&&this.clearFilter()}}else this.initiateFilter(p)}else{var m=this.options.filteredColumns.some(function(e){return n.options.field===e.field});m&&this.clearFilter()}},e.prototype.complexQueryPredicate=function(t,i,n){for(var r,o,s=[],a=0;a<t.length;a++)r=this.values[(0,U.Cf)(t[parseInt(a.toString(),10)],"e-ftrchk").getAttribute("uid")],o=(0,y.l7)({},{value:r},i),r&&!r.toString().length&&(o.operator=n?"notequal":"equal"),""===r||(0,y.le)(r)?s=s.concat(e.generateNullValuePredicates(i)):s.push(o);var l=this.filterPreventColumns&&this.filterPreventColumns.length?this.filterPreventColumns[0]:o;return l&&!this.notifyFilterPrevEvent(l)?(this.filterPreventColumns=s,null):s},e.prototype.infiniteFltrBtnHandler=function(t){var i;if(this.infiniteManualSelectMaintainPred.length)for(var n=0;n<this.infiniteManualSelectMaintainPred.length;n++){var r=this.infiniteManualSelectMaintainPred[n];if(""==(i=r.value+"")||(0,y.le)(i)){var o={predicate:r.predicate,field:r.field,type:r.type,uid:r.uid,operator:r.operator,matchCase:r.matchCase,ignoreAccent:r.ignoreAccent};t.push.apply(t,e.generateNullValuePredicates(o))}else t.push(this.infiniteManualSelectMaintainPred[n]);this.notifyFilterPrevEvent(this.infiniteManualSelectMaintainPred[n])}if(!this.localInfiniteSelectAllClicked&&""===this.sInput.value&&!(!this.options.parentCurrentViewDataCount&&t.length))for(var n=0;n<this.infiniteUnloadParentExistPred.length;n++)t.unshift(this.infiniteUnloadParentExistPred[n]),this.notifyFilterPrevEvent(this.existingPredicate[this.options.field][n]);""!==this.sInput.value&&(!this.localInfiniteSelectAllClicked||this.infiniteLocalSelectAll)&&(this.infiniteSearchPred.predicate="or",t.unshift(this.infiniteSearchPred),this.notifyFilterPrevEvent(this.infiniteSearchPred))},e.prototype.notifyFilterPrevEvent=function(e){var t={instance:this,handler:this.fltrBtnHandler,arg1:e.field,arg2:e.predicate,arg3:e.operator,arg4:e.matchCase,arg5:e.ignoreAccent,arg6:e.value,cancel:!1};return this.parent.notify(Z.ZuL,t),!t.cancel},e.generateNullValuePredicates=function(e){var t=[];return"string"===e.type&&t.push({field:e.field,ignoreAccent:e.ignoreAccent,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:""}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:null}),t.push({field:e.field,matchCase:e.matchCase,operator:e.operator,predicate:e.predicate,value:void 0}),t},e.prototype.initiateFilter=function(e){var t,i=e[0];if(!(0,y.le)(i)){t=i.ejpredicate?i.ejpredicate:new Y.$(i.field,i.operator,i.value,!i.matchCase,i.ignoreAccent);for(var n=1;n<e.length;n++)t=void 0!==e[parseInt(n.toString(),10)].ejpredicate?t[e[parseInt(n.toString(),10)].predicate](e[parseInt(n.toString(),10)].ejpredicate):t[e[parseInt(n.toString(),10)].predicate](e[parseInt(n.toString(),10)].field,e[parseInt(n.toString(),10)].operator,e[parseInt(n.toString(),10)].value,!e[parseInt(n.toString(),10)].matchCase,e[parseInt(n.toString(),10)].ignoreAccent);var r={action:"filtering",filterCollection:e,field:this.options.field,ejpredicate:Y.$.or(t)};this.options.handler(r)}},e.prototype.isForeignColumn=function(e){return!!e.isForeignColumn&&e.isForeignColumn()},e.prototype.refreshCheckboxes=function(){var t,i=this,n=this.sInput.value,r=this.options.column,o=this.isForeignColumn(r)?this.foreignKeyQuery.clone():this.options.query.clone(),s=this.options.query.clone(),a=o.queries.filter(function(e){return e&&"onWhere"===e.fn})[0];o.queries=[],s.queries=[];var l="string"!==this.options.type&&parseFloat(n)?parseFloat(n):n,h=this.options.isRemote?"string"===this.options.type?"contains":"equal":this.options.type?"contains":"equal",c=this.options.ignoreAccent,p=this.isForeignColumn(r)?r.foreignKeyValue:r.field;l=""===l||void 0===l?void 0:l;var d=[],u={field:p,predicate:"or",uid:this.options.uid,operator:"equal",type:this.options.type,matchCase:!0,ignoreAccent:c},g=this.options.dataManager.adaptor.getModuleName;if("boolean"===this.options.type&&(void 0!==l&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(l.toLowerCase())?l="true":void 0!==l&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(l.toLowerCase())&&(l="false"),void 0!==l&&-1!==this.getLocalizedLabel("FilterTrue").toLowerCase().indexOf(l.toLowerCase())&&g?(g(),l=!0):void 0!==l&&-1!==this.getLocalizedLabel("FilterFalse").toLowerCase().indexOf(l.toLowerCase())&&g&&(g(),l=!1),h="equal"),("date"===this.options.type||"datetime"===this.options.type||"dateonly"===this.options.type)&&this.options.format){var f=new y.eC,m="string"==typeof this.options.format?this.options.format:this.options.format.format;l=m&&f.parseDate(n,{format:m})||new Date(n),"dateonly"===this.options.type&&(l=l.getFullYear()+"-"+(0,U.Bd)(l.getMonth()+1)+"-"+(0,U.Bd)(l.getDate()))}this.infiniteSearchValChange=!0,this.infiniteLoadedElem=[],this.infiniteLocalSelectAll=!0,this.localInfiniteSelectAllClicked=!1,this.localInfiniteSelectionInteracted=!1,this.infiniteSkipCnt=0,this.infiniteDataCount=0,this.infiniteManualSelectMaintainPred=[],""===this.sInput.value?this.infiniteUnloadParentExistPred=this.infiniteRenderMod&&this.existingPredicate[this.options.column.field]?this.existingPredicate[this.options.column.field].slice():[]:this.infiniteUnloadParentExistPred=[],this.addDistinct(o);var S={requestType:Z.JEZ,filterModel:this,columnName:p,column:r,operator:h,matchCase:!0,ignoreAccent:c,filterChoiceCount:null,query:o,value:l};this.infiniteRenderMod&&this.parent.filterSettings.itemsCount&&(S.filterChoiceCount=this.parent.filterSettings.itemsCount),this.parent.trigger(Z.m2U,S,function(g){if(g.operator=g.operator,t=new Y.$(p,g.operator,S.value,g.matchCase,g.ignoreAccent),"date"===i.options.type||"datetime"===i.options.type||"dateonly"===i.options.type){var f={field:p,operator:h="equal",value:l,matchCase:!0,ignoreAccent:c};(0,y.le)(l)||(t=(0,U.bH)(f,i.options.type))}if(n&&"string"==typeof n&&i.isBlanks&&i.getLocalizedLabel("Blanks").toLowerCase().indexOf(n.toLowerCase())>=0){d=d.concat(e.generateNullValuePredicates(u));var m=e.generatePredicate(d);m.predicates.push(t),t=m,o.where(m)}else n.length?(t=(0,y.le)(a)?t:t.and(a.e),o.where(t)):(0,y.le)(a)||(t=a.e,o.where(a.e));i.infiniteSearchPred=t,g.filterChoiceCount=(0,y.le)(g.filterChoiceCount)?1e3:g.filterChoiceCount,i.infiniteRenderMod&&i.parent.filterSettings.itemsCount!==g.filterChoiceCount&&(i.parent.filterSettings.itemsCount=S.filterChoiceCount);var C={};(0,b.yh)(i.spinner),i.renderEmpty=!1,i.isForeignColumn(r)&&n.length?("result"in r.dataSource?new v.h(r.dataSource.result):r.dataSource).executeQuery(o).then(function(e){var t=i.options.column.columnData;i.options.column.columnData=e.result,i.parent.notify(Z.KuG,{predicate:C,column:r}),C.predicate.predicates.length?s.where(C.predicate):i.renderEmpty=!0,i.options.column.columnData=t,i.infiniteRenderMod?(i.infiniteInitialLoad=!!(0,y.le)(i.fullData),i.makeInfiniteScrollRequest(s),s.requiresCount()):s.take(g.filterChoiceCount),i.search(g,s)}):(i.infiniteRenderMod&&i.parent.filterSettings.itemsCount?(i.infiniteInitialLoad=!!(0,y.le)(i.fullData),i.makeInfiniteScrollRequest(o),o.requiresCount()):o.take(g.filterChoiceCount),i.search(g,o))})},e.prototype.search=function(e,t){this.parent.dataSource&&"result"in this.parent.dataSource?this.filterEvent(e,t):this.processSearch(t)},e.prototype.getPredicateFromCols=function(t,i){for(var n=e.getPredicate(t,i),r=[],o={},s=void 0!==this.parent.getForeignKeyColumns,a=s?this.parent.getForeignKeyColumns():[],l=0,h=Object.keys(n);l<h.length;l++){var c=h[l],p=void 0;s&&!this.parent.getColumnByField(c)&&(p=(0,U.xv)(c,a)),p?(this.parent.notify(Z.KuG,{predicate:o,column:p}),o.predicate.predicates.length&&r.push(Y.$.or(o.predicate.predicates))):r.push(n[""+c])}return r.length&&Y.$.and(r)},e.prototype.getQuery=function(){return this.parent.getQuery?this.parent.getQuery().clone():new Y.A},e.prototype.getAllData=function(){var e=this;this.customQuery=!1;var t=this.getQuery(),i=this.options.dataManager.adaptor.getModuleName;!(0,y.le)(this.parent.getDataModule)&&i&&"ODataV4Adaptor"===i()||t.requiresCount(),this.addDistinct(t);var n={requestType:Z.Ddc,query:t,filterChoiceCount:null};n.filterModel=this,this.infiniteRenderMod&&this.parent.filterSettings.itemsCount&&(n.filterChoiceCount=this.parent.filterSettings.itemsCount),this.parent.trigger(Z.m2U,n,function(i){i.filterChoiceCount=(0,y.le)(i.filterChoiceCount)?1e3:i.filterChoiceCount,e.infiniteRenderMod&&e.parent.filterSettings.itemsCount!==i.filterChoiceCount&&(e.parent.filterSettings.itemsCount=i.filterChoiceCount),e.infiniteRenderMod||t.take(i.filterChoiceCount),(!i.query.distincts.length||e.infiniteRenderMod)&&(e.customQuery=!0,e.queryGenerate(t)),e.infiniteRenderMod&&(e.infiniteInitialLoad=!!(0,y.le)(e.fullData),e.makeInfiniteScrollRequest(t)),e.parent.dataSource&&"result"in e.parent.dataSource?e.filterEvent(i,t):e.processDataOperation(t,!0)})},e.prototype.addDistinct=function(e){var t=this,i=S.j.distinct(this.options.filteredColumns,"field");-1>=i.indexOf(this.options.column.field)&&(i=i.concat(this.options.column.field));var n=this.options.dataManager.adaptor.getModuleName;if(n&&"ODataV4Adaptor"===n()&&this.parent&&this.parent.query instanceof Y.A)for(var r=this.parent.query,o=0;o<r.queries.length;o++){var s=r.queries[parseInt(o.toString(),10)];"onWhere"===s.fn&&(this.getPredicateFields(s.e),this.queryFilteredColumn.map(function(e){-1===i.indexOf(e)&&i.push(e)}),this.queryFilteredColumn=[])}if(this.infiniteRenderMod||e.distinct(i),this.infiniteRenderMod&&!this.options.isRemote&&""===this.sInput.value){this.options.dataSource=this.options.dataSource instanceof v.h?this.options.dataSource:new v.h(this.options.dataSource),this.infinitePermenantLocalData=this.options.dataSource.dataSource.json.slice();var a=new Y.A;this.queryGenerate(a);var l=new v.h(this.options.dataSource.dataSource).executeLocal(a);this.options.dataSource=new v.h(S.j.distinct(l,this.options.column.field,!0)),this.isForeignColumn(this.options.column)&&(this.options.column.dataSource=this.options.column.dataSource instanceof v.h?this.options.column.dataSource:new v.h(this.options.column.dataSource),this.options.dataSource.dataSource.json=this.options.dataSource.dataSource.json.map(function(e,i){return Object.assign({},e,t.options.column.dataSource.dataSource.json[i])}))}else if(this.infiniteRenderMod&&this.options.isRemote){e.select(this.options.column.field),e.sortBy(this.options.column.field,"ascending");var h=this.options.dataManager.adaptor.getModuleName;h&&h()&&("ODataV4Adaptor"===h()||"WebApiAdaptor"===h()||"CustomDataAdaptor"===h()||"GraphQLAdaptor"===h()||"ODataAdaptor"===h())&&e.distinct(i)}return e},e.prototype.getPredicateFields=function(e){var t=this;e.isComplex&&e.predicates?e.predicates.forEach(function(e){Array.isArray(e)?e.forEach(function(e){return t.getPredicateFields(e)}):t.getPredicateFields(e)}):e.field&&!e.isComplex&&-1>=this.queryFilteredColumn.indexOf(e.field)&&(this.queryFilteredColumn=this.queryFilteredColumn.concat(S.j.distinct([e.field],"field")))},e.prototype.filterEvent=function(e,t){var i=this,n=(0,U.gs)(e,t);this.parent.trigger(Z.MEe,n.state),this.addInfiniteScrollEvent(t),n.deffered.promise.then(function(e){i.infiniteDataCount=i.infiniteRenderMod&&!i.infiniteDataCount?e.count:i.infiniteDataCount;var t=i.infiniteRenderMod?e.result:e;i.dataSuccess(t)})},e.prototype.addInfiniteScrollEvent=function(e){this.infiniteRenderMod&&(this.infiniteQuery=e.clone(),this.infiniteInitialLoad?(this.cBox.classList.add("e-checkbox-infinitescroll"),y.bi.add(this.cBox,"scroll",this.infiniteScrollHandler,this),y.bi.add(this.cBox,"mouseup",this.infiniteScrollMouseKeyUpHandler,this),y.bi.add(this.cBox,"mousedown",this.infiniteScrollMouseKeyDownHandler,this)):this.infiniteSearchValChange&&(this.cBox.innerHTML=""))},e.prototype.infiniteScrollMouseKeyDownHandler=function(){y.bi.remove(this.cBox,"scroll",this.infiniteScrollHandler)},e.prototype.infiniteScrollMouseKeyUpHandler=function(e){var t=this;y.bi.add(this.cBox,"scroll",this.infiniteScrollHandler,this);var i=this.cBox;i.children.length>1&&(i.scrollTop>=i.scrollHeight-i.offsetHeight||i.scrollTop<=0)&&this.infiniteScrollHandler(),U.xB.timer=setTimeout(function(){t.clickHandler(e),U.xB.timer=null},0)},e.prototype.getShimmerTemplate=function(){return'<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave"></span>'},e.prototype.showMask=function(){var e,t=5,i=this.parent.createElement("div",{id:this.id+this.options.type+"_CheckBoxMaskList",className:"e-checkboxlist e-fields e-infinite-list e-masklist"});i.style.zIndex="10";var n=this.cBox;if(this.removeMask(),n){var r=getComputedStyle(n),o=(0,U.wk)(n),s=n.children.length?parseInt(r.height,10):Math.floor(parseInt(r.height.split("px")[0],10))-5;this.parent.enableAdaptiveUI&&this.infiniteRenderMod&&(i.style.height=s-o+"px",this.dlg.querySelector(".e-dlg-content").style.overflow="hidden");var a=!this.isExcel||n.children.length||this.dlg.classList.contains("e-excelfilter")?getComputedStyle(this.dlg.querySelector(".e-dlg-content")).backgroundColor:"";i.style.cssText="width: "+r.width+"; min-height: "+r.minHeight+"; height: "+s+"px; margin: "+r.margin+"; border-style: "+r.borderStyle+"; border-width: "+r.borderWidth+"; border-color: "+r.borderColor+"; position: absolute; background-color: "+a+";",t=Math.floor(s/o),t=n.children.length>t?n.children.length:t,e=o+"px"}var l='<div class="e-ftrchk e-mask-ftrchk"><div class="e-checkbox-wrapper"><input class="e-chk-hidden">'+this.getShimmerTemplate()+this.getShimmerTemplate()+"</div></div>";if(i.innerHTML="",!n.children.length){this.spinner.insertAdjacentHTML("beforebegin",l),this.spinner.parentElement.querySelector(".e-ftrchk.e-mask-ftrchk").style.cssText="width: 100%; height: "+e+";",this.spinner.parentElement.querySelector(".e-checkbox-wrapper").style.width="100%";var h=[].slice.call(this.spinner.parentElement.querySelectorAll(".e-mask:not(.e-mask-checkbox-filter-intent):not(.e-mask-checkbox-filter-span-intent)"));h[0].classList.add("e-mask-checkbox-filter-intent"),h[1].classList.add("e-mask-checkbox-filter-span-intent")}this.spinner.insertBefore(i,this.cBox);for(var c=0;t&&c<t;c++){i.innerHTML+=l,i.lastElementChild.style.cssText="width: 100%; height: "+e+";",i.lastElementChild.querySelector(".e-checkbox-wrapper").style.width="100%";var h=[].slice.call(i.querySelectorAll(".e-mask:not(.e-mask-checkbox-filter-intent):not(.e-mask-checkbox-filter-span-intent)"));h[0].classList.add("e-mask-checkbox-filter-intent"),h[1].classList.add("e-mask-checkbox-filter-span-intent")}this.cBox&&(i.scrollTop=this.cBox.scrollTop)},e.prototype.removeMask=function(){var e=this.dialogObj.element.querySelectorAll(".e-mask-ftrchk");if(e.length)for(var t=0;t<e.length;t++)(0,y.Od)(e[t]);this.dialogObj.element.querySelector(".e-checkboxlist.e-masklist")&&(0,y.Od)(this.dialogObj.element.querySelector(".e-checkboxlist.e-masklist"))},e.prototype.infiniteScrollHandler=function(){var e=this.cBox;e.scrollTop>=e.scrollHeight-e.offsetHeight&&!this.infiniteQueryExecutionPending&&this.infiniteLoadedElem.length<=this.infiniteSkipCnt+this.parent.filterSettings.itemsCount&&this.cBox.children.length===3*this.parent.filterSettings.itemsCount&&(!this.infiniteDataCount||this.infiniteDataCount>this.infiniteSkipCnt+this.parent.filterSettings.itemsCount)?(this.makeInfiniteScrollRequest(),this.prevInfiniteScrollDirection="down"):e.scrollTop>=e.scrollHeight-e.offsetHeight&&!this.infiniteQueryExecutionPending&&this.infiniteLoadedElem.length>this.infiniteSkipCnt+this.parent.filterSettings.itemsCount&&this.cBox.children.length===3*this.parent.filterSettings.itemsCount?((0,U.Ld)([].slice.call(this.cBox.children).splice(0,this.parent.filterSettings.itemsCount)),this.infiniteSkipCnt+="down"===this.prevInfiniteScrollDirection?this.parent.filterSettings.itemsCount:3*this.parent.filterSettings.itemsCount,(0,U.rG)(this.cBox,this.infiniteLoadedElem.slice(this.infiniteSkipCnt,this.parent.filterSettings.itemsCount+this.infiniteSkipCnt)),this.prevInfiniteScrollDirection="down"):0===e.scrollTop&&!this.infiniteInitialLoad&&!this.infiniteSearchValChange&&this.infiniteSkipCnt&&this.infiniteLoadedElem.length&&this.infiniteLoadedElem.length>3*this.parent.filterSettings.itemsCount&&this.cBox.children.length===3*this.parent.filterSettings.itemsCount?((0,U.Ld)([].slice.call(this.cBox.children).splice(2*this.parent.filterSettings.itemsCount,this.parent.filterSettings.itemsCount)),this.infiniteSkipCnt-="up"===this.prevInfiniteScrollDirection?this.parent.filterSettings.itemsCount:3*this.parent.filterSettings.itemsCount,(0,U.gm)([].slice.call(this.infiniteLoadedElem.slice(this.infiniteSkipCnt,this.infiniteSkipCnt+this.parent.filterSettings.itemsCount)),this.cBox),this.cBox.scrollTop=this.infiniteScrollAppendDiff,this.prevInfiniteScrollDirection="up"):0===e.scrollTop&&!this.infiniteInitialLoad&&!this.infiniteSearchValChange&&this.infiniteSkipCnt&&this.infiniteLoadedElem.length&&this.cBox.children.length<3*this.parent.filterSettings.itemsCount&&((0,U.Ld)([].slice.call(this.cBox.children).splice(2*this.parent.filterSettings.itemsCount,this.infiniteDataCount%this.parent.filterSettings.itemsCount)),this.infiniteSkipCnt=(Math.floor(this.infiniteDataCount/this.parent.filterSettings.itemsCount)-3)*this.parent.filterSettings.itemsCount,(0,U.gm)([].slice.call(this.infiniteLoadedElem.slice(this.infiniteSkipCnt,this.infiniteSkipCnt+this.parent.filterSettings.itemsCount)),this.cBox),this.cBox.scrollTop=this.infiniteScrollAppendDiff,this.prevInfiniteScrollDirection="up")},e.prototype.makeInfiniteScrollRequest=function(e){var t=this;if(!this.infiniteInitialLoad&&this.parent.filterSettings&&"Shimmer"===this.parent.filterSettings.loadingIndicator?setTimeout(function(){t.infiniteQueryExecutionPending&&t.showMask()},500):this.infiniteInitialLoad||((0,b.rj)({target:this.spinner,cssClass:this.parent.cssClass?this.parent.cssClass:null},this.parent.createElement),(0,b.yh)(this.spinner)),this.infiniteQuery&&this.infiniteQuery.queries&&this.infiniteQuery.queries.length)for(var i=0;i<this.infiniteQuery.queries.length;i++)("onTake"===this.infiniteQuery.queries[i].fn||"onSkip"===this.infiniteQuery.queries[i].fn)&&(this.infiniteQuery.queries.splice(i,1),i--);var n=!!e;if(e=e||this.infiniteQuery,this.infiniteInitialLoad||this.infiniteSearchValChange?this.infiniteSkipCnt=0:this.infiniteSkipCnt+=this.parent.filterSettings.itemsCount,e.skip(this.infiniteSkipCnt),this.infiniteInitialLoad||this.infiniteSearchValChange?(e.take(3*this.parent.filterSettings.itemsCount),this.infiniteSkipCnt+=2*this.parent.filterSettings.itemsCount):e.take(this.parent.filterSettings.itemsCount),!n){if(this.parent.dataSource&&"result"in this.parent.dataSource){var r={requestType:Z.Ddc,query:e,filterChoiceCount:null,filterModel:this};this.infiniteRenderMod&&this.parent.filterSettings.itemsCount&&(r.filterChoiceCount=this.parent.filterSettings.itemsCount),this.filterEvent(r,e)}else this.processDataOperation(e),this.infiniteQueryExecutionPending=!0}},e.prototype.processDataOperation=function(e,t){var i=this;this.options.dataSource=this.options.dataSource instanceof v.h?this.options.dataSource:new v.h(this.options.dataSource);var n=[],r=[];if(this.isForeignColumn(this.options.column)&&t){var o="result"in this.options.column.dataSource?new v.h(this.options.column.dataSource.result):this.options.column.dataSource;this.foreignKeyQuery.params=e.params,n.push(o.executeQuery(this.foreignKeyQuery)),r.push(function(e){return i.foreignKeyData=e})}if(this.addInfiniteScrollEvent(e),this.infiniteRenderMod&&this.infiniteInitialLoad&&!this.options.isRemote){var s=this.isForeignColumn(this.options.column)?this.options.foreignKeyValue:this.options.column.field;this.options.dataSource.executeQuery(new Y.A().sortBy(s,S.j.fnAscending)).then(function(t){i.options.dataSource.dataSource.json=t.result,i.executeQueryOperations(e,n,r)})}else this.executeQueryOperations(e,n,r)},e.prototype.executeQueryOperations=function(e,t,i){var n=this;t.push(this.options.dataSource.executeQuery(e)),i.push(this.dataSuccess.bind(this));var r=0;Promise.all(t).then(function(e){n.infiniteQueryExecutionPending=!n.infiniteRenderMod&&n.infiniteQueryExecutionPending;for(var t=0;t<e.length;t++)n.infiniteDataCount=n.infiniteRenderMod&&!n.infiniteDataCount?e[t].count:n.infiniteDataCount,i[r++](e[parseInt(t.toString(),10)].result)}).catch(function(){n.infiniteRenderMod&&n.parent.filterSettings&&"Shimmer"===n.parent.filterSettings.loadingIndicator&&n.parent.showMaskRow(void 0,n.dialogObj.element)})},e.prototype.dataSuccess=function(t){if(this.infiniteInitialLoad||!this.infiniteDataCount||(!(this.infiniteSkipCnt>=this.infiniteDataCount)||this.infiniteSearchValChange)&&0!==t.length){this.fullData=t;var i={dataSource:this.fullData,executeQuery:!0,field:this.options.field};if(this.parent.notify(Z.n_n,i),i.executeQuery){var n=new Y.A;this.customQuery||(this.isExecuteLocal=!0,this.queryGenerate(n),this.isExecuteLocal=!1);var r=new v.h(i.dataSource).executeLocal(n),o=this.options.column;this.filteredData=e.getDistinct(r,this.options.field,o,this.foreignKeyData,this).records||[]}var s=i.executeQuery?this.filteredData:i.dataSource;this.processDataSource(null,!0,s,i),(this.infiniteRenderMod&&this.infiniteInitialLoad||!this.infiniteRenderMod)&&(this.sInput?this.sInput.focus():this.dlg.querySelector(".e-chk-hidden")&&this.dlg.querySelector(".e-ftrchk")&&(this.dlg.querySelector(".e-chk-hidden").focus(),this.dlg.querySelector(".e-ftrchk").classList.add("e-chkfocus"))),(this.infiniteInitialLoad||this.infiniteSearchValChange)&&(this.infiniteInitialLoad=!1,this.infiniteSearchValChange=!1);var a={requestType:Z.Ti1,columnName:this.options.field,columnType:this.options.type};a.filterModel=this,this.parent.notify(Z.xXB,a),this.isCheckboxFilterTemplate&&(0,b.v3)(this.spinner)}},e.prototype.queryGenerate=function(e){if(this.parent.searchSettings&&this.parent.searchSettings.key.length){var t=this.options.dataManager.adaptor.getModuleName;if(!(0,y.le)(this.parent.getDataModule)&&t&&"ODataV4Adaptor"===t())this.parent.getDataModule().searchQuery(e);else{var i=this.parent.searchSettings,n=i.fields.length?i.fields:this.options.columns.map(function(e){return e.field});e.search(i.key,n,i.operator,i.ignoreCase,i.ignoreAccent)}}if(this.options.filteredColumns.length){for(var r=[],o=0;o<this.options.filteredColumns.length;o++){var s=this.options.filteredColumns[parseInt(o.toString(),10)];this.options.uid?(s.uid=s.uid||this.parent.getColumnByField(s.field).uid,s.uid!==this.options.uid&&r.push(this.options.filteredColumns[parseInt(o.toString(),10)])):s.field!==this.options.field&&r.push(this.options.filteredColumns[parseInt(o.toString(),10)])}var a=this.getPredicateFromCols(r,this.isExecuteLocal);a&&e.where(a)}},e.prototype.processDataSource=function(e,t,i,n){(0,b.yh)(this.spinner),this.isExecuteLocal=!0,this.updateResult(),this.isExecuteLocal=!1;var r={dataSource:this.fullData,isCheckboxFilterTemplate:!1,column:this.options.column,element:this.cBox,type:this.options.type,format:this.options.type,btnObj:this.options.isResponsiveFilter?null:this.dialogObj.btnObj[0],searchBox:this.searchBox};this.parent.notify(Z._Gn,r),this.isCheckboxFilterTemplate=r.isCheckboxFilterTemplate,this.isCheckboxFilterTemplate?this.infiniteRenderMod&&this.parent.filterSettings&&"Shimmer"===this.parent.filterSettings.loadingIndicator&&this.removeMask():this.createFilterItems(i,t,n)},e.prototype.processSearch=function(e){this.processDataOperation(e)},e.prototype.updateResult=function(){this.result={};var e=this.infiniteRenderMod&&this.existingPredicate[this.options.field]?this.getPredicateFromCols(this.existingPredicate[this.options.field],this.isExecuteLocal):this.getPredicateFromCols(this.options.filteredColumns,this.isExecuteLocal),t=new Y.A;e&&t.where(e),this.parent.notify(Z.aF_,{query:t});for(var i=new v.h(this.fullData).executeLocal(t),n=0;n<i.length;n++){var r=i[n];this.result[(0,U.RK)(this.options.field,r)]=!0}},e.prototype.clickHandler=function(e){(0,y.le)(U.xB.timer)||clearTimeout(U.xB.timer);var t,i=e.target;if(!(!(0,y.le)(this.parent.loadingIndicator)&&"Shimmer"===this.parent.loadingIndicator.indicatorType&&(0,U.Cf)(i,"e-mask-ftrchk"))){var n=(0,U.Cf)(i,"e-checkbox-wrapper");if((0,U.Cf)(i,"e-searchbox")&&this.searchBoxClick(e),n&&!this.isCheckboxFilterTemplate){var r=n.querySelector(".e-selectall");if(r)this.updateAllCBoxes(!r.classList.contains("e-check"));else if((0,U.X_)(n.parentElement),this.infiniteRenderMod&&!n.parentElement.querySelector(".e-add-current")){this.localInfiniteSelectionInteracted=!0;var o=this.options.allowCaseSensitive,s=n.parentElement.querySelector(".e-frame").previousSibling,a=s.checked?"equal":"notequal",l=s.checked?"or":"and",h={field:this.options.field,predicate:l,uid:this.options.uid,operator:a,type:this.options.type,matchCase:o,ignoreAccent:this.options.ignoreAccent},c=this.values[(0,U.Cf)(s,"e-ftrchk").getAttribute("uid")];if(this.updateInfiniteManualSelectPred(h,c),this.infiniteRenderMod&&!this.options.isRemote&&this.options.parentTotalDataCount&&this.infiniteUnloadParentExistPred.length){var p=this.getPredicateFromCols((t=this.options.filteredColumns).concat.apply(t,this.infiniteManualSelectMaintainPred),!0),d=new Y.A;p&&d.where(p);var u=new v.h(this.infinitePermenantLocalData).executeLocal(d);this.options.parentTotalDataCount!==u.length&&(this.options.parentTotalDataCount=u.length),!this.options.parentTotalDataCount&&this.infiniteUnloadParentExistPred.length&&(this.infiniteUnloadParentExistPred=[])}this.infiniteUnloadParentExistPred.length&&(this.options.parentTotalDataCount===this.infiniteDataCount||!this.options.parentTotalDataCount)&&(this.infiniteUnloadParentExistPred=[])}this.updateIndeterminatenBtn(),n.querySelector(".e-chk-hidden").focus()}this.setFocus((0,U.Cf)(n,"e-ftrchk"))}},e.prototype.updateInfiniteManualSelectPred=function(e,t){for(var i=0;i<this.infiniteManualSelectMaintainPred.length;i++){var n=this.infiniteManualSelectMaintainPred[i];if(n.value+""==t+""&&("equal"===n.operator||"notequal"===n.operator)){this.infiniteManualSelectMaintainPred.splice(i,1);break}}("or"===e.predicate&&(!this.localInfiniteSelectAllClicked||!this.infiniteLocalSelectAll)||"and"===e.predicate&&(!this.localInfiniteSelectAllClicked||this.infiniteLocalSelectAll))&&(this.infiniteManualSelectMaintainPred.push((0,y.l7)({},{value:t},e)),"or"===e.predicate?this.options.parentTotalDataCount++:this.options.parentTotalDataCount--)},e.prototype.focusNextOrPrev=function(e,t){var i="ArrowUp"===e.key?t.indexOf(document.activeElement)-1:t.indexOf(document.activeElement)+1,n=t[(i+t.length)%t.length];if(n){n.focus();var r=n.classList.contains("e-chk-hidden")?(0,U.Cf)(n,"e-ftrchk"):n;this.setFocus(r)}},e.prototype.keyupHandler=function(e){if("Tab"!==e.key&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||e.altKey)||this.setFocus((0,U.Cf)(e.target,"e-ftrchk")),("ArrowUp"===e.key||"ArrowDown"===e.key)&&!e.altKey&&this.parent.filterSettings&&"CheckBox"===this.parent.filterSettings.type){e.preventDefault();var t=Array.from(this.dlg.querySelectorAll('input, button, [tabindex]:not([tabindex="-1"])'));this.focusNextOrPrev(e,t)}},e.prototype.setFocus=function(e){var t=this.dlg.querySelector(".e-chkfocus");t&&t.classList.remove("e-chkfocus"),e&&e!==t&&e.classList.add("e-chkfocus")},e.prototype.updateAllCBoxes=function(e){this.infiniteRenderMod&&(this.localInfiniteSelectAllClicked=!0,this.infiniteLocalSelectAll=e,this.infiniteUnloadParentExistPred=[],this.infiniteManualSelectMaintainPred=[]);for(var t=this.infiniteRenderMod?this.infiniteLoadedElem.map(function(e){return e.querySelector(".e-frame")}):[].slice.call(this.cBox.querySelectorAll(".e-frame:not(.e-add-current)")),i=0;i<t.length;i++){var n=t[i];(0,U.jV)(n,e),(0,U.NB)(n.previousSibling,e)}},e.prototype.dialogOpen=function(){this.parent.element.classList.contains("e-device")&&(this.dialogObj.element.querySelector(".e-input-group").classList.remove("e-input-focus"),this.options.isResponsiveFilter||this.dialogObj.element.querySelector(".e-btn").focus())},e.prototype.createCheckbox=function(e,t,i){var n=t?this.cBoxTrue.cloneNode(!0):this.cBoxFalse.cloneNode(!0);(0,U.NB)(n.querySelector("input"),t);var r=n.querySelector(".e-label"),o=(0,U.UO)({},i,{column:this.options.column,parent:this.parent});r[this.options.disableHtmlEncode?"textContent":"innerHTML"]=!(0,y.le)(e)&&e.toString().length?this.parent.enableHtmlSanitizer?y.pJ.sanitize(e):e:this.getLocalizedLabel("Blanks");var s=(0,U.sq)("cbox");if(r.setAttribute("id",s+"cboxLabel"),n.querySelector("input").setAttribute("aria-labelledby",r.id),r.innerHTML===this.getLocalizedLabel("Blanks")&&(this.isBlanks=!0),"boolean"==typeof e&&(r.innerHTML=!0===e?this.getLocalizedLabel("FilterTrue"):this.getLocalizedLabel("FilterFalse")),(0,y.cn)([r],["e-checkboxfiltertext"]),this.options.template&&i[this.options.column.field]!==this.getLocalizedLabel("SelectAll")&&i[this.options.column.field]!==this.getLocalizedLabel("AddCurrentSelection")){r.innerHTML="";var a=this.parent.isReact&&this.options.column.filter&&"string"!=typeof this.options.column.filter.itemTemplate&&!(this.options.column.filter.itemTemplate.prototype&&this.options.column.filter.itemTemplate.prototype.CSPTemplate),l=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;a||l?(this.options.template(o,this.parent,"filterItemTemplate",null,null,null,r),this.parent.renderTemplates()):(0,U.rG)(r,this.options.template(o,this.parent,"filterItemTemplate",null,null,null,null,this.parent.root))}return n},e.prototype.updateIndeterminatenBtn=function(){var e,t=this.infiniteRenderMod?this.infiniteLoadedElem.length:this.cBox.children.length-1,i=[],n=!1,r=this.infiniteRenderMod?this.sBox.querySelector(".e-selectall"):this.cBox.querySelector(".e-selectall"),o=this.infiniteRenderMod?this.infiniteLoadedElem.filter(function(e){return e.querySelector(".e-check")}).length:this.cBox.querySelectorAll(".e-check:not(.e-selectall):not(.e-add-current)").length;this.cBox.querySelector(".e-add-current")&&(t-=1),this.options.isResponsiveFilter||((e=this.dialogObj.btnObj[0]).disabled=!1);var s=r.previousSibling;(0,U.NB)(s,!1),s.indeterminate=!1,!this.infiniteRenderMod||""!==this.sInput.value||this.options.parentCurrentViewDataCount||this.localInfiniteSelectionInteracted||this.localInfiniteSelectAllClicked&&(this.infiniteLocalSelectAll||o)||t===o&&t!==o?this.infiniteRenderMod&&this.infiniteLoadedElem.length<this.infiniteDataCount&&this.infiniteUnloadParentExistPred.length&&(!o||t===o)&&this.infiniteLocalSelectAll&&(o?t+=this.infiniteUnloadParentExistPred.length:o+=this.infiniteUnloadParentExistPred.length):o=0,t===o?(this.infiniteRenderMod&&(this.infiniteLocalSelectAll=!0,this.localInfiniteSelectAllClicked=!0,this.infiniteManualSelectMaintainPred=[]),i=["e-check"],(0,U.NB)(s,!0)):o?(i=["e-stop"],s.indeterminate=!0):(this.infiniteRenderMod&&(this.infiniteLocalSelectAll=!1,this.localInfiniteSelectAllClicked=!0,this.infiniteManualSelectMaintainPred=[]),i=["e-uncheck"],n=!0,e&&(e.disabled=!0)),e&&(this.filterState=!e.disabled,e.dataBind()),(0,y.IV)([r],["e-check","e-stop","e-uncheck"]),(0,y.cn)([r],i),this.parent.notify(Z.L83,{disabled:n})},e.prototype.createFilterItems=function(e,t,i){var n,r,o,s,a=this.parent.createElement("div"),l=!1;this.options.isResponsiveFilter||(s=this.dialogObj.btnObj[0]);var h=-1,c="ejValue";i.executeQuery||(c=i.field);for(var p=0;p<e.length;p++){var d=(0,y.NA)(c,e[parseInt(p.toString(),10)]);(""===d||(0,y.le)(d))&&(h+=1)}if(this.infiniteRenderMod||(this.itemsCnt=-1!==h?e.length-h:e.length),this.infiniteRenderMod&&this.parent.filterSettings&&"Shimmer"===this.parent.filterSettings.loadingIndicator&&this.removeMask(),e.length&&!this.renderEmpty){var u=this.getLocalizedLabel("SelectAll"),g=this.cBox.querySelector(".e-checkfltrnmdiv");g&&g.classList.remove("e-checkfltrnmdiv");var f=this.createCheckbox(u,!1,((n={})[this.options.field]=u,n));if(this.parent.cssClass&&(-1!==this.parent.cssClass.indexOf(" ")?(0,y.cn)([f],this.parent.cssClass.split(" ")):(0,y.cn)([f],[this.parent.cssClass])),this.infiniteInitialLoad||!this.infiniteRenderMod){var m=(0,U.QS)((0,U.sq)("cbox"),f,"e-ftrchk");m.querySelector(".e-frame").classList.add("e-selectall"),this.infiniteRenderMod?(m.classList.add("e-infinitescroll"),this.parent.enableAdaptiveUI&&(this.spinner.style.height=this.spinner.offsetHeight-(0,U.wk)(this.cBox)+"px"),this.sBox.insertBefore(m,this.spinner)):a.appendChild(m)}else this.sBox.querySelector(".e-ftrchk .e-selectall")&&(this.sBox.querySelector(".e-ftrchk .e-selectall").previousSibling.disabled=!1,this.sBox.querySelector(".e-ftrchk .e-selectall").parentElement.classList.remove("e-checkbox-disabled"));var S=new Y.$("field","equal",this.options.field);this.options.foreignKeyValue&&(S=S.or("field","equal",this.options.foreignKeyValue));var C=new v.h(this.options.filteredColumns).executeLocal(new Y.A().where(S)).length;if(this.sInput&&this.sInput.value){var w=this.createCheckbox(this.getLocalizedLabel("AddCurrentSelection"),!1,((r={})[this.options.field]=this.getLocalizedLabel("AddCurrentSelection"),r));if(this.parent.cssClass&&(-1!==this.parent.cssClass.indexOf(" ")?(0,y.cn)([w],this.parent.cssClass.split(" ")):(0,y.cn)([w],[this.parent.cssClass])),(!this.infiniteRenderMod||(0,y.le)(this.sBox.children[2])||this.sBox.children[2].innerText===this.getLocalizedLabel("AddCurrentSelection"))&&this.infiniteRenderMod)this.sBox.querySelector(".e-ftrchk .e-add-current")&&(this.sBox.querySelector(".e-ftrchk .e-add-current").previousSibling.disabled=!1,this.sBox.querySelector(".e-ftrchk .e-add-current").parentElement.classList.remove("e-checkbox-disabled"));else{var I=(0,U.QS)((0,U.sq)("cbox"),w,"e-ftrchk");if(I.querySelector(".e-frame").classList.add("e-add-current"),this.infiniteRenderMod){I.classList.add("e-infinitescroll"),this.sBox.insertBefore(I,this.spinner);var x=this.spinner.querySelector(".e-checkboxlist"),R=Math.ceil(I.getBoundingClientRect().height);x.style.height=parseInt(getComputedStyle(x).height.split("px")[0],10)-R+"px",x.style.minHeight=x.style.height}else a.appendChild(I)}}else if(this.infiniteRenderMod&&!(0,y.le)(this.sBox.children[2])&&this.sBox.children[2].innerText===this.getLocalizedLabel("AddCurrentSelection")){var x=this.spinner.querySelector(".e-checkboxlist"),k=Math.ceil(this.sBox.children[2].getBoundingClientRect().height);x.style.height=parseInt(getComputedStyle(x).height.split("px")[0],10)+k+"px",x.style.minHeight=x.style.height,(0,y.Od)(this.sBox.children[2])}for(var A=void 0,p=0;p<e.length;p++){var T=(0,U.sq)("cbox");this.values[""+T]=(0,y.NA)(c,e[parseInt(p.toString(),10)]);var E=(0,y.NA)(this.options.field,e[parseInt(p.toString(),10)]);this.options.formatFn&&(E=this.valueFormatter.toView(E,this.options.formatFn));var M={value:E,column:this.options.column,data:e[parseInt(p.toString(),10)]};if(this.parent.notify(Z.k6n,M),""===(E=M.value)||(0,y.le)(E)){if(A)continue;A=!0}this.infiniteRenderMod&&this.updateInfiniteUnLoadedCheckboxExistPred(E,this.infiniteUnloadParentExistPred);var F=this.localInfiniteSelectAllClicked?this.createCheckbox(E,this.infiniteLocalSelectAll,(0,y.NA)("dataObj",e[p])):this.createCheckbox(E,this.getCheckedState(C,this.values[""+T]),(0,y.NA)("dataObj",e[p]));a.appendChild((0,U.QS)(T,F,"e-ftrchk")),this.infiniteRenderMod&&(a.lastChild.style.height=(0,U.wk)(this.cBox)+"px")}var D=this.cBox.scrollTop;!this.infiniteRenderMod||this.infiniteSearchValChange?this.cBox.innerHTML="":this.infiniteRenderMod&&this.cBox.children.length&&(0,U.Ld)([].slice.call(this.cBox.children).splice(0,this.parent.filterSettings.itemsCount)),this.infiniteRenderMod&&((o=this.infiniteLoadedElem).push.apply(o,[].slice.call(a.children)),this.itemsCnt=-1!==h?this.infiniteLoadedElem.length-h:this.infiniteLoadedElem.length),this.infiniteUnloadParentExistPred.length&&(this.infiniteLoadedElem.length>=this.infiniteDataCount||!this.options.parentCurrentViewDataCount||this.options.parentTotalDataCount===this.infiniteDataCount&&this.options.parentCurrentViewDataCount)&&(this.infiniteUnloadParentExistPred=[]),(0,U.rG)(this.cBox,[].slice.call(a.children)),this.infiniteRenderMod&&!this.infiniteScrollAppendDiff&&(this.infiniteScrollAppendDiff=Math.round(D-this.cBox.scrollTop)),this.updateIndeterminatenBtn(),this.infiniteRenderMod?l=!!s&&!!s.disabled:(s&&(s.disabled=!1),l=!1)}else{if(a.appendChild(this.parent.createElement("span",{innerHTML:this.getLocalizedLabel("NoResult")})),this.cBox.innerHTML="",this.infiniteRenderMod){var m=this.sBox.querySelector(".e-ftrchk .e-selectall");if(m){var z=m.parentElement.parentElement;m.classList.contains("e-check")?(0,U.X_)(z):m.classList.contains("e-stop")&&((0,U.X_)(z),m.classList.remove("e-stop"),(0,U.X_)(z)),m.previousSibling.disabled=!0,m.parentElement.classList.add("e-checkbox-disabled")}var L=this.sBox.querySelector(".e-ftrchk .e-add-current");if(L){var P=L.parentElement.parentElement;L.classList.contains("e-check")&&(0,U.X_)(P),L.previousSibling.disabled=!0,L.parentElement.classList.add("e-checkbox-disabled")}}this.cBox.appendChild(this.parent.createElement("div",{className:"e-checkfltrnmdiv"})),(0,U.rG)(this.cBox.children[0],[].slice.call(a.children)),s&&(s.disabled=!0),l=!0,this.filterState=!l}s&&e.length&&(this.filterState=!s.disabled,s.dataBind());var B={requestType:Z.Ddc,dataSource:this.renderEmpty?[]:e};B.filterModel=this,this.parent.notify(Z.xXB,B),this.parent.notify(Z.L83,{disabled:l}),this.infiniteRenderMod&&this.infiniteInitialLoad&&(this.cBox.style.marginTop="0px"),(0,b.v3)(this.spinner)},e.prototype.updateInfiniteUnLoadedCheckboxExistPred=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],r=n.value instanceof Date?this.valueFormatter.toView(n.value,this.options.formatFn):n.value,o=this.options.column;if(o.isForeignColumn()){var s=(0,U.aI)(o,{},r,this.foreignKeyData)[0];e=(0,y.NA)(o.foreignKeyField,s)}e===r&&("equal"===n.operator||"notequal"===n.operator)&&(this.infiniteManualSelectMaintainPred.push(t[i]),t.splice(i,1),i--)}},e.prototype.getCheckedState=function(e,t){if(!this.isFiltered||!e)return!0;var i=!!this.sInput&&!!this.sInput.value||this.result[""+t];return this.infiniteRenderMod?i:"notequal"===this.options.operator?!i:i},e.getDistinct=function(e,t,i,n,r){for(var o,s=e.length,a=[],l={},h=!!i&&!!i.isForeignColumn&&i.isForeignColumn();s--;){if(o=e[parseInt(s.toString(),10)],i&&"dateonly"===i.type&&"string"==typeof o[""+t]&&o[""+t]){var c=o[""+t].split(/[^0-9.]/);o[""+t]=new Date(parseInt(c[0],10),parseInt(c[1],10)-1,parseInt(c[2],10))}var p="string"!=typeof(o=(0,U.RK)(t,o))||(0,y.le)(r)||(0,y.le)(r.parent)||(0,y.le)(r.parent.filterSettings)||(0,y.le)(r.parent.filterSettings.enableCaseSensitivity)?o:o.toLowerCase();if(!(p in l)){var d={};if(d.ejValue=o,l[""+p]=!0,h){var u=(0,U.aI)(i,{},o,n)[0];(0,y.sO)(Z.snV,u,e[parseInt(s.toString(),10)]),o=(0,y.NA)(i.foreignKeyValue,u)}(0,y.sO)(t,(0,y.le)(o)?null:o,d),(0,y.sO)("dataObj",e[parseInt(s.toString(),10)],d),a.push(d)}}return S.j.group(S.j.sort(a,t,S.j.fnAscending),"ejValue")},e.getPredicate=function(t,i){for(var n=S.j.distinct(t,"field",!0)||[],r=[],o={},s=0;s<n.length;s++)0!==(r=new v.h(t).executeLocal(new Y.A().where("field","equal",n[parseInt(s.toString(),10)].field))).length&&(o[n[parseInt(s.toString(),10)].field]=e.generatePredicate(r,i));return o},e.generatePredicate=function(t,i){var n,r=t?t.length:0,o=e.updateDateFilter(t[0]);o.ignoreAccent=!(0,y.le)(o.ignoreAccent)&&o.ignoreAccent,n="date"===o.type||"datetime"===o.type||"dateonly"===o.type?(0,U.bH)(o,o.type,i):o.ejpredicate?o.ejpredicate:new Y.$(o.field,o.operator,o.value,!e.getCaseValue(o),o.ignoreAccent);for(var s=1;s<r;s++)t[parseInt(s.toString(),10)]=e.updateDateFilter(t[parseInt(s.toString(),10)]),r>2&&s>1&&("or"===t[s].predicate&&"or"===t[s-1].predicate||"and"===t[s].predicate&&"and"===t[s-1].predicate)?"date"===t[s].type||"datetime"===t[s].type||"dateonly"===t[s].type?n.predicates.push((0,U.bH)(t[parseInt(s.toString(),10)],t[s].type,i)):n.predicates.push(new Y.$(t[s].field,t[parseInt(s.toString(),10)].operator,t[parseInt(s.toString(),10)].value,!e.getCaseValue(t[parseInt(s.toString(),10)]),t[parseInt(s.toString(),10)].ignoreAccent)):n="date"===t[s].type||"datetime"===t[s].type||"dateonly"===t[s].type?"and"===t[parseInt(s.toString(),10)].predicate&&"equal"===t[parseInt(s.toString(),10)].operator?n.or((0,U.bH)(t[parseInt(s.toString(),10)],t[parseInt(s.toString(),10)].type,i),t[parseInt(s.toString(),10)].type,t[parseInt(s.toString(),10)].ignoreAccent):n[t[parseInt(s.toString(),10)].predicate]((0,U.bH)(t[parseInt(s.toString(),10)],t[parseInt(s.toString(),10)].type,i),t[parseInt(s.toString(),10)].type,t[parseInt(s.toString(),10)].ignoreAccent):t[parseInt(s.toString(),10)].ejpredicate?n[t[parseInt(s.toString(),10)].predicate](t[parseInt(s.toString(),10)].ejpredicate):n[t[parseInt(s.toString(),10)].predicate](t[parseInt(s.toString(),10)].field,t[parseInt(s.toString(),10)].operator,t[parseInt(s.toString(),10)].value,!e.getCaseValue(t[parseInt(s.toString(),10)]),t[parseInt(s.toString(),10)].ignoreAccent);return n||null},e.getCaseValue=function(e){return(0,y.le)(e.matchCase)?!("string"===e.type||(0,y.le)(e.type)&&"string"==typeof e.value):e.matchCase},e.updateDateFilter=function(e){return("date"===e.type||"datetime"===e.type||"dateonly"===e.type||e.value instanceof Date)&&(e.type=e.type||"date"),e},e}(),e7=function(){function e(e,t){this.dataState={isPending:!1,resolver:null,group:[]},this.foreignKeyDataState={isPending:!1,resolver:null},this.parent=e,this.serviceLocator=t,this.initDataManager(),this.parent.isDestroyed||"foreignKey"===this.getModuleName()||(this.parent.on(Z.$If,this.addRows,this),this.parent.on(Z.A2N,this.reorderRows,this),this.parent.on(Z.cY3,this.removeRows,this),this.parent.on(Z.mVO,this.initDataManager,this),this.parent.on(Z.ob2,this.destroy,this),this.parent.on(Z.VAl,this.crudActions,this),this.parent.on(Z.V_9,this.getData,this),this.parent.on(Z.oGC,this.refreshFilteredCols,this),this.parent.on(Z.Tku,this.refreshFilteredCols,this))}return e.prototype.reorderRows=function(e){this.parent.getDataModule().isRemote()?this.parent.getCurrentViewRecords().splice(e.toIndex,0,this.parent.getCurrentViewRecords().splice(e.fromIndex,1)[0]):this.dataManager.dataSource.json.splice(e.toIndex,0,this.dataManager.dataSource.json.splice(e.fromIndex,1)[0])},e.prototype.getModuleName=function(){return"data"},e.prototype.initDataManager=function(){var e=this.parent;this.dataManager=e.dataSource instanceof v.h?e.dataSource:(0,y.le)(e.dataSource)?new v.h:new v.h(e.dataSource),!e.isAngular||e.query instanceof Y.A?(this.isQueryInvokedFromData=!0,e.query instanceof Y.A||(e.query=new Y.A)):e.setProperties({query:new Y.A},!0)},e.prototype.generateQuery=function(e,t){var i=this.parent,n=(0,y.le)(i.getQuery())?new Y.A:i.getQuery().clone();if("ExcludeHidden"===this.parent.columnQueryMode)n.select(this.parent.getColumns().filter(function(e){return!(!0!==e.isPrimaryKey&&!1===e.visible||void 0===e.field)}).map(function(e){return e.field}));else if("Schema"===this.parent.columnQueryMode){for(var r=[],o=this.parent.columns,s=0;s<o.length;s++)r.push(o[parseInt(s.toString(),10)].field);n.select(r)}return this.filterQuery(n),this.searchQuery(n),this.aggregateQuery(n),this.sortQuery(n),(0,U.MU)(this.parent)?this.virtualGroupPageQuery(n):this.pageQuery(n,e),((0,y.le)(t)||!t)&&this.groupQuery(n),n},e.prototype.aggregateQuery=function(e){for(var t=this.parent.aggregates,i=0;i<t.length;i++)for(var n=t[parseInt(i.toString(),10)],r=0;r<n.columns.length;r++)for(var o=n.columns[parseInt(r.toString(),10)],s=o.type instanceof Array?o.type:[o.type],a=0;a<s.length;a++)e.aggregate(s[parseInt(a.toString(),10)].toLowerCase(),o.field);return e},e.prototype.virtualGroupPageQuery=function(e){if(e.queries.length)for(var t=0;t<e.queries.length;t++)"onPage"===e.queries[parseInt(t.toString(),10)].fn&&e.queries.splice(t,1);return e},e.prototype.pageQuery=function(e,t){var i=this.parent,n={query:e,skipPage:!1};if(i.notify(Z.Pn6,n),n.skipPage)return e;if((i.allowPaging||i.enableVirtualization||i.enableInfiniteScrolling)&&!0!==t){if(i.pageSettings.currentPage=Math.max(1,i.pageSettings.currentPage),i.pageSettings.pageCount<=0&&(i.pageSettings.pageCount=8),i.pageSettings.pageSize<=0&&(i.pageSettings.pageSize=12),e.queries.length)for(var r=0;r<e.queries.length;r++)"onPage"===e.queries[parseInt(r.toString(),10)].fn&&e.queries.splice(r,1);!(0,y.le)(i.infiniteScrollModule)&&i.enableInfiniteScrolling?this.parent.notify(Z.hr2,e):e.page(i.pageSettings.currentPage,!i.allowPaging||!i.pagerModule||!i.pagerModule.pagerObj.isAllPage||i.isManualRefresh||this.dataManager.dataSource.offline||this.dataManager.adaptor instanceof C.nd?i.pageSettings.pageSize:null)}return e},e.prototype.groupQuery=function(e){var t=this.parent;if(t.allowGrouping&&t.groupSettings.columns.length){this.parent.groupSettings.enableLazyLoading&&e.lazyLoad.push({key:"isLazyLoad",value:this.parent.groupSettings.enableLazyLoading});for(var i=t.groupSettings.columns,n=0,r=i.length;n<r;n++){var o=this.getColumnByField(i[parseInt(n.toString(),10)]);o||this.parent.log("initial_action",{moduleName:"group",columnName:i[parseInt(n.toString(),10)]});var s=o.enableGroupByFormat,a=o.format;s?e.group(i[parseInt(n.toString(),10)],this.formatGroupColumn.bind(this),a):e.group(i[parseInt(n.toString(),10)],null)}}return e},e.prototype.sortQuery=function(e){var t=this.parent;if((t.allowSorting||t.allowGrouping)&&t.sortSettings.columns.length){for(var i=t.sortSettings.columns,n=[],r=i.length-1;r>-1;r--){var o=this.getColumnByField(i[parseInt(r.toString(),10)].field);if(!o)return this.parent.log("initial_action",{moduleName:"sort",columnName:i[parseInt(r.toString(),10)].field}),e;o.setSortDirection(i[parseInt(r.toString(),10)].direction);var s=i[parseInt(r.toString(),10)].direction;o.sortComparer&&(this.parent.log("grid_sort_comparer"),s=this.isRemote()?i[parseInt(r.toString(),10)].direction:o.sortComparer.bind(o)),-1===t.groupSettings.columns.indexOf(i[parseInt(r.toString(),10)].field)?o.isForeignColumn()||o.sortComparer?e.sortByForeignKey(o.field,s,void 0,i[parseInt(r.toString(),10)].direction.toLowerCase()):e.sortBy(o.field,s):n.push({direction:s,field:o.field})}for(var r=0,a=n.length;r<a;r++)if("string"==typeof n[parseInt(r.toString(),10)].direction)e.sortBy(n[parseInt(r.toString(),10)].field,n[parseInt(r.toString(),10)].direction);else{var o=this.getColumnByField(n[parseInt(r.toString(),10)].field);e.sortByForeignKey(n[parseInt(r.toString(),10)].field,n[parseInt(r.toString(),10)].direction,void 0,o.getSortDirection().toLowerCase())}}return e},e.prototype.searchQuery=function(e,t,i){var n=this.parent.searchSettings,r=!(0,y.le)(n.fields)&&n.fields.length?n.fields:this.getSearchColumnFieldNames(),o=[],s=!1;if(!(0,y.le)(this.parent.searchSettings.key)&&this.parent.searchSettings.key.length){s=this.parent.getForeignKeyColumns().some(function(e){return r.indexOf(e.field)>-1});var a=i?t.dataSource.adaptor:this.dataManager.adaptor;if(s||a.getModuleName&&"ODataV4Adaptor"===a.getModuleName()){r=i?[t.foreignKeyValue]:r;for(var l=0;l<r.length;l++){var h=i?t:this.getColumnByField(r[parseInt(l.toString(),10)]);h.isForeignColumn()&&!i?o=this.fGeneratePredicate(h,o):o.push(new Y.$(r[parseInt(l.toString(),10)],n.operator,n.key,n.ignoreCase,n.ignoreAccent))}var c=Y.$.or(o);c.key=n.key,e.where(c)}else e.search(n.key,r,n.operator,n.ignoreCase,n.ignoreAccent)}return e},e.prototype.filterQuery=function(e,t,i){var n,r=this.parent,o=[],s=[],a=this.parent.getForeignKeyColumns();if(r.allowFiltering&&r.filterSettings.columns.length){for(var l=t||r.filterSettings.columns,h={},c=0,p=r.getColumns();c<p.length;c++){var d=p[c];h[d.field]=d.filter.type?d.filter.type:r.filterSettings.type}for(var u=[],g=[],f=0;f<l.length;f++){var d=l[f],m=d.isForeignKey?r.getColumnByUid(d.uid):r.getColumnByField(d.field);(0,y.le)(d.type)&&m&&("date"===m.type||"datetime"===m.type||"dateonly"===m.type)&&(d.type=d.isForeignKey?r.getColumnByUid(d.uid).type:r.getColumnByField(d.field).type),d.isForeignKey?u.push(d):g.push(d)}if(g.length){for(var v=0,S=g.length;v<S;v++)g[parseInt(v.toString(),10)].uid=g[parseInt(v.toString(),10)].uid||this.parent.grabColumnByFieldFromAllCols(g[parseInt(v.toString(),10)].field,g[parseInt(v.toString(),10)].isForeignKey).uid;for(var C=e3.getPredicate(g),b=0,w=Object.keys(C);b<w.length;b++){var I=w[b];o.push(C[""+I])}}if(u.length)for(var x=0;x<u.length;x++){var d=u[x];d.uid=d.uid||this.parent.grabColumnByFieldFromAllCols(d.field,d.isForeignKey).uid;var R=this.parent.grabColumnByUidFromAllCols(d.uid);if(R||this.parent.log("initial_action",{moduleName:"filter",columnName:d.field}),R.isForeignColumn()&&(0,U.xv)(d.field,a)&&!i)s.push(d),R.columnData.length||(n=!0),o=this.fGeneratePredicate(R,o);else for(var C=e3.getPredicate(l),k=0,A=Object.keys(C);k<A.length;k++){var I=A[k];o.push(C[""+I])}}o.length&&!n?e.where(Y.$.and(o)):this.parent.notify(Z.d2u,{})}return e},e.prototype.fGeneratePredicate=function(e,t){var i={};return e&&(this.parent.notify(Z.KuG,{predicate:i,column:e}),i.predicate.predicates.length&&t.push(i.predicate)),t},e.prototype.getData=function(e,t){var i=this;void 0===e&&(e={requestType:""});var n=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());if(this.parent.log("datasource_syntax_mismatch",{dataState:this.parent}),this.parent.dataSource&&"result"in this.parent.dataSource)return this.eventPromise(e,t,n).promise;var r=void 0;switch(e.requestType){case"delete":if(t=t||this.generateQuery(),1===Object.keys(e.data).length)r=this.dataManager.remove(n,e.data[0],t.fromTable,t);else{var o={addedRecords:[],deletedRecords:[],changedRecords:[]};o.deletedRecords=e.data,r=this.dataManager.saveChanges(o,n,t.fromTable,t.requiresCount())}break;case"save":t=t||this.generateQuery(),e.index=(0,y.le)(e.index)?0:e.index,r=this.dataManager.insert(e.data,t.fromTable,t,e.index)}return(e.promise=r,!r||Array.isArray(r)||r.hasOwnProperty("deletedRecords"))?this.insert(t,e):r.then(function(){return i.insert(t,e)})},e.prototype.insert=function(e,t){return"save"===t.requestType&&(t.query=e,this.parent.notify(Z.ONC,t)),this.executeQuery(e)},e.prototype.executeQuery=function(e){var t=this;if(!this.dataManager.ready)return this.dataManager.executeQuery(e);var i=new v.B;return this.dataManager.ready.then(function(){t.dataManager.executeQuery(e).then(function(e){i.resolve(e)})}).catch(function(e){i.reject(e)}),i.promise},e.prototype.formatGroupColumn=function(e,t){var i=this.serviceLocator,n=this.getColumnByField(t);return n.type||(n.type=e.getDay?e.getHours()>0||e.getMinutes()>0||e.getSeconds()>0||e.getMilliseconds()>0?"datetime":"date":typeof e),(0,y.le)(n.getFormatter())&&(0,U.jm)(i,n),Q.K.prototype.toView(e,n.getFormatter())},e.prototype.crudActions=function(e){var t=this.generateQuery(),i=null,n="promise",r=this.getKey(e.foreignKeyData&&Object.keys(e.foreignKeyData).length?e.foreignKeyData:this.parent.getPrimaryKeyFieldNames());this.parent.dataSource&&"result"in this.parent.dataSource&&this.eventPromise(e,t,r),"save"===e.requestType&&(i=this.dataManager.update(r,e.data,t.fromTable,t,e.previousData)),e[""+n]=i||e[""+n],this.parent.notify(Z.Rdw,e)},e.prototype.saveChanges=function(e,t,i,n){if(void 0===n&&(n=this.generateQuery()),n.requiresCount(),!("result"in this.parent.dataSource))return this.dataManager.saveChanges(e,t,n.fromTable,n,i);var r=new v.B,o={requestType:"batchsave",changes:e,key:t,query:n,endEdit:r.resolve};return this.setState({isPending:!0,resolver:r.resolve}),this.parent.trigger(Z.vB1,o),r.promise},e.prototype.getKey=function(e){if(e&&e.length)return e[0]},e.prototype.isRemote=function(){return!0!==this.dataManager.dataSource.offline&&void 0!==this.dataManager.dataSource.url&&""!==this.dataManager.dataSource.url},e.prototype.addRows=function(e){for(var t=e.records.length;t>0;t--)this.parent.dataSource instanceof v.h&&this.dataManager.dataSource.offline?this.dataManager.dataSource.json.splice(e.toIndex,0,e.records[t-1]):this.parent.getDataModule().isRemote()||(0,y.le)(this.parent.dataSource)||this.parent.dataSource.result||this.parent.dataSource.splice(e.toIndex,0,e.records[t-1])},e.prototype.removeRows=function(e){var t=this.dataManager.dataSource.json;this.parent.dataSource instanceof v.h&&this.dataManager.dataSource.offline?this.dataManager.dataSource.json=t.filter(function(t){return -1===e.records.indexOf(t)}):this.parent.getDataModule().isRemote()||(0,y.le)(this.parent.dataSource)||this.parent.dataSource.result||(this.parent.dataSource=t.filter(function(t){return -1===e.records.indexOf(t)}))},e.prototype.getColumnByField=function(e){var t;return this.parent.columnModel.some(function(i){return t=i,i.field===e})&&t},e.prototype.destroy=function(){this.parent.isDestroyed||(this.parent.off(Z.$If,this.addRows),this.parent.off(Z.cY3,this.removeRows),this.parent.off(Z.mVO,this.initDataManager),this.parent.off(Z.ob2,this.destroy),this.parent.off(Z.VAl,this.crudActions),this.parent.off(Z.V_9,this.getData),this.parent.off(Z.oGC,this.refreshFilteredCols),this.parent.off(Z.Tku,this.refreshFilteredCols))},e.prototype.getState=function(){return this.dataState},e.prototype.setState=function(e){return this.dataState=e},e.prototype.getForeignKeyDataState=function(){return this.foreignKeyDataState},e.prototype.setForeignKeyDataState=function(e){this.foreignKeyDataState=e},e.prototype.getStateEventArgument=function(e){var t=new C.lM,i=new v.h({url:"",adaptor:new C.lM}),n=t.processQuery(i,e),r=JSON.parse(n.data);return(0,y.l7)(r,n.pvtData)},e.prototype.eventPromise=function(e,t,i){var n=this,r=this.getStateEventArgument(t),o=new v.B,s=new v.B;return(void 0!==e.requestType||this.parent.groupSettings.disablePageWiseAggregates&&t.queries.some(function(e){return"onGroup"===e.fn}))&&!1!==this.dataState.isDataChanged?(r.action=e,"save"===e.requestType||"delete"===e.requestType||"batchsave"===e.requestType)?(e.key=i,e.promise=s.promise,e.state=r,this.setState({isPending:!0,resolver:s.resolve}),e.endEdit=s.resolve,e.cancelEdit=s.reject,this.parent.trigger(Z.vB1,e),s.promise.then(function(){n.setState({isPending:!0,resolver:o.resolve,group:r.group,aggregates:r.aggregates}),"save"===e.requestType&&n.parent.notify(Z.ONC,e),n.parent.trigger(Z.MEe,r)}).catch(function(){})):(this.setState({isPending:!0,resolver:o.resolve,group:r.group,aggregates:r.aggregates}),this.parent.trigger(Z.MEe,r)):(this.setState({}),o.resolve(this.parent.dataSource)),o},e.prototype.getSearchColumnFieldNames=function(){for(var e=[],t=this.parent.getColumns(),i=0;i<t.length;i++){var n=t[i];n.allowSearching&&!(0,y.le)(n.field)&&e.push(n.field)}return e},e.prototype.refreshFilteredCols=function(){this.parent.allowFiltering&&this.parent.filterSettings.columns.length&&(0,U.eR)(this.parent,this.parent.filterSettings.columns)},e}(),e4=i(4120),e5=function(){function e(e,t){(0,y.TS)(this,e),this.parent=t}return e.prototype.clone=function(){var t=new e({});return(0,y.TS)(t,this),t.cells=this.cells.map(function(e){return e.clone()}),t},e.prototype.setRowValue=function(e){if(this.parent){var t=this.data[this.parent.getPrimaryKeyFieldNames()[0]];this.parent.setRowData(t,e)}},e.prototype.setCellValue=function(e,t){if(this.parent&&this.data[""+e].toString()!==t.toString()){var i=this.parent.getPrimaryKeyFieldNames()[0],n=this.data[""+i];this.parent.setCellValue(n,e,t),this.makechanges(i,this.data)}},e.prototype.makechanges=function(e,t){this.parent&&this.parent.getDataModule().dataManager.update(e,t)},e}(),e8=function(){function e(e){this.isSpanned=!1,this.isRowSpanned=!1,(0,y.TS)(this,e)}return e.prototype.clone=function(){var t=new e({});return(0,y.TS)(t,this),t},e}(),e6=function(){function e(e,t){this.serviceLocator=e,this.parent=t}return e.prototype.render=function(e,t,i,r){var o,s=this.serviceLocator.getService("cellRendererFactory").getCellRenderer(t.cells[parseInt(i.toString(),10)].cellType||n.Data),a=t.cells[parseInt(i.toString(),10)].cellSpan?t.cells[parseInt(i.toString(),10)].cellSpan:e.colSpan?e.colSpan+i<=t.cells.length?e.colSpan:t.cells.length-i:1,l=e.rowSpan,h=0;if(t.index>0){var c=this.parent.getRowsObject(),p=this.parent.groupSettings.columns.length>0&&!c[t.index-1].isDataRow?c[t.index].cells:c[t.index-1].cells,d=t.cells[parseInt(i.toString(),10)];o=p.filter(function(e){return e.column.uid===d.column.uid})[0]}for(var u=o&&o.colSpanRange>1&&o.rowSpanRange>1?o.colSpanRange:a,g=i+1;g<i+u&&g<t.cells.length;g++)!1===t.cells[parseInt(g.toString(),10)].visible?h++:t.cells[parseInt(g.toString(),10)].isSpanned=!0;if(h>0){for(var g=i+a;g<i+a+h&&g<t.cells.length;g++)t.cells[parseInt(g.toString(),10)].isSpanned=!0;i+a+h>=t.cells.length&&(a-=i+a+h-t.cells.length)}return t.cells[parseInt(i.toString(),10)].cellSpan&&(t.data[e.column.field]=t.cells[parseInt(i.toString(),10)].spanText,r=s.render(t.cells[parseInt(i.toString(),10)],t.data,{index:(0,y.le)(t.index)?"":t.index.toString()})),a>1&&(0,y.Y4)(r,{colSpan:a.toString(),"aria-colSpan":a.toString()}),l>1&&((0,y.Y4)(r,{rowspan:l.toString(),"aria-rowspan":l.toString()}),t.cells[parseInt(i.toString(),10)].isRowSpanned=!0,t.cells[parseInt(i.toString(),10)].rowSpanRange=Number(l),a>1&&(t.cells[parseInt(i.toString(),10)].colSpanRange=Number(a))),t.index>0&&o.rowSpanRange>1&&(t.cells[parseInt(i.toString(),10)].isSpanned=!0,t.cells[parseInt(i.toString(),10)].rowSpanRange=Number(o.rowSpanRange-1),t.cells[parseInt(i.toString(),10)].colSpanRange=o.rowSpanRange>0?o.colSpanRange:1),!this.parent.enableColumnVirtualization||t.cells[parseInt(i.toString(),10)].cellSpan||this.containsKey(e.column.field,e.data[e.column.field])||this.backupMergeCells(e.column.field,e.data[e.column.field],e.colSpan),r},e.prototype.backupMergeCells=function(e,t,i){this.setMergeCells(this.generteKey(e,t),i)},e.prototype.generteKey=function(e,t){return e+"__"+t.toString()},e.prototype.splitKey=function(e){return e.split("__")},e.prototype.containsKey=function(e,t){return this.getMergeCells().hasOwnProperty(this.generteKey(e,t))},e.prototype.getMergeCells=function(){return this.parent.mergeCells},e.prototype.setMergeCells=function(e,t){this.parent.mergeCells[""+e]=t},e.prototype.updateVirtualCells=function(e){for(var t=this.getMergeCells(),i=0,n=Object.keys(t);i<n.length;i++){var r=n[i],o=t[""+r],s=this.splitKey(r),a=this.getIndexFromAllColumns(s[0]),l=this.parent.getColumnIndexesInView(),h=o-(l[0]-a);if(a<l[0]&&h>1)for(var c=0;c<e.length;c++){var p=e[c];if(p.data[s[0]].toString()===s[1].toString()){p.cells[0].cellSpan=h,p.cells[0].spanText=s[1];break}}}return e},e.prototype.getIndexFromAllColumns=function(e){return(0,U.Eh)(this.parent.getVisibleColumns(),function(t,i){if(t.field===e)return i})[0]},e}(),te=i(680),tt=function(){function e(e,t,i){this.isSpan=!1,this.cellType=t,this.serviceLocator=e,this.parent=i,this.element=this.parent.createElement("tr",{attrs:{role:"row"}})}return e.prototype.render=function(e,t,i,n,r){return this.refreshRow(e,t,i,n,r)},e.prototype.refresh=function(e,t,i,n,r){var o=this;i&&(e.data=(0,U.UO)({},e.changes),this.refreshMergeCells(e));var s=this.parent.element.querySelector("[data-uid="+e.uid+"]"),a=this.refreshRow(e,t,n,r,null,i),l=[].slice.call(a.cells),h=[].slice.call(s.querySelectorAll(".e-templatecell"));if(this.parent.isReact&&h.length)for(var c=function(e){if(e.template)return setTimeout(function(){o.parent.refreshReactColumnTemplateByUid(e.uid,!0)},0),"break"},p=0;p<t.length&&"break"!==c(t[p]);p++);[].slice.call(a.attributes).map(function(e){s.setAttribute(e.name,e.value)}),s.innerHTML="";for(var d=0;d<l.length;d++){var u=l[d];s.appendChild(u)}},e.prototype.refreshRow=function(e,t,i,r,o,s){var a=(0,y.le)(o)?this.element.cloneNode():o,l={data:e.data},h={data:e.data},c=this.parent.getColumns().filter(function(e){return"checkbox"===e.type&&e.field})[0],p=!1,d=this.parent.isFrozenGrid(),u=!0;c&&(p=(0,U.RK)(c.field,l.data));var g=this.parent.getSelectedRowIndexes();e.isDataRow&&(e.isSelected=g.indexOf(e.index)>-1||p),e.isDataRow&&this.parent.isCheckBoxSelection&&"Check"===this.parent.checkAllRows&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&(e.isSelected=!0,-1===g.indexOf(e.index)&&g.push(e.index)),this.buildAttributeFromRow(a,e),(0,y.Y4)(a,(0,y.l7)({},i,{})),(0,U.db)(a,e.attributes);for(var f=this.serviceLocator.getService("cellRendererFactory"),m=function(t,i){var r=e.cells[parseInt(t.toString(),10)];r.isSelected=e.isSelected,r.isColumnSelected=r.column.isSelected;var o=f.getCellRenderer(e.cells[parseInt(t.toString(),10)].cellType||n.Data),l={index:(0,y.le)(e.index)?"":e.index.toString()};e.isExpand&&e.cells[parseInt(t.toString(),10)].cellType===n.DetailExpand&&(l.class=v.parent.isPrinting?"e-detailrowcollapse":"e-detailrowexpand");var c=!v.parent.enableRtl&&v.parent.groupSettings&&u&&v.parent.groupSettings.columns.length&&("Vertical"===v.parent.gridLines||"Both"===v.parent.gridLines),p=o.render(e.cells[parseInt(t.toString(),10)],e.data,l,e.isExpand,s);if(e.cells[parseInt(t.toString(),10)].cellType!==n.Filter){if(e.cells[parseInt(t.toString(),10)].cellType===n.Data||e.cells[parseInt(t.toString(),10)].cellType===n.CommandColumn){r.visible&&c&&(p.classList.add("e-grid-group-first-cell"),u=!1);var g=v.parent.parentDetails&&v.parent.parentDetails.parentInstObj&&v.parent.parentDetails.parentInstObj.isReact,m=v.parent.printGridParent&&v.parent.printGridParent.isReact;(v.parent.isReact&&v.parent.requireTemplateRef||g&&v.parent.parentDetails.parentInstObj.requireTemplateRef||m&&v.parent.printGridParent.requireTemplateRef)&&r.isTemplate?v.parent.renderTemplates(function(){if("string"!=typeof r.column.template){var i=p.getAttribute("aria-label");p.setAttribute("aria-label",p.innerText+i)}v.parent.trigger(Z.EXN,(0,y.l7)(h,{cell:p,column:r.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[parseInt(t.toString(),10)].foreignKeyData,requestType:v.parent.requestTypeAction}))}):v.parent.trigger(Z.EXN,(0,y.l7)(h,{cell:p,column:r.column,colSpan:1,rowSpan:1,foreignKeyData:e.cells[parseInt(t.toString(),10)].foreignKeyData,requestType:v.parent.requestTypeAction}));var S=!1;if(e.index>0&&(v.isSpan||v.parent.isSpan&&s)){var C=v.parent.getRowsObject(),b=v.parent.groupSettings.columns.length>0&&!C[e.index-1].isDataRow?C[e.index].cells:C[e.index-1].cells,w=b.filter(function(i){return i.column.uid===e.cells[parseInt(t.toString(),10)].column.uid})[0];S=w.isRowSpanned?w.isRowSpanned:w.rowSpanRange>1}if(h.rowSpan>1||h.colSpan>1){if(v.resetrowSpanvalue(v.parent.frozenRows>e.index?v.parent.frozenRows:v.parent.currentViewData.length,h,e.index),!1===h.column.visible)h.colSpan=1;else if(d){var I=v.parent.getColumns(),x=v.parent.getFrozenRightColumnsCount(),R=v.parent.getFrozenLeftCount(),k=I.length-x,A=h.column.index;if(R>A&&R<A+h.colSpan){var T=A+h.colSpan-R;h.colSpan=h.colSpan-T}else if(k<=A&&I.length<A+h.colSpan){var T=A+h.colSpan-I.length;h.colSpan=h.colSpan-T}else if("Fixed"===h.column.freeze){for(var T=1,E=A+1;E<A+h.colSpan;E++)if("Fixed"===I[parseInt(E.toString(),10)].freeze)T++;else break;h.colSpan=T}else if(k>A&&k<A+h.colSpan){var T=A+h.colSpan-k;h.colSpan=h.colSpan-T}}}if(h.colSpan>1||e.cells[parseInt(t.toString(),10)].cellSpan>1||h.rowSpan>1||S){v.parent.isSpan=!0,v.isSpan=!0;var M=new e6(v.serviceLocator,v.parent);p=M.render(h,e,t,p),d&&(0,U._B)(v.parent,h.column,p,h.colSpan)}}if((r.cellType===n.Header||r.cellType===n.StackedHeader)&&c&&(r.visible||r.cellType===n.StackedHeader)){var F=v.parent.getVisibleColumns(),D="field",z="type";(r.column[""+z]&&"checkbox"===r.column[""+z]||r.cellType===n.Header&&r.column[""+D]&&F.length&&F[0].field===r.column[""+D]||r.cellType===n.StackedHeader)&&(p.classList.add("e-grid-group-first-cell"),u=!1)}if(r.cellType===n.Header&&(e.cells[parseInt(t.toString(),10)].colSpan>1||e.cells[parseInt(t.toString(),10)].rowSpan>1)){var M=new e6(v.serviceLocator,v.parent);p=M.render(e.cells[parseInt(t.toString(),10)],e,t,p)}if(v.isSpan){var C=v.parent.getRowsObject(),L=v.parent.enableRtl;if(C[e.index-1]){var b=C[e.index-1].cells,w=b[t-1],P=b[parseInt(t.toString(),10)],B=b[t+1],O=b[parseInt(t.toString(),10)].column.freeze;w&&(w.isRowSpanned||w.rowSpanRange>1)&&w.visible&&(L||P.isRowSpanned&&!(w.rowSpanRange>P.rowSpanRange)||p.classList.add("e-rowcell-firstchild"),d&&("Fixed"===w.column.freeze&&"Fixed"===O?p.classList.add(L?"e-removefreezerightborder":"e-removefreezeleftborder"):L||1!==t||"Left"!==O||p.classList.add("e-addfreezefirstchildborder"))),B&&(B.isRowSpanned||B.rowSpanRange>1)&&B.visible&&(L&&(!P.isRowSpanned||B.rowSpanRange>P.rowSpanRange)&&p.classList.add("e-rowcell-lastchild"),d&&"Fixed"===B.column.freeze&&"Fixed"===O&&h.colSpan<2&&p.classList.add(L?"e-removefreezeleftborder":"e-removefreezerightborder"))}}h.rowSpan>1&&v.parent.currentViewData.length-e.index===h.rowSpan&&p.classList.add("e-row-span-lastrowcell"),e.cells[parseInt(t.toString(),10)].isSpanned||a.appendChild(p)}},v=this,S=0,C=e.cells.length;S<C;S++)m(S,C);var b=0;if(this.parent.groupSettings.columns.length&&this.parent.getFrozenLeftColumnsCount()){if(a.classList.contains("e-groupcaptionrow")){var w=[].slice.call(a.querySelectorAll(".e-leftfreeze,.e-unfreeze,.e-rightfreeze,.e-fixedfreeze,.e-freezerightborder,.e-freezeleftborder"));if(w.length&&(0,y.IV)(w,["e-leftfreeze","e-unfreeze","e-rightfreeze","e-fixedfreeze","e-freezerightborder","e-freezeleftborder"]),a.querySelector(".e-summarycell"))(0,U.Y)(a,this.parent);else{for(var I=0;I<a.childNodes.length;I++){var x=a.childNodes[parseInt(I.toString(),10)];if(x.classList.add("e-leftfreeze"),(0,U.Ox)(x,30*I,this.parent.enableRtl,"Left"),x.classList.contains("e-groupcaption")){var R=parseInt(x.getAttribute("colspan"),10),k=(0,U.eB)(this.parent,I);x.setAttribute("colspan",k.toString()),b=R-k}}if(b){var x=this.parent.createElement("TD",{className:"e-groupcaption",attrs:{colspan:b.toString(),id:this.parent.element.id+"captioncell",tabindex:"-1"}});a.appendChild(x)}}}if((a.querySelectorAll(".e-leftfreeze").length||a.classList.contains("e-columnheader"))&&(a.querySelectorAll(".e-indentcell").length||a.querySelectorAll(".e-grouptopleftcell").length))for(var x=a.querySelectorAll(".e-indentcell, .e-grouptopleftcell"),S=0;S<x.length;S++)x[parseInt(S.toString(),10)].classList.add("e-leftfreeze"),(0,U.Ox)(x[parseInt(S.toString(),10)],30*S,this.parent.enableRtl,"Left")}var A={row:a,rowHeight:this.parent.rowHeight};if(e.isDataRow){var T=(0,y.l7)(l,A);T.isSelectable=!0;var E=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,M=T.row.querySelectorAll(".e-templatecell");if((this.parent.isReact&&this.parent.requireTemplateRef||E&&this.parent.parentDetails.parentInstObj.requireTemplateRef)&&M.length){var F=this;F.parent.renderTemplates(function(){F.parent.trigger(Z.QNr,T),T.isSelectable||(e.isSelectable=T.isSelectable,F.disableRowSelection(F,e,A,T))})}else this.parent.trigger(Z.QNr,T);e.isSelectable=T.isSelectable;var D=this.parent.isRowDragable();if(this.parent.allowPaging&&this.parent.selectionSettings.persistSelection){var z=this.parent.getPrimaryKeyFieldNames()[0],L=e.data?e.data[""+z]:null,P=T.isSelectable?this.parent.partialSelectedRecords:this.parent.disableSelectedRecords;P.some(function(e){return e[""+z]===L})||P.push(e.data)}if(T.isSelectable||this.disableRowSelection(this,e,A,T),this.parent.childGrid||D||this.parent.detailTemplate){var x=a.querySelectorAll(".e-rowcell:not(.e-hide)")[0];x&&x.classList.add("e-detailrowvisible")}}if(this.parent.enableVirtualization&&(l.rowHeight=this.parent.rowHeight),l.rowHeight?a.style.height=l.rowHeight+"px":this.parent.rowHeight&&(a.querySelector(".e-headercell")||a.querySelector(".e-groupcaption"))&&(a.style.height=this.parent.rowHeight+"px"),e.cssClass&&a.classList.add(e.cssClass),e.lazyLoadCssClass&&a.classList.add(e.lazyLoadCssClass),"Vertical"===this.parent.rowRenderingMode&&this.parent.allowTextWrap&&("Header"===this.parent.textWrapSettings.wrapMode||"Both"===this.parent.textWrapSettings.wrapMode)&&a.classList.add("e-verticalwrap"),!this.parent.enableColumnVirtualization&&this.parent.aggregates.length&&this.parent.element.scrollHeight>this.parent.height){for(var S=0;S<this.parent.aggregates.length;S++)if(this.parent.aggregates[parseInt(S.toString(),10)].properties.columns[0].footerTemplate){var B=[].slice.call(a.getElementsByClassName("e-summarycell"));if(B.length){var O=B[B.length-1];(0,y.cn)([O],["e-lastsummarycell"]);var q=B[0];(0,y.cn)([q],["e-firstsummarycell"])}}}return a},e.prototype.resetrowSpanvalue=function(e,t,i){if(e>i&&e<i+t.rowSpan){var n=i+t.rowSpan-e;t.rowSpan=t.rowSpan-n}},e.prototype.disableRowSelection=function(e,t,i,n){var r=this.parent.getSelectedRowIndexes();this.parent.selectionModule.isPartialSelection=!0,t.isSelected=!1;var o=r.indexOf(t.index);o>-1&&r.splice(o,1);for(var s=i.row.querySelectorAll(".e-rowcell.e-gridchkbox"),a=n.row.querySelector(".e-rowdragdrop"),l=e.parent.groupSettings.columns.length+(a||e.parent.isDetail()?1:0),h=0;h<s.length;h++)s[parseInt(h.toString(),10)].firstElementChild.classList.add("e-checkbox-disabled"),s[parseInt(h.toString(),10)].querySelector(".e-frame").classList.remove("e-check");if(t.cells.length)for(var h=l;h<t.cells.length;h++){var c=n.row.querySelector('.e-rowcell[aria-colindex="'+(t.cells[parseInt(h.toString(),10)].index+1)+'"]');c&&(0,y.IV)([c],["e-selectionbackground","e-active"])}a&&(0,y.IV)([a],["e-selectionbackground","e-active"])},e.prototype.refreshMergeCells=function(e){for(var t=0,i=e.cells;t<i.length;t++)i[t].isSpanned=!1;return e},e.prototype.buildAttributeFromRow=function(e,t){var i={},n={dataUID:"data-uid",ariaSelected:"aria-selected"},r=[];t.isDataRow&&r.push(te.O7),t.isAltRow&&r.push("e-altrow"),t.isCaptionRow&&r.push("e-groupcaptionrow"),t.isAggregateRow&&t.parentUid&&r.push("e-groupfooterrow"),(0,y.le)(t.index)||(i[te._x]=t.index+1),t.rowSpan&&(i.rowSpan=t.rowSpan),t.uid&&(i[n.dataUID]=t.uid),t.isSelected&&(i[n.ariaSelected]=!0),!1===t.visible&&r.push("e-hide"),i.class=r,(0,U.db)(e,i)},e}(),ti=function(){function e(e){this.parent=e}return e.prototype.generateRows=function(e,t){var i=[],n=this.parent.enableVirtualization&&t?t.startIndex:0;n=this.parent.enableInfiniteScrolling&&t?this.getInfiniteIndex(t):n,this.parent.enableImmutableMode&&t&&t.startIndex&&(n=t.startIndex);for(var r=0,o=Object.keys(e).length;r<o;r++,n++)i[parseInt(r.toString(),10)]=this.generateRow(e[parseInt(r.toString(),10)],n);return i},e.prototype.ensureColumns=function(){var e=[];if(this.parent.detailTemplate||this.parent.childGrid){var t={};this.parent.notify(Z.mnQ,t),e.push(this.generateCell(t,null,n.DetailExpand))}return this.parent.isRowDragable()&&e.push(this.generateCell({},null,n.RowDragIcon)),e},e.prototype.generateRow=function(e,t,i,n,r,o,s){var a={};a.foreignKeyData={},a.uid=(0,U.sq)("grid-row"),a.data=e,a.index=t,a.indent=n,a.tIndex=o,a.isDataRow=!0,a.parentGid=r,a.parentUid=s,this.parent.isPrinting&&("All"===this.parent.hierarchyPrintMode?a.isExpand=!0:"Expanded"===this.parent.hierarchyPrintMode&&this.parent.expandedRows&&this.parent.expandedRows[parseInt(t.toString(),10)]&&(a.isExpand=this.parent.expandedRows[parseInt(t.toString(),10)].isExpand)),a.cssClass=i,a.isAltRow=!!this.parent.enableAltRow&&t%2!=0,a.isAltRow=!!this.parent.enableAltRow&&t%2!=0,a.isSelected=this.parent.getSelectedRowIndexes().indexOf(t)>-1,this.refreshForeignKeyRow(a);var l=this.ensureColumns(),h=new e5(a,this.parent);return h.cells="Right"===this.parent.getFrozenMode()?this.generateCells(a).concat(l):l.concat(this.generateCells(a)),h},e.prototype.refreshForeignKeyRow=function(e){for(var t=this.parent.getForeignKeyColumns(),i=0;i<t.length;i++)(0,y.sO)(t[parseInt(i.toString(),10)].field,(0,U.aI)(t[parseInt(i.toString(),10)],e.data),e.foreignKeyData)},e.prototype.generateCells=function(e){for(var t=this.parent.getColumns(),i=[],r=0;r<t.length;r++)i.push(this.generateCell(t[parseInt(r.toString(),10)],e.uid,(0,y.le)(t[parseInt(r.toString(),10)].commands)?void 0:n.CommandColumn,null,r,e.foreignKeyData));return i},e.prototype.generateCell=function(e,t,i,r,o,s){var a={visible:e.visible,isDataCell:!(0,y.le)(e.field||e.template),isTemplate:!(0,y.le)(e.template),rowID:t,column:e,cellType:(0,y.le)(i)?n.Data:i,colSpan:r,commands:e.commands,isForeignKey:e.isForeignColumn&&e.isForeignColumn(),foreignKeyData:e.isForeignColumn&&e.isForeignColumn()&&(0,y.NA)(e.field,s)};return(a.isDataCell||"checkbox"===a.column.type||a.commands)&&(a.index=o),new e8(a)},e.prototype.refreshRows=function(e){for(var t=0;t<e.length;t++)this.refreshForeignKeyRow(e[parseInt(t.toString(),10)]),e[parseInt(t.toString(),10)].cells=this.generateCells(e[parseInt(t.toString(),10)]);return e},e.prototype.getInfiniteIndex=function(e){return"infiniteScroll"===e.requestType||"delete"===e.requestType||"add"===e.action?(0,y.le)(e.startIndex)?e.index:e.startIndex:0},e}(),tn=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tr=function(){function e(e){this.parent=e}return e.prototype.getData=function(){for(var e=this,t=[],i=this.parent.aggregates.slice(),n=0;n<i.length;n++){var r=i[parseInt(n.toString(),10)].columns.filter(function(t){return!(t.footerTemplate||t.groupFooterTemplate||t.groupCaptionTemplate)||e.columnSelector(t)});r.length&&t.push({columns:r})}return t},e.prototype.columnSelector=function(e){return void 0!==e.footerTemplate},e.prototype.getColumns=function(e){var t=[];if((this.parent.detailTemplate||!(0,y.le)(this.parent.childGrid))&&t.push(new e4.sg({})),this.parent.allowGrouping)for(var i=0;i<this.parent.groupSettings.columns.length;i++)t.push(new e4.sg({}));return this.parent.isRowDragable()&&!e&&t.push(new e4.sg({})),t.push.apply(t,this.parent.getColumns()),t},e.prototype.generateRows=function(e,t,i,n,r){if(0===e.length&&(void 0===t||!(t.count||t.loadSummaryOnEmpty)))return[];for(var o=this.buildSummaryData(e,t),s=[],a=this.getData(),l=0;l<a.length;l++)s.push(this.getGeneratedRow(a[parseInt(l.toString(),10)],o[parseInt(l.toString(),10)],t?t.level:void 0,i,n,t?t.parentUid:void 0,r));return s},e.prototype.getGeneratedRow=function(e,t,i,r,o,s,a){var l=[],h=this.getIndentByLevel(),c=!(0,y.le)(this.parent.childGrid),p=this.parent.getIndentCount();this.parent.groupSettings.columns.length&&this.parent.allowRowDragAndDrop?h.push("e-indentcelltop"):this.parent.isRowDragable()&&!r&&(h=["e-indentcelltop"]);for(var d=a||this.getColumns(r),u=0;u<d.length;u++)l.push(this.getGeneratedCell(d[parseInt(u.toString(),10)],e,u>=p?this.getCellType():0===u&&this.parent.childGrid?n.DetailFooterIntent:n.Indent,h[parseInt(u.toString(),10)],c));var g=new e5({data:t,attributes:{class:"e-summaryrow"}});return g.cells=l,g.uid=(0,U.sq)("grid-row"),g.parentUid=s,g.isAggregateRow=!0,g.visible=l.some(function(e){return e.isDataCell&&e.visible}),g},e.prototype.getGeneratedCell=function(e,t,i,n,r){var o=t.columns.filter(function(t){return t.columnName===e.field})[0],s={"e-mappinguid":e.uid,index:e.index};if(e.textAlign){var a={right:"e-rightalign",left:"e-leftalign",center:"e-centeralign",justify:"e-justifyalign"};a[e.textAlign.toLowerCase()]&&(s.class=a[e.textAlign.toLowerCase()])}n&&(s.class=n),(0,y.le)(n)&&r&&(s.class="e-detailindentcelltop");var l={visible:e.visible,isDataCell:!(0,y.le)(o),isTemplate:o&&!(0,y.le)(o.footerTemplate||o.groupFooterTemplate||o.groupCaptionTemplate),column:o||{},attributes:s,cellType:i};return l.column.headerText=e.headerText,new e8(l)},e.prototype.buildSummaryData=function(e,t){for(var i=[],n=this.getData(),r={},o=0;o<n.length;o++){r={};for(var s=n[parseInt(o.toString(),10)].columns,a=0;a<s.length;a++)r=this.setTemplate(s[parseInt(a.toString(),10)],t&&t.aggregates?t:e,r);i.push(r)}return i},e.prototype.getIndentByLevel=function(){return this.parent.groupSettings.columns.map(function(){return"e-indentcelltop"})},e.prototype.setTemplate=function(e,t,i){var n=e.type,r={},o=e.getFormatter()||function(e){return e};n instanceof Array||(n=[e.type]);for(var s=0;s<n.length;s++){var a=e.field+" - "+n[parseInt(s.toString(),10)].toLowerCase(),l=e.columnName,h=!!this.parent.groupSettings.disablePageWiseAggregates&&!!this.parent.groupSettings.columns.length&&!!t.items,c=("Custom"!==n[parseInt(s.toString(),10)]||h)&&t.aggregates&&a in t.aggregates?t.aggregates[""+a]:(0,U.Ic)(n[parseInt(s.toString(),10)],(t.aggregates,t),e,this.parent);i[""+l]=i[""+l]||{},i[""+l][""+a]=c,i[""+l][n[parseInt(s.toString(),10)]]=(0,y.le)(c)?" ":o(c),t.field&&(i[""+l].field=t.field,i[""+l].key=t.key)}return r.format=e.getFormatter(),e.setTemplate(r),i},e.prototype.getCellType=function(){return n.Summary},e}(),to=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tn(t,e),t.prototype.columnSelector=function(e){return void 0!==e.groupFooterTemplate},t.prototype.getIndentByLevel=function(e){return void 0===e&&(e=this.parent.groupSettings.columns.length),this.parent.allowRowDragAndDrop&&this.parent.groupSettings.columns.length&&(e-=1),this.parent.groupSettings.columns.map(function(t,i){return i<=e-1?"":"e-indentcelltop"})},t.prototype.getCellType=function(){return n.GroupSummary},t}(tr),ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tn(t,e),t.prototype.columnSelector=function(e){return void 0!==e.groupCaptionTemplate},t.prototype.getData=function(){return[e.prototype.getData.call(this).reduce(function(e,t){return e.columns=e.columns.concat(t.columns),e},{columns:[]})]},t.prototype.isEmpty=function(){return 0===(this.getData()[0].columns||[]).length},t.prototype.getCellType=function(){return n.CaptionSummary},t}(tr),ta=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tl=function(e){function t(t){var i=e.call(this,t)||this;return i.rows=[],i.index=0,i.infiniteChildCount=0,i.renderInfiniteAgg=!0,i.parent=t,i.summaryModelGen=new to(t),i.captionModelGen=new ts(t),i}return ta(t,e),t.prototype.generateRows=function(t,i){if(0===this.parent.groupSettings.columns.length)return e.prototype.generateRows.call(this,t,i);this.isInfiniteScroll="infiniteScroll"===i.requestType,this.rows=[],this.index=this.parent.enableVirtualization||this.isInfiniteScroll?i.startIndex:0;for(var n=0,r=t.length;n<r;n++)this.infiniteChildCount=0,this.renderInfiniteAgg=!0,this.getGroupedRecords(0,t[parseInt(n.toString(),10)],t.level,n,void 0,this.rows.length);return this.index=0,this.parent.isCollapseStateEnabled()&&this.ensureRowVisibility(),this.rows},t.prototype.getGroupedRecords=function(e,t,i,n,r,o,s){var a;if((0,y.le)(t.items)){if((0,y.le)(t.GroupGuid))this.rows=this.rows.concat(this.generateDataRows(t,e,n,this.rows.length,s));else for(var l=0,h=t.length;l<h;l++)this.getGroupedRecords(e,t[parseInt(l.toString(),10)],t.level,n,e,this.rows.length,s)}else{var c=void 0,p=this.generateCaptionRow(t,e,n,r,o,s);if(this.isInfiniteScroll&&(c=this.getPreCaption(e,p.data.key)),c?p.uid=c.uid:this.rows=this.rows.concat(p),t.items&&t.items.length&&this.getGroupedRecords(e+1,t.items,t.items.level,n,e+1,this.rows.length,p.uid),this.parent.aggregates.length&&this.isRenderAggregate(p)){var d=this.rows.length;(a=this.rows).push.apply(a,this.summaryModelGen.generateRows(t,{level:i,parentUid:p.uid}));for(var u=d-1;u>=0;u--)if(this.rows[parseInt(u.toString(),10)].isCaptionRow)this.rows[parseInt(u.toString(),10)].aggregatesCount=this.rows.length-d;else if(!this.rows[parseInt(u.toString(),10)].isCaptionRow&&!this.rows[parseInt(u.toString(),10)].isDataRow)break}c&&this.setInfiniteRowVisibility(c)}},t.prototype.isRenderAggregate=function(e){return this.parent.enableInfiniteScrolling?!!this.renderInfiniteAgg&&(this.getPreCaption(e.indent,e.data.key),this.renderInfiniteAgg=e.data.count===this.infiniteChildCount,this.renderInfiniteAgg):!this.parent.enableInfiniteScrolling},t.prototype.getPreCaption=function(e,t){var i,n=this.parent.getRowsObject().concat(this.rows);this.infiniteChildCount=0;for(var r=n.length;r--;){if(n[parseInt(r.toString(),10)].isCaptionRow&&n[parseInt(r.toString(),10)].indent===e){var o=n[parseInt(r.toString(),10)].data.key;(o&&o.toString()===t.toString()&&o instanceof Date||o===t)&&(i=n[parseInt(r.toString(),10)])}if(n[parseInt(r.toString(),10)].indent===e||n[parseInt(r.toString(),10)].indent<e)break;n[parseInt(r.toString(),10)].indent===e+1&&this.infiniteChildCount++}return i},t.prototype.getCaptionRowCells=function(e,t,i){var r=[],o=[],s=this.parent.getColumnByField(e),a=this.parent.getColumnIndexesInView();this.parent.enableColumnVirtualization&&(s=this.parent.columns.filter(function(t){return t.field===e})[0]);var l=this.parent.groupSettings.columns.length,h=this.parent;if(!this.parent.enableColumnVirtualization||-1!==a.indexOf(t)){for(var c=0;c<t;c++)r.push(this.generateIndentCell());r.push(this.generateCell({},null,n.Expand))}if(t=this.parent.enableColumnVirtualization?1:this.parent.getVisibleColumns().length+l+(h.detailTemplate||h.childGrid?1:0)-t+(this.parent.getVisibleColumns().length?-1:0),this.parent.aggregates.length&&!this.captionModelGen.isEmpty()){var p=this.captionModelGen.generateRows(i)[0];(0,y.l7)(i,p.data);var d=0;p.cells.some(function(e,t){return d=t,e.visible&&e.isDataCell}),o=p.cells.slice(d).filter(function(e){return e.visible}),p.visible&&o[0].column.field===this.parent.getVisibleColumns()[0].field&&(o=o.slice(1)),1===this.parent.getVisibleColumns().length&&(o=[]),t-=o.length}for(var u=this.parent.enableColumnVirtualization?this.parent.getColumns():[s],g=!0,f=0;f<u.length;f++){var m=g&&-1!==a.indexOf(t);m&&(g=!1);var v=!this.parent.enableColumnVirtualization||m?n.GroupCaption:n.GroupCaptionEmpty;t=this.parent.enableColumnVirtualization&&v===n.GroupCaption?t+l:t,h.isRowDragable()&&t++,r.push(this.generateCell(s,null,v,t))}return r.push.apply(r,o),r},t.prototype.generateCaptionRow=function(e,t,i,n,r,o){var s={},a="records",l=this.parent.getColumnByField(e.field);s.data=(0,y.l7)({},e),l&&(s.data.field=e.field),s.isDataRow=!1,s.isExpand=!this.parent.groupSettings.enableLazyLoading&&!this.parent.isCollapseStateEnabled(),s.parentGid=i,s.childGid=n,s.tIndex=r,s.isCaptionRow=!0,s.parentUid=o,s.gSummary=(0,y.le)(e.items[""+a])?e.items.length:e.items[""+a].length,s.uid=(0,U.sq)("grid-row");var h=new e5(s);return h.indent=t,this.getForeignKeyData(h),h.cells=this.getCaptionRowCells(e.field,t,h.data),h},t.prototype.getForeignKeyData=function(e){var t=e.data,i=this.parent.getColumnByField(t.field);if(i&&i.isForeignColumn&&i.isForeignColumn()){var n=(0,y.le)(t.key)?"":i.valueAccessor(i.foreignKeyValue,(0,U.aI)(i,{},t.key)[0],i);(0,y.sO)("foreignKey",n,e.data)}},t.prototype.generateDataRows=function(e,t,i,n,r){for(var o=[],s=this.parent.getColumnIndexesInView(),a=0,l=e.length;a<l;a++,n++){o[parseInt(a.toString(),10)]=this.generateRow(e[parseInt(a.toString(),10)],this.index,a?void 0:"e-firstchildrow",t,i,n,r);for(var h=0;h<t;h++)this.parent.enableColumnVirtualization&&-1===s.indexOf(t)||o[parseInt(a.toString(),10)].cells.unshift(this.generateIndentCell());this.index++}return o},t.prototype.generateIndentCell=function(){return this.generateCell({},null,n.Indent)},t.prototype.refreshRows=function(e){for(var t=this.parent.getColumnIndexesInView(),i=0;i<e.length;i++)if(e[parseInt(i.toString(),10)].isDataRow){e[parseInt(i.toString(),10)].cells=this.generateCells(e[parseInt(i.toString(),10)]);for(var n=0;n<e[parseInt(i.toString(),10)].indent;n++)this.parent.enableColumnVirtualization&&-1===t.indexOf(e[parseInt(i.toString(),10)].indent)||e[parseInt(i.toString(),10)].cells.unshift(this.generateIndentCell())}else{var r=this.generateCaptionRow(e[parseInt(i.toString(),10)].data,e[parseInt(i.toString(),10)].indent);e[parseInt(i.toString(),10)].cells=r.cells}return e},t.prototype.setInfiniteRowVisibility=function(e){if(!e.isExpand||!1===e.visible)for(var t=0,i=this.rows;t<i.length;t++){var n=i[t];n.parentUid===e.uid&&(n.visible=!1,n.isCaptionRow&&this.setInfiniteRowVisibility(n))}},t.prototype.ensureRowVisibility=function(){for(var e=0;e<this.rows.length;e++){var t=this.rows[parseInt(e.toString(),10)];if(t.isCaptionRow)for(var i=e+1;i<this.rows.length;i++){var n=this.rows[parseInt(i.toString(),10)];t.uid===n.parentUid&&(this.rows[parseInt(i.toString(),10)].visible=t.isExpand)}}},t}(ti),th=function(){function e(e,t){var i=this;this.rows=[],this.freezeRows=[],this.movableRows=[],this.freezeRowElements=[],this.currentInfo={},this.prevCurrentView=[],this.isLoaded=!0,this.drop=function(e){i.parent.notify(Z.Ulz,{target:e.target,droppedElement:e.droppedElement}),(0,y.Od)(e.droppedElement)},this.infiniteCache={},this.visibleRows=[],this.visibleFrozenRows=[],this.rightFreezeRows=[],this.isAddRows=!1,this.isInfiniteFreeze=!1,this.useGroupCache=!1,this.tempFreezeRows=[],this.rafCallback=function(e){return function(){if(i.ariaService.setBusy(i.getPanel().querySelector("."+te.kQ),!1),!i.parent.isDestroyed){var t=i.rows.slice(0);if(i.parent.enableInfiniteScrolling){if(i.parent.groupSettings.enableLazyLoading)for(var n=0;n<i.visibleRows.length;n++)i.setRowsInLazyGroup(i.visibleRows[parseInt(n.toString(),10)],n);t=i.parent.getRowsObject();var r=e.prevPage;if(i.parent.infiniteScrollSettings.enableCache&&r){var o=i.parent.infiniteScrollSettings.maxBlocks;t=[];for(var s=Math.ceil(parseInt(i.rowElements[0].getAttribute("aria-rowindex"),10)/i.parent.pageSettings.pageSize),n=0,a=s;n<o;n++,a++)i.infiniteCache[parseInt(a.toString(),10)]&&(t=t.concat(i.infiniteCache[parseInt(a.toString(),10)]))}}if(i.parent.notify(Z.GEE,{rows:t,args:e}),i.parent.editSettings.showAddNewRow&&i.parent.addNewRowFocus&&(i.parent.notify(Z.zeS,{}),i.parent.addNewRowFocus=!1),i.parent.autoFit&&i.parent.preventAdjustColumns(),i.parent.isInitialLoad||i.parent.focusModule.setFirstFocusableTabIndex(),i.isLoaded){i.parent.isManualRefresh=!1,i.parent.enableInfiniteScrolling&&i.parent.groupSettings.enableLazyLoading&&"sorting"===e.requestType&&(i.parent.infiniteScrollModule.groupCaptionAction=void 0);var l=i.parent.parentDetails&&i.parent.parentDetails.parentInstObj&&i.parent.parentDetails.parentInstObj.isReact;(i.parent.isReact||l)&&i.parent.element.querySelectorAll(".e-templatecell").length?i.parent.renderTemplates(function(){i.parent.trigger(Z.rud,{},function(){i.parent.allowTextWrap&&i.parent.notify(Z.bxM,{case:"textwrap"})})}):i.parent.trigger(Z.rud,{},function(){i.parent.allowTextWrap&&i.parent.notify(Z.bxM,{case:"textwrap"})}),i.parent.allowTextWrap&&"auto"===i.parent.height&&(i.parent.getContentTable().scrollHeight>i.parent.getContent().clientHeight?i.parent.scrollModule.setPadding():i.parent.scrollModule.removePadding())}if(e){var h=(e.requestType||"").toLowerCase()+"-complete";i.parent.notify(h,e),"batchsave"===e.requestType&&(e.cancel=!1,i.parent.trigger(Z.i8$,e))}i.isLoaded&&i.parent.hideSpinner()}}},this.parent=e,this.serviceLocator=t,this.widthService=t.getService("widthService"),this.ariaService=this.serviceLocator.getService("ariaService"),this.parent.enableDeepCompare=this.parent.getDataModule().isRemote(),this.generator=this.getModelGenerator(),this.parent.isDestroyed||(this.parent.enableColumnVirtualization||this.parent.enableVirtualization||this.parent.groupSettings.enableLazyLoading||this.parent.on(Z.sj6,this.setVisible,this),this.parent.on(Z.TYh,this.colGroupRefresh,this),this.parent.on(Z.vxT,this.enableAfterRender,this),this.parent.on(Z.GNQ,this.refreshContentRows,this),this.parent.on(Z.ib3,this.beforeCellFocused,this),this.parent.on(Z.ob2,this.droppableDestroy,this))}return e.prototype.beforeCellFocused=function(e){e.byKey&&("upArrow"===e.keyArgs.action||"downArrow"===e.keyArgs.action)?this.pressedKey=e.keyArgs.action:this.pressedKey=void 0},e.prototype.renderPanel=function(){var e=this.parent,t=this.parent.element.querySelector("."+te.ci);if(t){this.ariaService.setOptions(this.parent.element.querySelector("."+te.kQ),{busy:!1}),this.setPanel(t);return}t=this.parent.createElement("div",{className:te.ci});var i=this.parent.createElement("div",{className:te.kQ});this.ariaService.setOptions(i,{busy:!1}),this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()&&(this.renderHorizontalScrollbar(t),i.classList.add("e-virtual-content")),t.appendChild(i),this.setPanel(t),e.element.appendChild(t)},e.prototype.renderHorizontalScrollbar=function(e){var t=this.parent.createElement("div",{className:"e-movablescrollbar"}),i=this.parent.createElement("div",{className:"e-movablechild"}),n=(0,U.Iz)().toString();this.setScrollbarHeight(i,n),this.setScrollbarHeight(t,n),t.appendChild(i),e.appendChild(t)},e.prototype.setScrollbarHeight=function(e,t){e.style.minHeight=t+"px",e.style.maxHeight=t+"px"},e.prototype.renderTable=function(){var e=this.getPanel(),t=e.querySelector(".e-virtualtable"),i=e.querySelector(".e-virtualtrack");!this.parent.enableVirtualization||(0,y.le)(t)||(0,y.le)(i)||((0,y.Od)(t),(0,y.Od)(i)),e.appendChild(this.createContentTable("_content_table")),this.setTable(e.querySelector("."+te.Kz)),"Multiple"===this.parent.selectionSettings.type&&this.ariaService.setOptions(this.parent.element,{multiselectable:!0}),this.initializeContentDrop(),this.parent.frozenRows&&this.parent.getHeaderContent().classList.add("e-frozenhdr")},e.prototype.createContentTable=function(e){var t=this.getPanel().firstElementChild;this.getTable()&&(0,y.Od)(this.getTable());var i=t.querySelector("."+te.Kz)?t.querySelector("."+te.Kz):this.parent.createElement("table",{className:te.Kz,attrs:{role:"presentation",id:this.parent.element.id+e}});return i.style.cssText="border-collapse: separate; border-spacing: .25px;",this.setColGroup(this.parent.getHeaderTable().querySelector(te.Iz).cloneNode(!0)),i.appendChild(this.getColGroup()),i.appendChild(this.parent.createElement(te.gE,{attrs:{role:"rowgroup"}})),t.appendChild(i),t},e.prototype.refreshContentRows=function(e){var t,i,n,r,o,s,a,l,h=this;void 0===e&&(e={});var c=this.parent;if(0!==c.currentViewData.length){c.editSettings&&c.editModule&&"Batch"===c.editSettings.mode&&c.editModule.formObj&&!1===c.editSettings.showConfirmDialog&&c.editModule.destroyForm();var p=this.currentMovableRows||c.currentViewData,d=c.isReact&&!(0,y.le)(c.rowTemplate),u=this.parent.printGridParent&&this.parent.printGridParent.isReact,g=d||u?c.createElement(te.gE,{attrs:{role:"rowgroup"}}):document.createDocumentFragment();this.initialPageRecords||(this.initialPageRecords=(0,y.l7)([],p));var f=d?c.createElement(te.gE,{attrs:{role:"rowgroup"}}):document.createDocumentFragment();(c.isReact||u)&&c.rowTemplate&&(t=g,i=f);var m=c.getColumns(),v=new tt(this.serviceLocator,null,this.parent),S=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType,C=this.isInfiniteColumnvirtualization()&&"virtualscroll"!==e.requestType,b=!!c.enableInfiniteScrolling&&(!!c.childGrid||!!c.detailTemplate),w=b&&("add"===e.action&&"save"===e.requestType||"delete"===e.requestType);w&&(e.startIndex=0,c.notify(Z.Erk,{})),S&&(c.childGrid||c.detailTemplate)&&!c.infiniteScrollSettings.enableCache||(b&&(this.parent.infiniteScrollModule.infiniteDetailDestroy=!0),c.notify(Z.bs6,S&&(c.childGrid||c.detailTemplate)&&c.infiniteScrollSettings.enableCache?e:{})),this.rowElements=[],this.rows=[],this.tempFreezeRows=[];var I=!!this.parent.frozenRows&&!!this.parent.groupSettings.columns.length;(0,U.MU)(c)&&["sorting","filtering","searching","grouping","ungrouping","reorder","save","delete"].some(function(t){return e.requestType===t})&&this.emptyVcRows(),l=this.checkCache(l,e),this.isAddRows||this.useGroupCache||(l=this.generator.generateRows(p,e)),this.setGroupCache(l,e),this.parent.notify(Z.lvo,{isInfiniteScroll:S,modelData:l,args:e});var x=this.parent.registeredTemplate;if(!("infiniteScroll"===e.requestType&&!this.parent.infiniteScrollSettings.enableCache)&&x&&x.template&&!e.isFrozen){for(var R=[],k=0;k<x.template.length;k++)for(var A=0;A<x.template[parseInt(k.toString(),10)].rootNodes.length;A++)(0,y.le)(x.template[parseInt(k.toString(),10)].rootNodes[parseInt(A.toString(),10)].parentNode)&&R.push(x.template[parseInt(k.toString(),10)]);this.parent.destroyTemplate(["template"],R)}if((this.parent.isReact||this.parent.isVue)&&!("infiniteScroll"===e.requestType&&!this.parent.infiniteScrollSettings.enableCache)&&!e.isFrozen){var T=[this.parent.isVue?"template":"columnTemplate","rowTemplate","detailTemplate","captionTemplate","commandsTemplate","groupFooterTemplate","groupCaptionTemplate"];"infiniteScroll"===e.requestType&&this.parent.infiniteScrollSettings.enableCache&&(T=[this.parent.isVue?"template":"columnTemplate","commandsTemplate"]),(0,U.uq)(this.parent,T)}this.parent.enableColumnVirtualization&&new e6(this.serviceLocator,this.parent).updateVirtualCells(l),this.tbody=this.getTable().querySelector(te.gE);var E=0,M=!0;if((0,U.MU)(c)&&c.vcRows.length){var F=(0,y.le)(e.virtualInfo.offsets)?(0,y.le)(e.scrollTop)?0:e.scrollTop.top:e.virtualInfo.offsets.top;if(0!==F){for(var D=c.vGroupOffsets,z=c.pageSettings.pageSize/2,L=Object.keys(D).map(function(e){return D[""+e]}),P=0;P<L.length;P++)if(F<L[parseInt(P.toString(),10)]){if((0,y.le)(e.virtualInfo)||"up"!==e.virtualInfo.direction){E=P*z,(this.parent.contentModule.isEndBlock(P)||this.parent.contentModule.isEndBlock(P+1))&&(e.virtualInfo.blockIndexes=[P,P+1]);break}E=P>0?(P-1)*z:P*z;break}Math.round(F+this.contentPanel.firstElementChild.offsetHeight)>=this.contentPanel.firstElementChild.scrollHeight&&!e.rowObject&&(M=!1)}}var B=c.frozenRows&&this.parent.enableVirtualization&&"reorder"===e.requestType;if(c.frozenRows&&"virtualscroll"===e.requestType&&"X"===e.virtualInfo.sentinelInfo.axis||B){var O=e.virtualInfo.blockIndexes,q=e.virtualInfo.page;e.virtualInfo.blockIndexes=[1,2],B&&(e.virtualInfo.page=1);var H=B?this.initialPageRecords:p,N=this.vgenerator.generateRows(H,e);N.splice(this.parent.frozenRows);for(var k=0;k<this.parent.frozenRows;k++)n=v.render(N[parseInt(k.toString(),10)],m),(0,U.pn)(n),f.appendChild(n);e.virtualInfo.blockIndexes=O,e.virtualInfo.page=q,B&&1===e.virtualInfo.page&&l.splice(0,this.parent.frozenRows)}this.virtualFrozenHdrRefresh(f,l,v,e,p,m),this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&((this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).refRowsObj[this.parent.pageSettings.currentPage]=[]),(this.parent.enableInfiniteScrolling&&this.parent.groupSettings.enableLazyLoading&&"delete"===e.requestType||w)&&(this.visibleRows=[]);for(var V=function(r,s){if(j.rows.push(l[parseInt(r.toString(),10)]),j.parent.groupSettings.enableLazyLoading&&!j.useGroupCache&&j.parent.groupSettings.columns.length&&((j.parent.enableVirtualization?j.parent.lazyLoadRender:j.parent.contentModule).refRowsObj[j.parent.pageSettings.currentPage].push(l[parseInt(r.toString(),10)]),j.setRowsInLazyGroup(l[parseInt(r.toString(),10)],r),(0,y.le)(l[parseInt(r.toString(),10)].indent)))return"continue";if(j.setInfiniteVisibleRows(e,l[parseInt(r.toString(),10)]),(0,U.MU)(c)&&e.virtualInfo&&e.virtualInfo.blockIndexes&&j.rowElements.length>=e.virtualInfo.blockIndexes.length*j.parent.contentModule.getBlockSize()&&M)return j.parent.currentViewData.records=j.rows.map(function(e){return e.data}),"break";if(c.rowTemplate){var a=c.element.id+"rowTemplate",h=void 0;if(c.isReact||u){var d=c.frozenRows&&r<c.frozenRows,C=(0,y.l7)({index:r},p[parseInt(r.toString(),10)]);if(c.getRowTemplate()(C,c,"rowTemplate",a,null,null,d?f:g),c.requireTemplateRef)return j.parent.renderTemplates(function(){c.frozenRows&&r<c.frozenRows?n=i.childNodes[parseInt(r.toString(),10)]:o=t.childNodes[parseInt(r.toString(),10)];var e={data:l[parseInt(r.toString(),10)].data,row:o||n};j.parent.trigger(Z.QNr,e),(l[parseInt(r.toString(),10)].isDataRow||j.parent.enableVirtualization&&j.parent.groupSettings.enableLazyLoading)&&j.rowElements.push(e.row),j.ariaService.setOptions(j.parent.element,{colcount:c.getColumns().length.toString()}),r===l.length-1&&(t=null,i=null)}),"continue"}else h=c.getRowTemplate()((0,y.l7)({index:r},p[parseInt(r.toString(),10)]),c,"rowTemplate",a,void 0,void 0,void 0,j.parent.root);if(c.isReact||"TBODY"!==h[0].tagName)c.frozenRows&&r<c.frozenRows?n=c.isReact?f.lastElementChild:(0,U.rG)(f,h):(c.isReact||(n=(0,U.rG)(g,h)),o=c.isReact?g.lastElementChild:n.lastElementChild);else{for(var b=0;b<h.length;b++){var w="tr"===h[parseInt(b.toString(),10)].nodeName.toLowerCase();(w||h[parseInt(b.toString(),10)].querySelectorAll&&h[parseInt(b.toString(),10)].querySelectorAll("tr").length)&&(n=w?h[parseInt(b.toString(),10)]:h[parseInt(b.toString(),10)].querySelector("tr"))}c.frozenRows&&r<c.frozenRows?f.appendChild(n):g.appendChild(n)}var x={data:l[parseInt(r.toString(),10)].data,row:o||n};j.parent.trigger(Z.QNr,x)}else{n=v.render(l[parseInt(r.toString(),10)],m),(0,U.pn)(n);var R=j.ensureFrozenHeaderRender(e);c.frozenRows&&(r<c.frozenRows||I)&&!S&&"virtualscroll"!==e.requestType&&R&&j.ensureVirtualFrozenHeaderRender(e)?f.appendChild(n):g.appendChild(n),parseInt(n.getAttribute("aria-rowindex"),10)-1+1===c.frozenRows&&(I=!1),l[parseInt(r.toString(),10)].isExpand&&c.notify(Z.yc9,n.cells[c.groupSettings.columns.length])}(l[parseInt(r.toString(),10)].isDataRow||j.parent.enableVirtualization&&j.parent.groupSettings.enableLazyLoading)&&(!(0,y.le)(c.rowTemplate)&&(c.isAngular||c.isVue3||c.isVue)?j.rowElements.push(o||n):j.rowElements.push(n)),j.ariaService.setOptions(j.parent.element,{colcount:c.getColumns().length.toString()})},j=this,k=E,_=l.length;k<_&&"break"!==V(k,_);k++);var G=c.parentDetails&&c.parentDetails.parentInstObj&&c.parentDetails.parentInstObj.isReact;if((c.isReact||G)&&!c.requireTemplateRef&&c.renderTemplates(),this.parent.enableInfiniteScrolling&&this.parent.groupSettings.enableLazyLoading&&(this.parent.contentModule.refRowsObj[this.parent.pageSettings.currentPage]=this.parent.contentModule.groupCache[this.parent.pageSettings.currentPage]),this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&this.parent.notify(Z.YwE,{rows:(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).refRowsObj[this.parent.pageSettings.currentPage]}),c.removeMaskRow(),this.parent.notify("removeGanttShimmer",{requestType:"hideShimmer"}),c.frozenRows&&"virtualscroll"!==e.requestType&&!S&&this.ensureVirtualFrozenHeaderRender(e)||"virtualscroll"===e.requestType&&e.virtualInfo.sentinelInfo&&"X"===e.virtualInfo.sentinelInfo.axis){if(r=c.getHeaderTable().querySelector(te.gE),d){var W=r.parentElement;(0,y.Od)(r),W.appendChild(f)}else r.innerHTML="",r.appendChild(f);c.isInitialLoad||c.scrollModule.setHeight()}e.rows=this.rows.slice(0),(0,U.G9)(function(){if(h.parent.notify(Z.Zgy,e),h.parent.enableVirtualization||h.parent.enableColumnVirtualization&&!C||S||(c.isReact||(h.tbody.innerHTML=""),(0,y.le)(h.tbody.parentElement)?(0,y.Od)(c.getContentTable().querySelector(te.gE)):(0,y.Od)(h.tbody),h.tbody=h.parent.createElement(te.gE,{attrs:{role:"rowgroup"}})),c.rowTemplate&&(0,y.tx)(c.element.id+"rowTemplate","RowTemplate",c),!(0,y.le)(h.parent.infiniteScrollModule)&&(h.parent.enableInfiniteScrolling&&!h.isInfiniteColumnvirtualization()||C)){if(h.isAddRows=!1,h.parent.notify(Z.un7,{args:e}),h.parent.notify(Z.INB,{tbody:s||h.tbody,frag:g,args:e,rows:h.rows,rowElements:h.rowElements,visibleRows:h.visibleRows,tableName:a}),h.isInfiniteColumnvirtualization()&&h.parent.isFrozenGrid()){var t=h.parent.getContent().querySelector(".e-virtualtable"),i=(0,U.pl)(t);h.parent.contentModule.resetStickyLeftPos(i.width),h.widthService.refreshFrozenScrollbar()}}else h.useGroupCache=!1,h.appendContent(h.tbody,g,e);if(h.parent.editSettings.showAddNewRow&&(h.parent.enableVirtualization||h.parent.enableInfiniteScrolling)){var n=h.parent.element.querySelector(".e-addrow-removed");n&&(0,y.Od)(n)}var r=!h.parent.element.querySelector("."+te.gY);h.parent.editSettings.showAddNewRow&&"Normal"===h.parent.editSettings.mode&&(r&&((h.parent.enableVirtualization||h.parent.enableInfiniteScrolling)&&(h.parent.isAddNewRow=!0),h.parent.isEdit=!1,h.parent.addRecord()),(r||(h.parent.enableVirtualization||h.parent.enableInfiniteScrolling)&&["sorting","filtering","searching","grouping","ungrouping","reorder"].some(function(t){return e.requestType===t}))&&h.parent.notify(Z.zeS,{})),h.parent.getVisibleFrozenRightCount()&&h.parent.getContent()&&(0,U.YT)(h.parent)>0&&h.parent.element.classList.add("e-right-shadow"),g=null},this.rafCallback((0,y.l7)({},e)))}},e.prototype.isInfiniteColumnvirtualization=function(){return this.parent.enableColumnVirtualization&&this.parent.enableInfiniteScrolling},e.prototype.enableCacheOnInfiniteColumnVirtual=function(){return this.isInfiniteColumnvirtualization()&&this.parent.infiniteScrollSettings.enableCache},e.prototype.emptyVcRows=function(){this.parent.vcRows=[],this.parent.vRows=[]},e.prototype.appendContent=function(e,t,i,n){if(this.parent.isReact&&!(0,y.le)(this.parent.rowTemplate)?this.getTable().appendChild(t):(e.appendChild(t),this.getTable().appendChild(e)),"Vertical"===this.parent.rowRenderingMode&&this.parent.allowTextWrap&&("Header"===this.parent.textWrapSettings.wrapMode||"Both"===this.parent.textWrapSettings.wrapMode))for(var r=e.querySelectorAll("td"),o=0;o<r.length;o++){var s=parseFloat(document.defaultView.getComputedStyle(r[parseInt(o.toString(),10)],"::before").getPropertyValue("height"));s>r[parseInt(o.toString(),10)].offsetHeight&&(r[parseInt(o.toString(),10)].style.height=s+"px",r[parseInt(o.toString(),10)].style.boxSizing="content-box")}this.parent.getVisibleFrozenLeftCount()&&this.parent.enableColumnVirtualization&&this.widthService.refreshFrozenScrollbar()},e.prototype.setRowsInLazyGroup=function(e,t){this.parent.groupSettings.enableLazyLoading&&!this.useGroupCache&&this.parent.groupSettings.columns.length&&(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).maintainRows(e,t)},e.prototype.setGroupCache=function(e,t){!this.useGroupCache&&this.parent.groupSettings.enableLazyLoading&&this.parent.notify(Z.ied,{args:t,data:e})},e.prototype.ensureFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&("reorder"===e.requestType||"refresh"===e.requestType)||this.parent.infiniteScrollSettings.enableCache&&this.parent.frozenRows&&"delete"===this.parent.infiniteScrollModule.requestType&&1!==this.parent.pageSettings.currentPage)},e.prototype.ensureVirtualFrozenHeaderRender=function(e){return!(this.parent.enableVirtualization&&"delete"===e.requestType)},e.prototype.checkCache=function(e,t){if(this.parent.infiniteScrollSettings.enableCache&&"infiniteScroll"===t.requestType){if(this.isAddRows=!(0,y.le)(this.infiniteCache[this.parent.pageSettings.currentPage]),this.isAddRows){var i=this.infiniteCache[this.parent.pageSettings.currentPage];e=1===this.parent.pageSettings.currentPage?i.slice(this.parent.frozenRows):i}return e}return this.parent.groupSettings.enableLazyLoading&&this.parent.groupSettings.columns.length&&("paging"===t.requestType||"columnstate"===t.requestType||"reorder"===t.requestType||"virtualscroll"===t.requestType)&&(this.parent.enableVirtualization?this.parent.lazyLoadRender:this.parent.contentModule).getGroupCache()[this.parent.pageSettings.currentPage]?(this.parent.enableVirtualization||(this.useGroupCache=!0),this.parent.enableVirtualization?this.parent.getRowsObject():this.parent.contentModule.initialGroupRows("reorder"===t.requestType)):null},e.prototype.setInfiniteVisibleRows=function(e,t){!this.parent.enableInfiniteScrolling||this.parent.infiniteScrollSettings.enableCache||this.isInfiniteColumnvirtualization()&&"virtualscroll"===e.requestType||this.visibleRows.push(t)},e.prototype.getCurrentBlockInfiniteRecords=function(){var e=[];if(this.parent.infiniteScrollSettings.enableCache){if(!Object.keys(this.infiniteCache).length)return[];for(var t=this.parent.getRows(),i=parseInt(t[this.parent.frozenRows].getAttribute(te._x),10)-1,n=Math.ceil((i+1)/this.parent.pageSettings.pageSize),r=Math.ceil(((i=parseInt(t[t.length-1].getAttribute(te._x),10)-1)+(t.length?1:0))/this.parent.pageSettings.pageSize),o=n;o<=r;o++)e=e.length?e.concat(this.infiniteCache[parseInt(o.toString(),10)]):this.infiniteCache[parseInt(o.toString(),10)];this.parent.frozenRows&&this.parent.pageSettings.currentPage>1&&(e=this.infiniteCache[1].slice(0,this.parent.frozenRows).concat(e))}return e},e.prototype.getReorderedRows=function(e){return this.parent.contentModule.getReorderedFrozenRows(e)},e.prototype.virtualFrozenHdrRefresh=function(e,t,i,n,r,o){if(this.parent.frozenRows&&this.parent.enableVirtualization&&("reorder"===n.requestType||"refresh"===n.requestType)){for(var s=void 0,a=this.getReorderedRows(n),l=0;l<a.length;l++)s=i.render(a[parseInt(l.toString(),10)],o),e.appendChild(s);1===n.virtualInfo.page&&t.splice(0,this.parent.frozenRows)}},e.prototype.getInfiniteRows=function(){var e=[];if(this.parent.enableInfiniteScrolling){if(this.parent.infiniteScrollSettings.enableCache)for(var t=Object.keys(this.infiniteCache),i=0;i<t.length;i++)e=e.concat(this.infiniteCache[t[parseInt(i.toString(),10)]]);else e=this.visibleRows}return e},e.prototype.getInfiniteMovableRows=function(){var e=this.getCurrentBlockInfiniteRecords();return this.parent.enableInfiniteScrolling?e.length?e:this.visibleRows:[]},e.prototype.getPanel=function(){return this.contentPanel},e.prototype.setPanel=function(e){this.contentPanel=e},e.prototype.getTable=function(){return this.contentTable},e.prototype.setTable=function(e){this.contentTable=e},e.prototype.getRows=function(){var e=this.getInfiniteRows();return e.length?e:this.rows},e.prototype.getRowElements=function(){return this.rowElements},e.prototype.setRowElements=function(e){this.rowElements=e},e.prototype.getColGroup=function(){return this.colgroup},e.prototype.setColGroup=function(e){return(0,y.le)(e)||(e.id="content-"+e.id),this.colgroup=e},e.prototype.setVisible=function(e){var t,i=this.parent;this.getRows().some(function(e){return e.isDataRow&&(t=e),e.isDataRow});var n=!0;!i.groupSettings.columns.length&&t&&(n=!1);for(var r=i.getDataRows(),o=this.infiniteRowVisibility(),s=o||this.rows.filter(function(e){return!e.isDetailRow}),a=0,l=e.length;a<l;a++){var h=e[parseInt(a.toString(),10)],c=this.parent.getNormalizedColumnIndex(h.uid),p=this.parent.getColumnIndexByUid(h.uid),d=!0===h.visible?"":"none";-1!==c&&t&&c<t.cells.length&&(0,y.V7)(this.getColGroup().childNodes[parseInt(c.toString(),10)],{display:d}),n||this.setDisplayNone(r,p,d,s),!this.parent.invokedFromMedia&&h.hideAtMedia&&this.parent.updateMediaColumns(h),this.parent.invokedFromMedia=!1}n?this.refreshContentRows({requestType:"refresh"}):(this.parent.notify(Z.SOw,{rows:s,args:{}}),this.parent.editSettings.showAddNewRow&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.notify(Z.zeS,{}))},e.prototype.setDisplayNone=function(e,t,i,n){(0,U.vT)(e,t,i,n,this.parent,this.parent.isRowDragable()),this.parent.notify(Z.zhO,{visible:i,index:t,isFreeze:this.isInfiniteFreeze})},e.prototype.infiniteRowVisibility=function(e){var t;return this.parent.enableInfiniteScrolling&&(this.isInfiniteFreeze=e,t=this.parent.infiniteScrollSettings.enableCache?this.getCurrentBlockInfiniteRecords():e?this.visibleFrozenRows:this.visibleRows),t},e.prototype.colGroupRefresh=function(){if(this.getColGroup()){var e=this.getHeaderColGroup();this.getTable().replaceChild(e,this.getColGroup()),this.setColGroup(e)}},e.prototype.getHeaderColGroup=function(){return this.parent.element.querySelector("."+te.uD).querySelector(te.Iz+":not(.e-masked-colgroup)").cloneNode(!0)},e.prototype.initializeContentDrop=function(){var e=this.parent;this.droppable=new y.bK(e.element,{accept:".e-dragclone",drop:this.drop})},e.prototype.droppableDestroy=function(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy()},e.prototype.canSkip=function(e,t,i){return(0,y.le)(t)||(0,y.le)(e.visible)||t.cells[parseInt(i.toString(),10)].visible===e.visible},e.prototype.getModelGenerator=function(){return this.generator=this.parent.allowGrouping?new tl(this.parent):new ti(this.parent)},e.prototype.renderEmpty=function(e){this.getTable().appendChild(e),this.parent.frozenRows&&(this.parent.getHeaderContent().querySelector(te.gE).innerHTML="")},e.prototype.setSelection=function(e,t,i){this.parent.notify(Z.aqZ,{uid:e,set:t,clearAll:i});for(var n=this.getRows().filter(function(t){return i||e===t.uid}),r=0;r<n.length;r++){n[parseInt(r.toString(),10)].isSelected=t;for(var o=n[parseInt(r.toString(),10)].cells,s=0;s<o.length;s++)o[parseInt(s.toString(),10)].isSelected=t}},e.prototype.getRowByIndex=function(e){return e=this.getInfiniteRowIndex(e),(0,y.le)(e)?void 0:this.parent.getDataRows()[parseInt(e.toString(),10)]},e.prototype.getInfiniteRowIndex=function(e){if(this.parent.infiniteScrollSettings.enableCache&&!(0,y.le)(e)){var t=this.parent.frozenRows,i=t>e?0:t,n=parseInt(this.parent.getRows()[parseInt(i.toString(),10)].getAttribute(te._x),10)-1;e=t>e?e:e-n+t}return e},e.prototype.getVirtualRowIndex=function(e){return e},e.prototype.enableAfterRender=function(e){"group"===e.module&&e.enable&&(this.generator=this.getModelGenerator())},e.prototype.setRowObjects=function(e){this.rows=e},e.prototype.immutableModeRendering=function(e){var t=this;void 0===e&&(e={});var i=this.parent;i.hideSpinner();var n=i.getPrimaryKeyFieldNames()[0],r={},o={},s=[],a={},l=i.getRowsObject().slice(),h=this.getBatchEditedRecords(n,l),c={},p=0!==Object.keys(h).length;if(i.getContent().querySelector(".e-emptyrow")||"reorder"===e.requestType||this.parent.groupSettings.columns.length)this.refreshContentRows(e);else{if(0===i.currentViewData.length)return;var d={},u=i.createElement(te.gE,{attrs:{role:"rowgroup"}}),g=i.currentViewData,f=[].slice.call(this.getTable().querySelector(te.gE).children);if(this.prevCurrentView.length){var m=this.prevCurrentView.length,v=g.length;if(m===v)for(var S=0;S<v;S++){if("Batch"===this.parent.editSettings.mode&&f[parseInt(S.toString(),10)].classList.contains("e-insertedrow")){f.splice(S,1),--S;continue}o[g[parseInt(S.toString(),10)][""+n]]=r[this.prevCurrentView[parseInt(S.toString(),10)][""+n]]=S,c[parseInt(S.toString(),10)]=g[parseInt(S.toString(),10)][""+n],d[l[parseInt(S.toString(),10)].uid]=f[parseInt(S.toString(),10)],a[parseInt(S.toString(),10)]=this.prevCurrentView[parseInt(S.toString(),10)][""+n]}else{for(var S=0;S<v;S++)o[g[parseInt(S.toString(),10)][""+n]]=S,c[parseInt(S.toString(),10)]=g[parseInt(S.toString(),10)][""+n];for(var S=0;S<m;S++){if("Batch"===this.parent.editSettings.mode&&f[parseInt(S.toString(),10)].classList.contains("e-insertedrow")){f.splice(S,1),--S;continue}d[l[parseInt(S.toString(),10)].uid]=f[parseInt(S.toString(),10)],r[this.prevCurrentView[parseInt(S.toString(),10)][""+n]]=S,a[parseInt(S.toString(),10)]=this.prevCurrentView[parseInt(S.toString(),10)][""+n]}}}for(var S=0;S<g.length;S++){var C=r[g[parseInt(S.toString(),10)][""+n]];if((0,y.le)(C)){var b=new tt(this.serviceLocator,null,i),w={startIndex:S},I=this.generator.generateRows([g[parseInt(S.toString(),10)]],w);s.push(I[0]);var x=b.render(I[0],i.getColumns());u.appendChild(x),this.refreshImmutableContent(S,x,s[parseInt(S.toString(),10)])}else{var R=!1;this.parent.enableDeepCompare&&(R=this.objectEqualityChecker(this.prevCurrentView[parseInt(C.toString(),10)],g[parseInt(S.toString(),10)]));var x=d[l[parseInt(C.toString(),10)].uid];if(s.push(l[parseInt(C.toString(),10)]),this.rowElements[parseInt(C.toString(),10)]&&this.rowElements[parseInt(C.toString(),10)].getAttribute("data-uid")===s[parseInt(S.toString(),10)].uid&&(p&&(0,y.le)(h[c[parseInt(S.toString(),10)]])||!p&&(R||this.prevCurrentView[parseInt(C.toString(),10)]===g[parseInt(S.toString(),10)]))){C!==S&&this.refreshImmutableContent(S,x,s[parseInt(S.toString(),10)]),u.appendChild(x);continue}(!p||(0,y.le)(h[c[parseInt(S.toString(),10)]]))&&(this.parent.enableDeepCompare||g[parseInt(S.toString(),10)]===this.prevCurrentView[parseInt(C.toString(),10)])&&(!this.parent.enableDeepCompare||R)||l[parseInt(C.toString(),10)].setRowValue(g[parseInt(S.toString(),10)]),u.appendChild(x),this.refreshImmutableContent(S,x,s[parseInt(S.toString(),10)])}}if(this.rows=s,this.rowElements=[].slice.call(u.children),(0,y.Od)(this.getTable().querySelector(te.gE)),this.getTable().appendChild(u),this.parent.trigger(Z.rud,{},function(){t.parent.allowTextWrap&&t.parent.notify(Z.bxM,{case:"textwrap"})}),e){var k=(e.requestType||"").toLowerCase()+"-complete";this.parent.notify(k,e)}}},e.prototype.objectEqualityChecker=function(e,t){for(var i=Object.keys(e),n=!0,r=0;r<i.length;r++)if(e[i[parseInt(r.toString(),10)]]!==t[i[parseInt(r.toString(),10)]]&&(!(e[i[parseInt(r.toString(),10)]]instanceof Date&&t[i[parseInt(r.toString(),10)]]instanceof Date)||e[i[parseInt(r.toString(),10)]].getTime()!==t[i[parseInt(r.toString(),10)]].getTime())){n=!1;break}return n},e.prototype.getBatchEditedRecords=function(e,t){var i={},n=this.parent.getBatchChanges(),r=[],o=[];Object.keys(n).length&&(r=n.changedRecords,o=n.addedRecords);var s={cancel:!1};this.parent.notify(Z.PC4,{rows:t,args:s}),o.length&&("Bottom"===this.parent.editSettings.newRowPosition?t.splice(t.length-1,o.length):s.cancel||t.splice(0,o.length));for(var a=0;a<r.length;a++)i[r[parseInt(a.toString(),10)][""+e]]=a;return i},e.prototype.refreshImmutableContent=function(e,t,i){i.isAltRow=!!this.parent.enableAltRow&&e%2!=0,i.isAltRow?t.classList.add("e-altrow"):t.classList.remove("e-altrow"),i.index=e,i.edit=void 0,i.isDirty=!1,t.setAttribute(te._x,(e+1).toString()),this.updateCellIndex(t,e)},e.prototype.updateCellIndex=function(e,t){for(var i=0;i<e.cells.length;i++)e.cells[parseInt(i.toString(),10)].setAttribute("index",t.toString())},e}(),tc=function(){function e(e,t){var i=this;this.frzIdx=0,this.notfrzIdx=0,this.isFirstCol=!1,this.isReplaceDragEle=!0,this.helper=function(e){var t,n=i.parent,r=i.draggable.currentStateTarget,o=(0,U.Cf)(r,"e-headercell");if(!(n.allowReordering||n.allowGrouping)||!(0,y.le)(o)&&o.getElementsByClassName("e-checkselectall").length>0)return!1;var s=i.parent.createElement("div",{className:"e-cloneproperties e-dragclone e-headerclone"}),a=r.classList.contains("e-headercell")?r:o;if(!a||!n.allowReordering&&a.classList.contains("e-stackedheadercell"))return!1;var l=a.offsetHeight,h=a.querySelector(".e-headercelldiv")||a.querySelector(".e-stackedheadercelldiv");if(h){if(t=a.querySelector(".e-stackedheadercelldiv")?n.getStackedHeaderColumnByHeaderText(h.innerText.trim(),n.columns):n.getColumnByUid(h.getAttribute("e-mappinguid")),i.column=t,i.column.lockColumn)return!1;s.setAttribute("e-mappinguid",i.column.uid)}if(t&&!(0,y.le)(t.headerTemplate)){if((0,y.le)(t.headerTemplate))s.innerHTML=t.headerTemplate;else{var c=n.getColumnIndexByField(t.field),p=t.getHeaderTemplate()((0,y.l7)({index:c},t),n,"headerTemplate",null,null,null,null,n.root),d=n.isReact&&"string"!=typeof t.headerTemplate,u=n.parentDetails&&n.parentDetails.parentInstObj&&n.parentDetails.parentInstObj.isReact;(d||u)&&n.renderTemplates(),(0,U.rG)(s,p)}(0,y.le)(s.firstChild)||1!==s.firstChild.nodeType||(s.firstChild.style.pointerEvents="none")}else s.innerHTML=h?t.headerText:a.firstElementChild.innerHTML;return s.style.width=a.offsetWidth+"px",s.style.height=a.offsetHeight+"px",s.style.lineHeight=(l-6).toString()+"px",n.element.appendChild(s),s},this.dragStart=function(e){var t=i.parent;t.element.querySelector(".e-gridpopup").style.display="none",t.notify(Z.k2Y,{target:i.draggable.currentStateTarget,column:i.column,event:e.event})},this.drag=function(e){var t=i.parent,n=e.target;if(n){var r=(0,y.oq)(n,".e-grid"),o=i.parent.element.querySelector(".e-cloneproperties");if((!r||r.getAttribute("id")!==t.element.getAttribute("id"))&&((0,y.s1)(o,["e-notallowedcur"],["e-defaultcur"]),t.allowReordering&&(t.element.querySelector(".e-reorderuparrow").style.display="none",t.element.querySelector(".e-reorderdownarrow").style.display="none"),!t.groupSettings.allowReordering))return;t.notify(Z.$2G,{target:e.target,column:i.column,event:e.event})}},this.dragStop=function(e){var t,n=i.parent;n.element.querySelector(".e-gridpopup").style.display="none",(!(0,U.Cf)(e.target,"e-headercell")&&!(0,U.Cf)(e.target,"e-groupdroparea")||!n.allowReordering&&(0,U.Cf)(e.target,"e-headercell")||!e.helper.getAttribute("e-mappinguid")&&(0,U.Cf)(e.target,"e-groupdroparea"))&&((0,y.Od)(e.helper),t=!0),n.notify(Z.SR1,{target:e.target,event:e.event,column:i.column,cancel:t})},this.drop=function(e){var t=i.parent,n=e.droppedElement.getAttribute("e-mappinguid"),r=(0,y.oq)(e.target,".e-grid");(0,y.Od)(e.droppedElement),(!r||r.getAttribute("id")===t.element.getAttribute("id"))&&(t.allowReordering||t.allowGrouping)&&t.notify(Z.yag,{target:e.target,uid:n,droppedElement:e.droppedElement})},this.parent=e,this.serviceLocator=t,this.ariaService=this.serviceLocator.getService("ariaService"),this.widthService=this.serviceLocator.getService("widthService"),this.parent.isDestroyed||(this.parent.enableColumnVirtualization||this.parent.on(Z.sj6,this.setVisible,this),this.parent.on(Z.iLX,this.colPosRefresh,this),this.parent.on(Z.XrU,this.renderCustomToolbar,this),"Vertical"===this.parent.rowRenderingMode&&this.parent.on(Z.vxT,this.updateCustomResponsiveToolbar,this))}return e.prototype.renderPanel=function(){var e=this.parent.element.querySelector("."+te.uD),t=null!=e;e=t?e:this.parent.createElement("div",{className:"e-gridheader"});var i=t?e.querySelector("."+te.Vd):this.parent.createElement("div",{className:te.Vd});this.toggleStackClass(e),e.appendChild(i),this.setPanel(e),t||this.parent.element.appendChild(e)},e.prototype.renderTable=function(){var e=this.getPanel();e.appendChild(this.createHeaderTable()),this.setTable(e.querySelector("."+te.Kz)),this.initializeHeaderDrag(),this.initializeHeaderDrop(),this.parent.notify(Z.lxn,{rows:this.rows})},e.prototype.getPanel=function(){return this.headerPanel},e.prototype.setPanel=function(e){this.headerPanel=e},e.prototype.getTable=function(){return this.headerTable},e.prototype.setTable=function(e){this.headerTable=e},e.prototype.getColGroup=function(){return this.colgroup},e.prototype.setColGroup=function(e){return this.colgroup=e},e.prototype.getRows=function(){return this.getTable().tHead.rows},e.prototype.createHeaderTable=function(){var e=this.createTable(),t=this.getPanel().querySelector("."+te.Vd);return t.appendChild(e),t},e.prototype.createHeader=function(e,t){void 0===e&&(e=null);var i,n=this.parent;this.getTable()&&(0,y.Od)(this.getTable());var r=this.parent.createElement("table",{className:te.Kz,attrs:{role:"presentation"}});r.style.cssText="border-collapse: separate; border-spacing: .25px;";var o=this.createHeaderContent(t),s=o.thead,a=this.parent.createElement(te.gE,{className:this.parent.frozenRows||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.editSettings.showAddNewRow?"":"e-hide",attrs:{role:"rowgroup"}});this.caption=this.parent.createElement("caption",{innerHTML:this.parent.element.id+"_header_table",className:"e-hide"});for(var l=this.parent.createElement(te.Iz),h=this.parent.createElement("tr",{attrs:{role:"row"},className:(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.editSettings.showAddNewRow?"e-hide":""}),c=this.rows=o.rows,p=0,d=c.length;p<d;p++)for(var u=0,g=c[parseInt(p.toString(),10)].cells.length;u<g;u++)i=this.parent.createElement("td"),h.appendChild(i);return(n.allowFiltering||n.allowSorting||n.allowGrouping)&&r.classList.add("e-sortfilter"),this.updateColGroup(l),a.appendChild(h),r.appendChild(this.setColGroup(l)),r.appendChild(s),r.appendChild(a),r.appendChild(this.caption),r},e.prototype.createTable=function(e){return void 0===e&&(e=null),this.createHeader(e)},e.prototype.createHeaderContent=function(e){var t,i=this.parent,r=i.getColumns(),o=this.parent.createElement("thead",{attrs:{role:"rowgroup"}}),s=this.parent.createElement("tr",{className:"e-columnheader",attrs:{role:"row"}}),a=new tt(this.serviceLocator,n.Header,i);a.element=s;var l=[];this.colDepth=(0,U.id)(i.columns);for(var h=0,c=this.colDepth;h<c;h++)l[parseInt(h.toString(),10)]=this.generateRow(h),l[parseInt(h.toString(),10)].cells=[];if(l=this.ensureColumns(l),l=this.getHeaderCells(l,e),i.isRowDragable()&&"Right"===this.parent.getFrozenMode())for(var h=0,c=l.length;h<c;h++)l[parseInt(h.toString(),10)].cells.push(this.generateCell({},n.RowDragHIcon));r.filter(function(e){return e.headerTemplate}).length&&(this.parent.isReact||this.parent.isVue)&&(0,U.uq)(this.parent,["headerTemplate"]);for(var h=0,c=this.colDepth;h<c;h++)t=a.render(l[parseInt(h.toString(),10)],r),this.parent.rowHeight&&t.querySelector(".e-headercell")&&(t.style.height=this.parent.rowHeight+"px"),(0,U.pn)(t),o.appendChild(t);return{thead:o,rows:l}},e.prototype.updateColGroup=function(e){var t,i=this.parent.getColumns(),n=this.parent.getColumnIndexesInView();if(e.id=this.parent.element.id+te.Iz,this.parent.allowGrouping)for(var r=0,o=this.parent.groupSettings.columns.length;r<o;r++)this.parent.enableColumnVirtualization&&-1===n.indexOf(r)||(t=this.parent.createElement("col",{className:"e-group-intent"}),e.appendChild(t));(this.parent.detailTemplate||this.parent.childGrid)&&(t=this.parent.createElement("col",{className:"e-detail-intent"}),e.appendChild(t)),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(t=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(t));for(var r=0,o=i.length;r<o;r++)t=this.parent.createElement("col"),!1===i[parseInt(r.toString(),10)].visible&&(0,y.V7)(t,{display:"none"}),e.appendChild(t);return this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&(t=this.parent.createElement("col",{className:"e-drag-intent"}),e.appendChild(t)),e},e.prototype.ensureColumns=function(e){for(var t=this.parent,i=this.parent.getColumnIndexesInView(),r=0,o=e.length;r<o;r++){if(t.allowGrouping)for(var s=0,a=t.groupSettings.columns.length;s<a;s++)this.parent.enableColumnVirtualization&&-1===i.indexOf(s)||e[parseInt(r.toString(),10)].cells.push(this.generateCell({},n.HeaderIndent));if(t.detailTemplate||t.childGrid){var l={};this.parent.notify(Z.mnQ,l),e[parseInt(r.toString(),10)].cells.push(this.generateCell(l,n.DetailHeader))}t.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&e[parseInt(r.toString(),10)].cells.push(this.generateCell({},n.RowDragHIcon))}return e},e.prototype.getHeaderCells=function(e,t){var i=this.parent.getHeaderTable()&&this.parent.getHeaderTable().querySelector("thead"),n=this.parent.enableColumnVirtualization?this.parent.getColumns(this.parent.enablePersistence):this.parent.columns;if(this.frzIdx=0,this.notfrzIdx=0,this.parent.lockcolPositionCount)for(var r=0;r<((0,y.le)(n)?0:n.length);r++)this.lockColsRendered=!1,e=this.appendCells(n[parseInt(r.toString(),10)],e,0,0===r,!1,r===n.length-1,i,t,!1);for(var r=0,o=(0,y.le)(n)?0:n.length;r<o;r++)this.notfrzIdx=0,this.lockColsRendered=!0,e=this.appendCells(n[parseInt(r.toString(),10)],e,0,0===r,!1,r===o-1,i,t,!1);return e},e.prototype.appendCells=function(e,t,i,r,o,s,a,l,h){var c=s?h?"e-laststackcell":"e-lastcell":"",p=!this.parent.lockcolPositionCount||e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered;if(e.columns){this.isFirstCol=!1;var d=this.getCellCnt(e,0);if(d){var u=this.getStackedLockColsCount(e,0);(0===this.parent.lockcolPositionCount||!this.lockColsRendered&&0!==u||this.lockColsRendered&&d-u!=0)&&t[parseInt(i.toString(),10)].cells.push(new e8({cellType:n.StackedHeader,column:e,colSpan:this.getColSpan(d,u),className:r?"":o?"e-firstcell":""}))}if(this.parent.lockcolPositionCount&&!this.lockColsRendered)for(var g=0;g<e.columns.length;g++)t=this.appendCells(e.columns[parseInt(g.toString(),10)],t,i+1,r,0===g,g===e.columns.length-1&&s,a,l,!1);if(this.lockColsRendered)for(var g=0,f=e.columns.length;g<f;g++){r=r&&0===g;var m=this.isFirstCol=e.columns[parseInt(g.toString(),10)].visible&&!r,y=g===f-1&&s;t=this.appendCells(e.columns[parseInt(g.toString(),10)],t,i+1,r,m&&!y,y,a,l,!0)}}else p&&t[parseInt(i.toString(),10)].cells.push(this.generateCell(e,n.Header,this.colDepth-i,(r?"":o?"e-firstcell":"")+c,i,this.parent.getColumnIndexByUid(e.uid))),this.parent.lockcolPositionCount?this.frzIdx+this.notfrzIdx<this.parent.frozenColumns&&(e.lockColumn&&!this.lockColsRendered||!e.lockColumn&&this.lockColsRendered)?this.frzIdx++:this.notfrzIdx++:this.frzIdx++;return t},e.prototype.getStackedLockColsCount=function(e,t){if(e.columns)for(var i=0;i<e.columns.length;i++)t=this.getStackedLockColsCount(e.columns[parseInt(i.toString(),10)],t);else e.lockColumn&&t++;return t},e.prototype.getColSpan=function(e,t){return e=this.lockColsRendered?e-t:t},e.prototype.generateRow=function(e){return new e5({})},e.prototype.generateCell=function(e,t,i,n,r,o){var s={visible:e.visible,isDataCell:!1,isTemplate:!(0,y.le)(e.headerTemplate),rowID:"",column:e,cellType:t,rowSpan:i,className:n,index:r,colIndex:o};return(!s.rowSpan||s.rowSpan<2)&&delete s.rowSpan,new e8(s)},e.prototype.setVisible=function(e){for(var t,i,n=this.parent,r=0,o=e.length;r<o;r++){var s=e[parseInt(r.toString(),10)];i=n.getNormalizedColumnIndex(s.uid),t=s.visible?"":"none",(0,y.V7)(this.getColGroup().children[parseInt(i.toString(),10)],{display:t}),n.editSettings.showAddNewRow&&n.element.querySelector(".e-addedrow")&&(0,y.V7)(n.element.querySelector(".e-addedrow").querySelector("colgroup").childNodes[parseInt(i.toString(),10)],{display:t})}this.refreshUI(),this.parent.editSettings.showAddNewRow&&(this.parent.isAddNewRow=!0)},e.prototype.colPosRefresh=function(){this.refreshUI()},e.prototype.refreshUI=function(){var e=this.getPanel();this.toggleStackClass(e);var t=this.getTable();if(t){(0,y.Od)(t),this.parent.editSettings.showAddNewRow&&!this.parent.isAddNewRow&&t.querySelector(".e-addedrow")&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&(t.querySelector(".e-addedrow").classList.add("e-addrow-removed"),this.parent.isAddNewRow=!0),t.removeChild(t.firstChild),t.removeChild(t.childNodes[0]);var i=this.parent.createElement(te.Iz),n=this.createHeaderContent(void 0);this.rows=n.rows,t.insertBefore(n.thead,t.firstChild),this.updateColGroup(i),t.insertBefore(this.setColGroup(i),t.firstChild),this.appendContent(t),this.parent.notify(Z.TYh,{}),this.widthService.setWidthToColumns(),this.parent.updateDefaultCursor(),this.initializeHeaderDrag();for(var r=[].slice.call(e.querySelectorAll("tr.e-columnheader")),o=0;o<r.length;o++){var s=r[o],a=[].slice.call(s.getElementsByClassName("e-grouptopleftcell"));a.length&&a[a.length-1].classList.add("e-lastgrouptopleftcell")}this.parent.notify(Z.lxn,{rows:this.rows}),this.parent.enableColumnVirtualization&&(0,U.Cf)(t,te.Hx)&&this.parent.notify(Z.lxn,{rows:this.rows,args:{isFrozen:!1,isXaxis:!0}}),this.parent.allowTextWrap&&"Header"===this.parent.textWrapSettings.wrapMode&&(0,U.re)(r,!0)}var l=this.parent.getHeaderContent().querySelector(".e-headercell:not(.e-hide)");(0,y.le)(l)||(l.tabIndex=0)},e.prototype.toggleStackClass=function(e){var t=this.parent.columns;!(0,y.le)(t)&&t.some(function(e){return!(0,y.le)(e.columns)})?e.classList.add("e-stackedheader"):e.classList.remove("e-stackedheader")},e.prototype.appendContent=function(e){this.getPanel().querySelector("."+te.Vd).appendChild(e)},e.prototype.getCellCnt=function(e,t){if(e.columns)for(var i=0,n=e.columns.length;i<n;i++)t=this.getCellCnt(e.columns[parseInt(i.toString(),10)],t);else e.visible&&t++;return t},e.prototype.initializeHeaderDrag=function(){var e=this.parent;(this.parent.allowReordering||this.parent.allowGrouping&&this.parent.groupSettings.showDropArea)&&(this.draggable=new y._l(e.getHeaderContent(),{dragTarget:".e-headercell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,abort:".e-rhandler",isReplaceDragEle:this.isReplaceDragEle}),this.parent.on(Z.ob2,this.droppableDestroy,this))},e.prototype.initializeHeaderDrop=function(){var e=this.parent;this.droppable=new y.bK(e.getHeaderContent(),{accept:".e-dragclone",drop:this.drop}),this.parent.on(Z.ob2,this.droppableDestroy,this)},e.prototype.droppableDestroy=function(){this.droppable&&!this.droppable.isDestroyed&&this.droppable.destroy(),this.draggable&&!this.draggable.isDestroyed&&this.draggable.destroy()},e.prototype.renderCustomToolbar=function(){var e=this,t=this.parent;if("Vertical"===t.rowRenderingMode&&!t.toolbar&&(t.allowSorting||t.allowFiltering&&"FilterBar"!==t.filterSettings.type)){for(var i=t.createElement("div",{className:"e-res-toolbar e-toolbar"}),n=t.createElement("div",{className:"e-toolbar-items"}),r=t.createElement("div",{className:"e-toolbar-left"}),o=this.parent.allowFiltering&&this.parent.allowSorting?2:1,s=0;s<o;s++){var a=t.createElement("div",{className:"e-toolbar-item e-gridresponsiveicons e-icons e-tbtn-align"}),l=1===o?this.parent.allowSorting?"sort":"filter":1===s?"sort":"filter",h=t.createElement("button",{className:"e-tbar-btn e-control e-btn e-lib e-icon-btn"}),c=t.createElement("span",{className:"e-btn-icon e-res"+l+"-icon e-icons"});h.appendChild(c),new $.zx({cssClass:this.parent.cssClass?this.parent.cssClass:""}).appendTo(h),h.onclick=function(t){t.target.classList.contains("e-ressort-btn")||t.target.classList.contains("e-ressort-icon")||t.target.querySelector(".e-ressort-icon")?e.parent.showResponsiveCustomSort():e.parent.showResponsiveCustomFilter()},a.appendChild(h),r.appendChild(a)}n.appendChild(r),i.appendChild(n),t.element.insertBefore(i,this.parent.element.querySelector("."+te.uD))}else t.enableAdaptiveUI&&!t.toolbar&&t.getContent().classList.add("e-responsive-header")},e.prototype.updateCustomResponsiveToolbar=function(e){var t=this.parent.element.querySelector(".e-responsive-toolbar");"toolbar"===e.module&&(t?(0,y.Od)(t):this.renderCustomToolbar())},e}(),tp=function(){function e(e,t){this.localizer=t.getService("localization"),this.formatter=t.getService("valueFormatter"),this.parent=e,this.element=this.parent.createElement("TD",{className:te.PO,attrs:{role:"gridcell",tabindex:"-1"}}),this.rowChkBox=this.parent.createElement("input",{className:"e-checkselect",attrs:{type:"checkbox","aria-label":this.localizer.getConstant("SelectRow")}})}return e.prototype.getGui=function(){return""},e.prototype.format=function(e,t,i){if(!(0,y.le)(e.format)){if("number"===e.type&&isNaN(parseInt(t,10))&&(t=null),"dateonly"===e.type&&"string"==typeof t&&t){var n=t.split(/[^0-9.]/);t=new Date(parseInt(n[0],10),parseInt(n[1],10)-1,parseInt(n[2],10))}t=this.formatter.toView(t,e.getFormatter())}return(0,y.le)(t)?"":t.toString()},e.prototype.evaluate=function(e,t,i,n,r,o){if(t.column.template){var s,a,l=this.parent.isReact&&"string"!=typeof t.column.template&&!(t.column.template.prototype&&t.column.template.prototype.CSPTemplate),h=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,c=this.parent.printGridParent&&this.parent.printGridParent.isReact,p=(0,U.UO)({},i,((s={})[Z.snV]=r,s.column=t.column,s)),d=this.parent.element.id+t.column.uid,u="isStringTemplate";if(l||h||c){var g={index:n.index};t.column.getColumnTemplate()((0,y.l7)(g,p),this.parent,"columnTemplate",d,this.parent[""+u],null,e)}else a=t.column.getColumnTemplate()((0,y.l7)({index:n.index},p),this.parent,"template",d,this.parent[""+u],void 0,void 0,this.parent.root);return l||h||c||(0,U.rG)(e,a),this.parent.notify("template-result",{template:a}),a=null,t.column.templateOptions.enableAriaLabel&&e.setAttribute("aria-label",e.innerText+this.localizer.getConstant("TemplateCell")+this.localizer.getConstant("ColumnHeader")+t.column.headerText),!1}return!0},e.prototype.invokeFormatter=function(e,t,i){return(0,y.le)(e.formatter)||(t=(0,U.bf)(e.formatter,"getValue")?new e.formatter().getValue(e,i):"function"==typeof e.formatter?e.formatter(e,i):e.formatter.getValue(e,i)),t},e.prototype.render=function(e,t,i,n,r){return this.refreshCell(e,t,i,r)},e.prototype.refreshTD=function(e,t,i,n){var r="Batch"===this.parent.editSettings.mode&&e.classList.contains("e-editedbatchcell");if(this.parent.isReact){var o=e.cellIndex,s=e.parentElement;(0,y.Od)(e);var a=this.refreshCell(t,i,n,r);this.cloneAttributes(a,e),s.cells.length!==o-1?s.insertBefore(a,s.cells[parseInt(o.toString(),10)]):s.appendChild(a)}else{var l=this.refreshCell(t,i,n,r);e.innerHTML="";var h=l.getAttribute("aria-label");h&&e.setAttribute("aria-label",h);for(var c=[].slice.call(l.childNodes),p=0;p<c.length;p++){var d=c[p];e.appendChild(d)}}},e.prototype.cloneAttributes=function(e,t){for(var i,n=t.attributes,r=n.length;r--;)i=n[parseInt(r.toString(),10)],e.setAttribute(i.name,i.value)},e.prototype.refreshCell=function(e,t,i,n){var r,o,s=this.element.cloneNode(),a=e.column;e.isForeignKey&&(o=e.foreignKeyData[0]||((r={})[a.foreignKeyValue]=a.format?null:"",r));var l=this.getGui(),h=e.isForeignKey?this.getValue(a.foreignKeyValue,o,a):this.getValue(a.field,t,a);if("date"!==a.type&&"datetime"!==a.type||(0,y.le)(h)||(h=new Date(h)),"dateonly"===a.type&&!(0,y.le)(h)&&"string"==typeof h){var c=h.split(/[^0-9.]/);h=new Date(parseInt(c[0],10),parseInt(c[1],10)-1,parseInt(c[2],10))}if(l=(h=this.format(a,h,t)).toString(),"boolean"===a.type&&!a.displayAsCheckBox){var p="true"!==h&&"false"!==h?null:"true"===h?"True":"False";l=p?this.localizer.getConstant(p):l}var d=this.invokeFormatter(a,h,t);if(l=(0,y.le)(a.formatter)?l:(0,y.le)(d)?"":d.toString(),this.evaluate(s,e,t,i,o,n)&&"checkbox"!==a.type)this.appendHtml(s,this.parent.sanitize(l),a.getDomSetter?a.getDomSetter():"innerHTML");else if("checkbox"===a.type){s.classList.add(te.pM),h=!!this.parent.selectionSettings.persistSelection&&"true"===h;var u=(0,X.eE)(this.parent.createElement,!1,{checked:h,label:" "});this.parent.cssClass&&(0,y.cn)([u],[this.parent.cssClass]),this.rowChkBox.id="checkbox-"+e.rowID,u.insertBefore(this.rowChkBox.cloneNode(),u.firstChild),s.appendChild(u)}if("Check"===this.parent.checkAllRows&&this.parent.enableVirtualization&&(e.isSelected=!0),this.setAttributes(s,e,i),"boolean"===a.type&&a.displayAsCheckBox){var g=isNaN(parseInt(h.toString(),10))?"true"===h:parseInt(h.toString(),10)>0,u=(0,X.eE)(this.parent.createElement,!1,{checked:g,label:" "});s.innerHTML="",s.classList.add("e-gridchkbox-cell"),u.classList.add("e-checkbox-disabled"),this.parent.cssClass&&(0,y.cn)([u],[this.parent.cssClass]),s.appendChild(u)}if(s.classList.contains("e-summarycell")&&!t.key){var f=s.getAttribute("e-mappinguid");a=this.parent.getColumnByUid(f),s.setAttribute("aria-label",l+this.localizer.getConstant("ColumnHeader")+e.column.headerText)}return this.parent.isFrozenGrid()&&(!t||t&&!t.key)&&(0,U.Ez)(this.parent,a,s),s},e.prototype.appendHtml=function(e,t,i){return void 0===i&&(i="innerHTML"),e[""+i]=t,e},e.prototype.setAttributes=function(e,t,i){var n=t.column;if(this.buildAttributeFromCell(e,t,"checkbox"===n.type),(0,U.db)(e,i),(0,U.db)(e,t.attributes),n.customAttributes&&(0,U.db)(e,n.customAttributes),"Vertical"===this.parent.rowRenderingMode&&(0,U.db)(e,{"data-cell":n.headerText}),n.textAlign){var r={right:"e-rightalign",left:"e-leftalign",center:"e-centeralign",justify:"e-justifyalign"};r[n.textAlign.toLowerCase()]&&e.classList.add(r[n.textAlign.toLowerCase()])}"Clip"!==n.clipMode&&(n.clipMode||"Clip"!==this.parent.clipMode)?"EllipsisWithTooltip"!==n.clipMode&&(n.clipMode||"EllipsisWithTooltip"!==this.parent.clipMode||this.parent.allowTextWrap&&("Content"===this.parent.textWrapSettings.wrapMode||"Both"===this.parent.textWrapSettings.wrapMode))||"checkbox"===n.type||e.classList.add("e-ellipsistooltip"):e.classList.add("e-gridclip")},e.prototype.buildAttributeFromCell=function(e,t,i){var r={},o=[];t.colSpan&&(r.colSpan=t.colSpan),t.rowSpan&&(r.rowSpan=t.rowSpan),t.isTemplate&&o.push("e-templatecell"),t.isSelected&&(o.push.apply(o,["e-selectionbackground","e-active"]),i&&e.querySelector(".e-frame").classList.add("e-check")),t.isColumnSelected&&o.push.apply(o,["e-columnselection"]),t.cellType===n.Header?r[te.qc]=t.colIndex+1:(0,y.le)(t.index)||(r[te.qc]=t.index+1),t.visible||o.push("e-hide"),r.class=o,(0,U.db)(e,r)},e.prototype.getValue=function(e,t,i){return i.valueAccessor(e,t,i)},e}(),td=function(){function e(){}return e.prototype.setOptions=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++)tu(e,tg[i[parseInt(n.toString(),10)]],t[i[parseInt(n.toString(),10)]])},e.prototype.setExpand=function(e,t){tu(e,tg.expand,t)},e.prototype.setSort=function(e,t){tu(e,tg.sort,t,"boolean"==typeof t)},e.prototype.setBusy=function(e,t){tu(e,tg.busy,t),tu(e,tg.invalid,null,!0)},e.prototype.setGrabbed=function(e,t,i){tu(e,tg.grabbed,t,i)},e.prototype.setDropTarget=function(e,t){tu(e,tg.dropeffect,"copy",!t)},e}();function tu(e,t,i,n){if(n&&e){e.removeAttribute(t);return}e&&e.setAttribute(t,i)}var tg={expand:"aria-expanded",role:"role",datarole:"data-role",selected:"aria-selected",multiselectable:"aria-multiselectable",sort:"aria-sort",busy:"aria-busy",invalid:"aria-invalid",grabbed:"aria-grabbed",dropeffect:"aria-dropeffect",haspopup:"aria-haspopup",level:"aria-level",colcount:"aria-colcount",rowcount:"aria-rowcount"},tf=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell",attrs:{tabindex:"-1",role:"columnheader"}}),t.ariaService=new td,t.hTxtEle=t.parent.createElement("span",{className:"e-headertext"}),t.sortEle=t.parent.createElement("div",{className:"e-sortfilterdiv e-icons",attrs:{"aria-hidden":"true"}}),t.gui=t.parent.createElement("div"),t.chkAllBox=t.parent.createElement("input",{className:"e-checkselectall",attrs:{type:"checkbox","aria-label":t.localizer.getConstant("SelectAllCheckbox")}}),t}return tf(t,e),t.prototype.getGui=function(){return this.gui.cloneNode()},t.prototype.render=function(e,t,i){var n=this.element.cloneNode(),r=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter",attrs:{"aria-hidden":"true"}});return this.prepareHeader(e,n,r)},t.prototype.refresh=function(e,t){this.clean(t);var i=this.parent.createElement("div",{className:"e-filtermenudiv e-icons e-icon-filter",attrs:{"aria-hidden":"true"}});return this.prepareHeader(e,t,i)},t.prototype.clean=function(e){e.innerHTML=""},t.prototype.prepareHeader=function(e,t,i){var n,r,o=e.column,s={},a="",l=this.getGui();if((0,y.Y4)(l,{"e-mappinguid":o.uid,class:"e-headercelldiv"}),(0,y.le)(o.headerValueAccessor)||(n=this.getValue(o.headerText,o)),this.parent.rowHeight&&this.parent.allowSorting&&o.allowSorting&&!(0,y.le)(o.field)&&t.classList.add("e-sort-icon"),"checkbox"!==o.type){var h=o.headerText;(0,y.le)(n)||(h=n);var c=this.hTxtEle.cloneNode();c[o.getDomSetter()]=this.parent.sanitize(h),l.appendChild(c)}else{o.editType="booleanedit";var p=(0,X.eE)(this.parent.createElement,!1,{checked:!1,label:" "});this.chkAllBox.id="checkbox-"+o.uid,p.insertBefore(this.chkAllBox.cloneNode(),p.firstChild),this.parent.cssClass&&(0,y.cn)([p],[this.parent.cssClass]),l.appendChild(p),l.classList.add("e-headerchkcelldiv")}if(this.buildAttributeFromCell(t,e),this.appendHtml(t,l),t.appendChild(this.sortEle.cloneNode()),this.parent.allowFiltering&&"FilterBar"!==this.parent.filterSettings.type&&o.allowFiltering&&!(0,y.le)(o.field)&&!(this.parent.showColumnMenu&&o.showColumnMenu)){(0,y.Y4)(i,{"e-mappinguid":"e-flmenu-"+o.uid}),a=a.length?a+". "+this.localizer.getConstant("FilterDescription"):this.localizer.getConstant("FilterDescription"),t.classList.add("e-fltr-icon");var d=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==d.length){for(var u=this.parent.getForeignKeyColumns(),g=0;g<this.parent.columns.length;g++)for(var f=0;f<this.parent.filterSettings.columns.length;f++)if(this.parent.filterSettings.columns[parseInt(f.toString(),10)].field===o.field||u.length&&o.foreignKeyValue===this.parent.filterSettings.columns[parseInt(f.toString(),10)].field){i.classList.add("e-filtered"),d.push(o.field);break}}t.appendChild(i.cloneNode())}e.className&&t.classList.add(e.className),o.customAttributes&&(0,U.db)(t,o.customAttributes),this.parent.allowSorting&&o.allowSorting&&(s.sort="none",a=a.length?a+". "+this.localizer.getConstant("SortDescription"):this.localizer.getConstant("SortDescription")),(this.parent.allowGrouping&&o.allowGrouping||this.parent.allowReordering&&o.allowReordering)&&(s.grabbed=!1,a=a.length?a+". "+this.localizer.getConstant("GroupDescription"):this.localizer.getConstant("GroupDescription")),this.parent.showColumnMenu&&"checkbox"!==o.type&&!o.template&&(a=a.length?a+". "+this.localizer.getConstant("ColumnMenuDescription"):this.localizer.getConstant("ColumnMenuDescription")),t=this.extendPrepareHeader(o,t);var m=this.parent,v=m.getColumnIndexByField(o.field);if(!(0,y.le)(o.headerTemplate)){var S=m.element.id+o.uid+"headerTemplate",C="isStringTemplate",b=this.parent.isReact&&"string"!=typeof o.headerTemplate&&!(o.headerTemplate.prototype&&o.headerTemplate.prototype.CSPTemplate),w=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,I=this.parent.printGridParent&&this.parent.printGridParent.isReact;b||w||I?(t.firstElementChild.innerHTML="",o.getHeaderTemplate()((0,y.l7)({index:v},o),m,"headerTemplate",S,this.parent[""+C],null,t.firstElementChild),this.parent.renderTemplates()):(r=o.getHeaderTemplate()((0,y.l7)({index:v},o),m,"headerTemplate",S,this.parent[""+C],void 0,void 0,this.parent.root),t.firstElementChild.innerHTML="",(0,U.rG)(t.firstElementChild,r))}if(this.ariaService.setOptions(t,s),!(0,y.le)(o.headerTextAlign)||!(0,y.le)(o.textAlign)){var x=o.headerTextAlign||o.textAlign;"right"===x.toLowerCase()||"left"===x.toLowerCase()?t.classList.add("right"===x.toLowerCase()?"e-rightalign":"e-leftalign"):"center"===x.toLowerCase()?t.classList.add("e-centeralign"):"justify"===x.toLowerCase()&&t.classList.add("e-justifyalign")}if("Clip"!==o.clipMode&&(o.clipMode||"Clip"!==this.parent.clipMode)?"EllipsisWithTooltip"!==o.clipMode&&(o.clipMode||"EllipsisWithTooltip"!==this.parent.clipMode)||m.allowTextWrap&&("Header"===m.textWrapSettings.wrapMode||"Both"===m.textWrapSettings.wrapMode)||"checkbox"===o.type||t.classList.add("e-ellipsistooltip"):t.classList.add("e-gridclip"),a){var R=this.parent.createElement("span",{id:"headerTitle-"+o.uid,innerHTML:a});R.style.display="none",t.appendChild(R),t.setAttribute("aria-describedby",R.id)}t.setAttribute("aria-rowspan",((0,y.le)(e.rowSpan)?1:e.rowSpan).toString()),t.setAttribute("aria-colspan","1");var k=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact;if((this.parent.isReact&&this.parent.requireTemplateRef||k&&this.parent.parentDetails.parentInstObj.requireTemplateRef)&&!(0,y.le)(o.headerTemplate)){var A=this;A.parent.renderTemplates(function(){A.parent.trigger(Z.K25,{cell:e,node:t})})}else this.parent.trigger(Z.K25,{cell:e,node:t});return this.parent.isFrozenGrid()&&(0,U.Ez)(this.parent,o,t),t},t.prototype.getValue=function(e,t){return t.headerValueAccessor(e,t)},t.prototype.extendPrepareHeader=function(e,t){if(this.parent.showColumnMenu&&e.showColumnMenu&&!(0,y.le)(e.field)){var i=this.parent.createElement("div",{className:"e-icons e-columnmenu",attrs:{"aria-hidden":"true"}}),n=[];if(this.parent.filterSettings.columns.length&&this.parent.filterSettings.columns.length!==n.length){for(var r=0;r<this.parent.columns.length;r++)for(var o=0;o<this.parent.filterSettings.columns.length;o++)if(this.parent.filterSettings.columns[parseInt(o.toString(),10)].field===e.field){i.classList.add("e-filtered"),n.push(e.field);break}}t.classList.add("e-fltr-icon"),t.appendChild(i)}if(this.parent.allowResizing){var s=this.parent.createElement("div");s.className=e.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",t.appendChild(s)}return t},t.prototype.appendHtml=function(e,t){return e.appendChild(t),e},t}(tp),ty=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-headercell e-stackedheadercell",attrs:{tabindex:"-1",role:"columnheader"}}),t}return ty(t,e),t.prototype.render=function(e,t,i){var n=this.element.cloneNode(),r=this.parent.createElement("div",{className:"e-stackedheadercelldiv",attrs:{"e-mappinguid":e.column.uid}}),o=e.column;if(n.appendChild(r),(0,y.le)(o.headerTemplate)?this.appendHtml(r,this.parent.sanitize(o.headerText),o.getDomSetter()):(0,U.rG)(r,o.getHeaderTemplate()(o,this.parent,"headerTemplate",null,null,null,null,this.parent.root)),e.column.toolTip&&n.setAttribute("title",e.column.toolTip),"Clip"!==o.clipMode&&(o.clipMode||"Clip"!==this.parent.clipMode)?"EllipsisWithTooltip"!==o.clipMode&&(o.clipMode||"EllipsisWithTooltip"!==this.parent.clipMode)||n.classList.add("e-ellipsistooltip"):n.classList.add("e-gridclip"),!(0,y.le)(e.column.textAlign)){var s={right:"e-rightalign",left:"e-leftalign",center:"e-centeralign",justify:"e-justifyalign"};s[e.column.textAlign.toLowerCase()]&&n.classList.add(s[e.column.textAlign.toLowerCase()])}if(e.column.customAttributes&&(0,U.db)(n,e.column.customAttributes),n.setAttribute("colspan",e.colSpan.toString()),n.setAttribute("aria-colspan",e.colSpan.toString()),n.setAttribute("aria-rowspan","1"),this.parent.allowResizing){var a=this.parent.createElement("div");a.className=e.column.allowResizing?"e-rhandler e-rcursor":"e-rsuppress",n.appendChild(a)}if(e.className&&n.classList.add(e.className),this.parent.trigger(Z.K25,{cell:e,node:n}),"Left"===(0,U.uz)(o)){if(n.classList.add("e-leftfreeze"),"Left"===o.border&&n.classList.add("e-freezeleftborder"),0===o.index)(0,U.Ox)(n,30*this.parent.getIndentCount(),this.parent.enableRtl,"Left");else{for(var l=this.parent.getColumns(),h=30*this.parent.getIndentCount(),c=0;c<l.length&&!(o.index<l[parseInt(c.toString(),10)].index);c++)l[parseInt(c.toString(),10)].visible&&(h+=parseFloat(l[parseInt(c.toString(),10)].width.toString()));(0,U.Ox)(n,h,this.parent.enableRtl,"Left")}}else if("Right"===(0,U.uz)(o)){n.classList.add("e-rightfreeze");for(var l=this.parent.getColumns(),h="Right"===this.parent.getFrozenMode()&&this.parent.isRowDragable()?30:0,c=l.length-1;c>=0&&!(0,U.Aq)(o,l[parseInt(c.toString(),10)].uid)&&!(o.index>l[parseInt(c.toString(),10)].index);c--)l[parseInt(c.toString(),10)].visible&&(h+=parseFloat(l[parseInt(c.toString(),10)].width.toString()));(0,U.Ox)(n,h,this.parent.enableRtl,"Right"),"Right"===o.border&&n.classList.add("e-freezerightborder")}else if("Fixed"===(0,U.uz)(o)){n.classList.add("e-fixedfreeze");var l=this.parent.getColumns(),h=0;this.parent.getVisibleFrozenLeftCount()?h=30*this.parent.getIndentCount():"Right"===this.parent.getFrozenMode()&&(h=30*this.parent.groupSettings.columns.length);for(var c=0;c<l.length;c++)o.index>l[parseInt(c.toString(),10)].index&&("Left"===l[parseInt(c.toString(),10)].freeze||l[parseInt(c.toString(),10)].isFrozen||"Fixed"===l[parseInt(c.toString(),10)].freeze)&&l[parseInt(c.toString(),10)].visible&&(h+=parseFloat(l[parseInt(c.toString(),10)].width.toString()));(0,U.Ox)(n,h-1,this.parent.enableRtl,"Left"),h="Right"===this.parent.getFrozenMode()&&this.parent.isRowDragable()?30:0;for(var c=l.length-1;c>=0;c--)if(o.index<l[parseInt(c.toString(),10)].index){if((0,U.Aq)(o,l[parseInt(c.toString(),10)].uid)||o.index>l[parseInt(c.toString(),10)].index)break;("Right"===l[parseInt(c.toString(),10)].freeze||"Fixed"===l[parseInt(c.toString(),10)].freeze)&&l[parseInt(c.toString(),10)].visible&&(h+=parseFloat(l[parseInt(c.toString(),10)].width.toString()))}(0,U.Ox)(n,h-1,this.parent.enableRtl,"Right")}else n.classList.add("e-unfreeze");return n},t}(tp),tS=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tC=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-indentcell"}),t}return tS(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return(0,U.db)(i,e.attributes),i},t}(tp),tb=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tw=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellUid=0,t.element=t.parent.createElement("TD",{className:"e-groupcaption",attrs:{id:t.parent.element.id+"captioncell",tabindex:"-1"}}),t}return tb(t,e),t.prototype.render=function(e,t){this.element.id=this.parent.element.id+"captioncell"+this.cellUid++;var i,r,o,s=this.element.cloneNode(),a=this.parent,l=e.column,h=l.getDomSetter?l.getDomSetter():"innerHTML";t.headerText=e.column.headerText,e.isForeignKey&&(r=this.format(e.column,e.column.valueAccessor("foreignKey",t,e.column)));for(var c=e.isForeignKey?r:e.column.enableGroupByFormat?t.key:this.format(e.column,e.column.valueAccessor("key",t,e.column)),p=0;p<a.aggregates.length;p++)for(var d=this,u=0;u<a.aggregates[parseInt(p.toString(),10)].columns.length&&"break"!==function(e){if(a.getVisibleColumns()[0].field===a.aggregates[parseInt(p.toString(),10)].columns[parseInt(e.toString(),10)].field&&a.aggregates[parseInt(p.toString(),10)].columns[parseInt(e.toString(),10)].groupCaptionTemplate){var i=a.aggregates[parseInt(p.toString(),10)].columns[parseInt(e.toString(),10)].groupCaptionTemplate;if("string"==typeof i&&i.includes("$"))o=a.aggregates[parseInt(p.toString(),10)].columns[parseInt(e.toString(),10)].groupCaptionTemplate.split("$")[0]+t[a.getVisibleColumns()[0].field][a.aggregates[parseInt(p.toString(),10)].columns[parseInt(e.toString(),10)].type]+a.aggregates[parseInt(p.toString(),10)].columns[parseInt(e.toString(),10)].groupCaptionTemplate.split("}")[1];else{var r=a.aggregates[parseInt(p.toString(),10)].columns[parseInt(e.toString(),10)],l=r.getTemplate(n.CaptionSummary);if(!(0,y.le)(l)){var h=l.fn(t[r.columnName],d.parent,l.property,""),c=d.parent.printGridParent&&d.parent.printGridParent.isReact;(d.parent.isReact||c)&&"string"!=typeof r.groupCaptionTemplate?d.parent.renderTemplates(function(){h&&h.length&&((0,y.le)(a.groupSettings.captionTemplate)?s.innerText+=" "+h[0].textContent:s.appendChild(h[0]))}):h&&h.length&&(o=(0,y.le)(a.groupSettings.captionTemplate)?h[0].textContent:h)}}return"break"}}(u);u++);if((0,y.le)(a.groupSettings.captionTemplate))a.groupSettings.enableLazyLoading?s[""+h]=this.parent.sanitize(e.column.headerText)+": "+this.parent.sanitize(c)+(o?"   "+o:""):s[""+h]=this.parent.sanitize(e.column.headerText)+": "+this.parent.sanitize(c)+" - "+t.count+" "+(t.count<2?this.localizer.getConstant("Item"):this.localizer.getConstant("Items"))+(o?"   "+o:"");else{var g=this.parent.isReact&&"string"!=typeof a.groupSettings.captionTemplate&&!(a.groupSettings.captionTemplate.prototype&&a.groupSettings.captionTemplate.prototype.CSPTemplate),f=this.parent.parentDetails&&this.parent.parentDetails.parentInstObj&&this.parent.parentDetails.parentInstObj.isReact,m=this.parent.printGridParent&&this.parent.printGridParent.isReact;if(g||f||m){var v=a.element.id+"captionTemplate";t.groupKey=t.key,(0,U.cK)(a.groupSettings.captionTemplate)(t,this.parent,"captionTemplate",v,null,null,s),this.parent.renderTemplates()}else i=this.parent.isVue||a.parentDetails&&a.parentDetails.parentInstObj&&a.parentDetails.parentInstObj.isVue?(0,U.cK)(a.groupSettings.captionTemplate)(t,this.parent,"captionTemplate",null,null,null,null,a.root):(0,U.cK)(a.groupSettings.captionTemplate)(t);!g&&!f&&!m&&((0,U.rG)(s,i),o&&o.length&&o[0].textContent&&s.appendChild(o[0]))}return s.setAttribute("colspan",e.colSpan.toString()),s.setAttribute("aria-label",s.innerHTML+this.localizer.getConstant("GroupCaption")),s.setAttribute("title",s.textContent),s},t}(tp),tI=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-groupcaption"}),t}return tb(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.innerHTML="&nbsp;",i.setAttribute("colspan",e.colSpan.toString()),i},t}(tp),tx=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tx(t,e),t.prototype.render=function(e,t,i,r){var o=this.element.cloneNode();return o.setAttribute("ej-mappingname",t.field),o.setAttribute("ej-mappingvalue",t.key),o.setAttribute("aria-expanded",r?"true":"false"),o.setAttribute("tabindex","-1"),this.parent.infiniteScrollSettings&&this.parent.infiniteScrollSettings.enableCache&&!this.parent.groupSettings.enableLazyLoading?(e.cellType=n.Indent,o.className=r?"e-recordplusexpand e-disablepointer":"e-recordpluscollapse e-disablepointer"):(o.className=r?"e-recordplusexpand":"e-recordpluscollapse",o.appendChild(this.parent.createElement("a",{className:r?"e-icons e-gdiagonaldown e-icon-gdownarrow":"e-icons e-gnextforward e-icon-grightarrow",attrs:{href:"#",title:r?this.localizer.getConstant("Expanded"):this.localizer.getConstant("Collapsed")}}))),o},t}(tC),tk=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-grouptopleftcell"}),t}return tk(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-headercelldiv e-emptycell",innerHTML:""})),i},t}(tp),tT=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-detailheadercell"}),t}return tT(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();return i.appendChild(this.parent.createElement("div",{className:"e-emptycell"})),i},t}(tp),tM=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tF=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-detailrowcollapse",attrs:{"aria-expanded":"false",tabindex:"-1"}}),t}return tM(t,e),t.prototype.render=function(e,t,i){var n=this.element.cloneNode();return i&&!(0,y.le)(i.class)?(n.className="",n.className=i.class,n.appendChild(this.parent.createElement("a",{className:"e-icons e-dtdiagonaldown e-icon-gdownarrow",attrs:{href:"#",title:this.localizer.getConstant("Expanded")}}))):n.appendChild(this.parent.createElement("a",{className:"e-icons e-dtdiagonalright e-icon-grightarrow",attrs:{href:"#",title:this.localizer.getConstant("Collapsed")}})),e.isSelected&&n.classList.add("e-selectionbackground","e-active"),n},t}(tp),tD=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tz=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TD",{className:"e-rowdragdrop e-rowdragdropcell",attrs:{tabindex:"-1",role:"gridcell"}}),t}return tD(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();if(i.appendChild(this.parent.createElement("div",{className:"e-icons e-rowcelldrag e-dtdiagonalright e-icon-rowdragicon",attrs:{"aria-hidden":"true"}})),e.isSelected&&(i.classList.add("e-selectionbackground"),i.classList.add("e-active")),this.parent.getVisibleFrozenRightCount()||this.parent.getVisibleFrozenLeftCount()){i.classList.add("e-leftfreeze");var n="Right"===this.parent.getFrozenMode()?0:30*this.parent.groupSettings.columns.length;(0,U.Ox)(i,n,this.parent.enableRtl,"Right"===this.parent.getFrozenMode()?"Right":"Left")}return i},t}(tp),tL=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tP=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=t.parent.createElement("TH",{className:"e-rowdragheader"}),t}return tL(t,e),t.prototype.render=function(e,t){var i=this.element.cloneNode();if(i.appendChild((0,y.az)("div",{className:"e-emptycell"})),this.parent.getVisibleFrozenRightCount()||this.parent.getVisibleFrozenLeftCount()){i.classList.add("e-leftfreeze");var n="Right"===this.parent.getFrozenMode()?0:30*this.parent.groupSettings.columns.length;(0,U.Ox)(i,n,this.parent.enableRtl,"Right"===this.parent.getFrozenMode()?"Right":"Left")}return i},t}(tp),tB=function(){function e(e,t){this.emptyGrid=!1,this.counter=0,this.parent=e,this.locator=t,this.data=new e7(e,t),this.l10n=t.getService("localization"),this.ariaService=this.locator.getService("ariaService"),this.renderer=this.locator.getService("rendererFactory"),this.addEventListener()}return e.prototype.render=function(){var e=this.parent;this.headerRenderer=this.renderer.getRenderer(r.Header),this.contentRenderer=this.renderer.getRenderer(r.Content),this.headerRenderer.renderPanel(),this.contentRenderer.renderPanel(),e.getColumns().length&&(this.isLayoutRendered=!0,this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.emptyRow(!1)),this.parent.scrollModule.setWidth(),this.parent.scrollModule.setHeight(),"auto"!==this.parent.height&&this.parent.scrollModule.setPadding(),this.refreshDataManager()},e.prototype.refresh=function(e){var t=this;void 0===e&&(e={requestType:"refresh"});var i=this.parent;i.notify(e.requestType+"-begin",e),i.trigger(Z.m2U,e,function(e){if(void 0===e&&(e={requestType:"refresh"}),e.cancel){if(i.notify(Z.lvv,e),"clearFilter"===e.action&&"Menu"===t.parent.filterSettings.type){t.parent.filterSettings.columns[t.parent.filterModule.filterObjIndex]=t.parent.filterModule.prevFilterObject;var n=t.parent.showColumnMenu&&t.parent.filterModule.column.showColumnMenu?".e-columnmenu":".e-icon-filter",r=t.parent.element.querySelector('[e-mappinguid="'+t.parent.filterModule.column.uid+'"]').parentElement.querySelector(n);(0,y.le)(t.parent.filterModule.prevFilterObject)||r.classList.add("e-filtered")}if("clear-filter"===e.action&&("CheckBox"===t.parent.filterSettings.type||"Excel"===t.parent.filterSettings.type)&&(t.parent.filterSettings.columns=t.parent.filterModule.checkboxPrevFilterObject),"grouping"===e.requestType){var o=i.groupSettings.columns.indexOf(e.columnName);if(-1!==o){i.setProperties({groupSettings:{Columns:i.groupSettings.columns.splice(o,1)}},!0),i.setProperties({sortSettings:{Columns:i.sortSettings.columns.splice(o,1)}},!0);var s=i.getColumnByField(e.columnName),a=i.getColumnHeaderByField(s.field);s.visible=!(0,y.le)(a)&&!a.classList.contains("e-hide")}}return}if(t.parent.notify(Z.s0L,e),"virtualscroll"===e.requestType&&(t.parent.getDataModule().isRemote()||"result"in t.parent.dataSource)&&e.virtualInfo&&"down"===e.virtualInfo.direction&&(t.parent.contentModule.prevInfo=e.virtualInfo),t.parent.groupModule&&e.preventFocusOnGroup&&(t.parent.groupModule.preventFocusOnGroup=e.preventFocusOnGroup),i.allowSelection&&("clearFilter"===e.action||"clear-filter"===e.action||"searching"===e.requestType&&""===e.searchString||"add"===e.action)&&(i.selectionModule.rmtHdrChkbxClicked=!1,i.selectionModule.isPartialSelection&&(i.selectionModule.isHdrSelectAllClicked=!1)),i.allowPaging&&i.pageSettings.pageSizes&&i.pagerModule.pagerObj.isAllPage&&"add"===e.action&&"save"===e.requestType&&i.pagerModule.pagerObj.checkAll&&i.setProperties({pageSettings:{pageSize:i.pageSettings.pageSize+1}},!0),"delete"===e.requestType&&i.allowPaging){var l=e.data.length,h=i.pageSettings.totalRecordsCount-l;(!(i.getCurrentViewRecords().length-l)&&h&&(i.pageSettings.currentPage-1)*i.pageSettings.pageSize===h||h&&h<=l)&&(i.prevPageMoving=!0,i.setProperties({pageSettings:{totalRecordsCount:h,currentPage:Math.ceil(h/i.pageSettings.pageSize)}},!0),i.pagerModule.pagerObj.totalRecordsCount=h)}"reorder"===e.requestType&&t.parent.dataSource&&"result"in t.parent.dataSource?t.contentRenderer.refreshContentRows(e):("paging"===e.requestType||"columnstate"===e.requestType||"reorder"===e.requestType)&&t.parent.groupSettings.enableLazyLoading&&t.parent.groupSettings.columns.length&&(t.parent.enableVirtualization?t.parent.lazyLoadRender:t.parent.contentModule).getGroupCache()[t.parent.pageSettings.currentPage]?t.contentRenderer.refreshContentRows(e):t.refreshDataManager(e)})},e.prototype.resetTemplates=function(){var e=this.parent,t=e.getColumns();if(e.detailTemplate){var i=e.element.id+"detailTemplate";y.ep[""+i]=[],(0,y.oL)(i,"DetailTemplate")}e.groupSettings.captionTemplate&&(0,y.oL)(e.element.id+"captionTemplate","CaptionTemplate"),e.rowTemplate&&(0,y.oL)(e.element.id+"rowTemplate","RowTemplate"),e.toolbarTemplate&&(0,y.oL)(e.element.id+"toolbarTemplate","ToolbarTemplate"),e.pageSettings.template&&(0,y.oL)(e.element.id+"_template","pageSettings");for(var n=0;n<t.length;n++)t[parseInt(n.toString(),10)].template&&(y.ep[e.element.id+t[parseInt(n.toString(),10)].uid]=[],(0,y.oL)(e.element.id+t[parseInt(n.toString(),10)].uid,"Template")),t[parseInt(n.toString(),10)].headerTemplate&&(0,y.oL)(e.element.id+t[parseInt(n.toString(),10)].uid+"headerTemplate","HeaderTemplate"),t[parseInt(n.toString(),10)].filterTemplate&&(0,y.oL)(e.element.id+t[parseInt(n.toString(),10)].uid+"filterTemplate","FilterTemplate");for(var r="guid",o=0;o<e.aggregates.length;o++)for(var s=0;s<e.aggregates[parseInt(o.toString(),10)].columns.length;s++){if(e.aggregates[parseInt(o.toString(),10)].columns[parseInt(s.toString(),10)].footerTemplate){var a=e.element.id+e.aggregates[parseInt(o.toString(),10)].columns[parseInt(s.toString(),10)][""+r]+"footerTemplate";(0,y.oL)(a,"FooterTemplate")}if(e.aggregates[parseInt(o.toString(),10)].columns[parseInt(s.toString(),10)].groupFooterTemplate){var a=e.element.id+e.aggregates[parseInt(o.toString(),10)].columns[parseInt(s.toString(),10)][""+r]+"groupFooterTemplate";(0,y.oL)(a,"GroupFooterTemplate")}if(e.aggregates[parseInt(o.toString(),10)].columns[parseInt(s.toString(),10)].groupCaptionTemplate){var a=e.element.id+e.aggregates[parseInt(o.toString(),10)].columns[parseInt(s.toString(),10)][""+r]+"groupCaptionTemplate";(0,y.oL)(a,"GroupCaptionTemplate")}}},e.prototype.refreshComplete=function(e){this.parent.trigger(Z.i8$,e)},e.prototype.refreshDataManager=function(e){var t,i=this;void 0===e&&(e={});var n=this.parent,r="Shimmer"===n.loadingIndicator.indicatorType&&"virtualscroll"!==e.requestType&&"infiniteScroll"!==e.requestType||("virtualscroll"===e.requestType||"infiniteScroll"===e.requestType)&&n.enableVirtualMaskRow;"virtualscroll"===e.requestType||e.isCaptionCollapse||r||this.parent.showSpinner(),r&&n.showMaskRow("virtualscroll"===e.requestType?e.virtualInfo.sentinelInfo.axis:"infiniteScroll"===e.requestType?e.direction:void 0),this.parent.notify(Z.afn,e),this.emptyGrid=!1;var o=this.isNeedForeignAction();if(this.ariaService.setBusy(this.parent.getContent().querySelector("."+te.kQ),!0),o){var s=new v.B;t=this.getFData(s,e)}t?t=t.then(function(t){var n=i.data.generateQuery().requiresCount();if(i.emptyGrid){var r=new v.B;return r.resolve({result:[],count:0}),r.promise}return i.data.getData(e,n)}):(n.allowPaging&&!n.getDataModule().dataManager.dataSource.offline&&n.pageSettings&&n.pageSettings.pageSizes&&n.pagerModule&&n.pagerModule.pagerObj&&n.pagerModule.pagerObj.isAllPage&&(n.pagerModule.pagerObj.isAllPage=void 0),t=this.data.getData(e,this.data.generateQuery().requiresCount()));var a=this.parent.getForeignKeyColumns(),l=a.length;if("ExcludeHidden"===this.parent.columnQueryMode&&l&&(l=a.filter(function(e){return!1!==e.visible}).length),l&&(!o||this.parent.searchSettings.key.length)){var h=new v.B;t=t.then(function(n){return i.parent.notify(Z.nf0,{dataManager:t,result:n,promise:h,action:e}),h.promise})}this.parent.groupSettings.disablePageWiseAggregates&&this.parent.groupSettings.columns.length&&(t=t.then(function(e){return i.validateGroupRecords(e)})),t.then(function(t){return i.dataManagerSuccess(t,e)}).catch(function(t){return i.dataManagerFailure(t,e)})},e.prototype.getFData=function(e,t){return this.parent.notify(Z.nf0,{isComplex:!0,promise:e,action:t}),e.promise},e.prototype.isNeedForeignAction=function(){var e=this.parent;return!!(e.allowFiltering&&e.filterSettings.columns.length||!(0,y.le)(e.searchSettings.key)&&e.searchSettings.key.length)&&this.foreignKey(this.parent.getForeignKeyColumns())},e.prototype.foreignKey=function(e){var t=this;return e.some(function(e){return!!(t.parent.filterSettings.columns.some(function(t){return e.uid===t.uid})||t.parent.searchSettings.key.length)})},e.prototype.sendBulkRequest=function(e){var t=this;e.requestType="batchsave";var i=this.parent;if(i.allowPaging&&i.pageSettings.pageSizes&&i.pagerModule.pagerObj.isAllPage&&i.pagerModule.pagerObj.checkAll){var n=e.changes.addedRecords.length;n&&i.setProperties({pageSettings:{pageSize:i.pageSettings.pageSize+n}},!0)}i.allowPaging&&(e.changes.addedRecords.length||e.changes.deletedRecords.length||e.changes.changedRecords.length)&&i.pageSettings&&i.pageSettings.pageSizes&&i.pagerModule&&i.pagerModule.pagerObj&&!i.getDataModule().dataManager.dataSource.offline&&i.pagerModule.pagerObj.isAllPage&&(i.pagerModule.pagerObj.isAllPage=void 0);var r=this.data.saveChanges(e.changes,this.parent.getPrimaryKeyFieldNames()[0],e.original),o=this.data.generateQuery().requiresCount();if(this.data.dataManager.dataSource.offline){this.refreshDataManager({requestType:"batchsave"});return}r.then(function(i){t.data.getData(e,o).then(function(i){return t.dmSuccess(i,e)}).catch(function(i){return t.dmFailure(i,e)})}).catch(function(i){return t.dmFailure(i,e)})},e.prototype.dmSuccess=function(e,t){this.dataManagerSuccess(e,t)},e.prototype.dmFailure=function(e,t){this.dataManagerFailure(e,t)},e.prototype.renderEmptyRow=function(){this.emptyRow(!0)},e.prototype.emptyRow=function(e){var t,i=this.parent,n=this.contentRenderer.getTable().querySelector(te.gE);(0,y.le)(n)||(0,y.Od)(n),n=this.parent.createElement(te.gE,{attrs:{role:"rowgroup"}});var r=i.allowRowDragAndDrop&&(0,y.le)(i.rowDropSettings.targetID)?1:0;(i.detailTemplate||i.childGrid)&&++r;var o=i.editSettings.showAddNewRow&&"Bottom"===i.editSettings.newRowPosition?"e-emptyrow e-show-added-row":"e-emptyrow",s=this.parent.createElement("tr",{className:o,attrs:{role:"row"}});if(i.emptyRecordTemplate){var a=i.element.id+"emptyRecordTemplate";t=this.parent.createElement("td",{attrs:{colspan:(i.getVisibleColumns().length+r+i.groupSettings.columns.length).toString()}}),i.isVue||i.parentDetails&&i.parentDetails.parentInstObj&&i.parentDetails.parentInstObj.isVue?t.appendChild(i.getEmptyRecordTemplate()(i.dataSource,i,"emptyRecordTemplate",a,void 0,void 0,void 0,this.parent.root)[1]):t.appendChild(i.getEmptyRecordTemplate()(i.dataSource,i,"emptyRecordTemplate",a,void 0,void 0,void 0,this.parent.root)[0]),i.isReact&&this.parent.renderTemplates()}else t=this.parent.createElement("td",{innerHTML:this.l10n.getConstant("EmptyRecord"),attrs:{colspan:(i.getVisibleColumns().length+r+((0,y.le)(i.groupSettings.columns)?0:i.groupSettings.columns.length)).toString()}});i.isFrozenGrid()&&(t.classList.add("e-leftfreeze"),t.style.left="0px"),i.frozenRows&&i.element.querySelector(".e-frozenrow-border")&&this.parent.element.querySelector(".e-frozenrow-border").classList.add("e-frozenrow-empty"),s.appendChild(t),n.appendChild(s),this.contentRenderer.renderEmpty(n),e&&(this.parent.isInitialLoad||this.parent.focusModule.setFirstFocusableTabIndex(),this.parent.trigger(Z.rud,{}),this.parent.notify(Z.c$N,{rows:[new e5({isDataRow:!0,cells:[new e8({isDataCell:!0,visible:!0})]})]}),i.editSettings.showAddNewRow&&(i.addRecord(),this.parent.notify(Z.zeS,{})))},e.prototype.dynamicColumnChange=function(){this.parent.getCurrentViewRecords().length&&this.updateColumnType(this.parent.getCurrentViewRecords()[0])},e.prototype.updateColumnType=function(e){for(var t,i=this.parent.getColumns(),n="customFormat",r="equalTo",o=e&&e.items?e.items[0]:e,s=this.locator.getService("valueFormatter"),a=0,l=i.length;a<l;a++){t=(0,U.RK)(i[parseInt(a.toString(),10)].field||"",o),(0,y.le)(i[parseInt(a.toString(),10)][""+n])||(i[parseInt(a.toString(),10)].format=i[parseInt(a.toString(),10)][""+n]),(0,y.le)(i[parseInt(a.toString(),10)].validationRules)||(0,y.le)(i[parseInt(a.toString(),10)].validationRules[""+r])||(i[parseInt(a.toString(),10)].validationRules[""+r][0]=this.parent.element.id+i[parseInt(a.toString(),10)].validationRules[""+r][0]),i[parseInt(a.toString(),10)].isForeignColumn()&&i[parseInt(a.toString(),10)].columnData&&(t=(0,U.RK)(i[parseInt(a.toString(),10)].foreignKeyValue||"",i[parseInt(a.toString(),10)].columnData[0])),(0,y.le)(t)?i[parseInt(a.toString(),10)].type=i[parseInt(a.toString(),10)].type||null:(this.isColTypeDef=!0,i[parseInt(a.toString(),10)].type||(i[parseInt(a.toString(),10)].type=t.getDay?t.getHours()>0||t.getMinutes()>0||t.getSeconds()>0||t.getMilliseconds()>0?"datetime":"date":typeof t));var h=new Q.K;i[parseInt(a.toString(),10)].format&&(i[parseInt(a.toString(),10)].format.skeleton||i[parseInt(a.toString(),10)].format.format&&"string"==typeof i[parseInt(a.toString(),10)].format.format)&&(i[parseInt(a.toString(),10)].setFormatter(h.getFormatFunction((0,y.l7)({},i[parseInt(a.toString(),10)].format))),i[parseInt(a.toString(),10)].setParser(h.getParserFunction(i[parseInt(a.toString(),10)].format))),"string"==typeof i[parseInt(a.toString(),10)].format?(0,U.jm)(this.locator,i[parseInt(a.toString(),10)]):i[parseInt(a.toString(),10)].format||"number"!==i[parseInt(a.toString(),10)].type||i[parseInt(a.toString(),10)].setParser(s.getParserFunction({format:"n2"})),"dateonly"!==i[parseInt(a.toString(),10)].type||i[parseInt(a.toString(),10)].format||(i[parseInt(a.toString(),10)].format="yMd",(0,U.jm)(this.locator,i[parseInt(a.toString(),10)]))}},e.prototype.dataManagerSuccess=function(e,t){var i=this,n=this.parent;this.contentRenderer=this.renderer.getRenderer(r.Content),this.headerRenderer=this.renderer.getRenderer(r.Header),e.actionArgs=t;var o=!!n.childGrid||!!n.detailTemplate,s=this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&!n.groupSettings.enableLazyLoading&&("delete"===t.requestType&&!o||"save"===t.requestType&&"add"===this.parent.infiniteScrollModule.requestType&&!(n.sortSettings.columns.length||n.filterSettings.columns.length||this.parent.groupSettings.columns.length||n.searchSettings.key||o));n.trigger(Z.wyI,e,function(r){if(!r.cancel){r.result=(0,y.le)(r.result)?[]:r.result;var o=Object.keys(r.result).length;if(!i.parent.isDestroyed){if(!n.getColumns().length&&!o&&!(n.columns.length&&n.columns[0]instanceof e4.sg)){n.hideSpinner();return}if(i.isInfiniteEnd(t)&&!o){i.parent.notify(Z.$CS,{e:t,result:e.result,count:e.count,agg:e.aggregates});return}if(i.parent.isEdit=!1,i.parent.notify(Z.UYz,{}),i.parent.notify(Z.gaA,{}),t&&!(("infiniteScroll"===t.requestType||"delete"===t.requestType||"add"===t.action)&&n.enableInfiniteScrolling)&&i.parent.notify(Z.eCZ,{type:"refreshCommandColumn"}),i.contentRenderer.prevCurrentView=!(0,y.le)(i.parent.currentViewData)&&i.parent.currentViewData.slice(),n.currentViewData=r.result,n.notify(Z.KVS,{args:t,data:r.result}),r.count&&!n.allowPaging&&(n.enableVirtualization||n.enableInfiniteScrolling)&&(n.totalDataRecordsCount=r.count),!o&&r.count&&n.allowPaging&&t&&"delete"!==t.requestType){i.parent.groupSettings.enableLazyLoading&&("grouping"===t.requestType||"ungrouping"===t.requestType)&&i.parent.notify(Z.EQt,t),n.prevPageMoving=!0,n.pageSettings.totalRecordsCount=r.count,"paging"!==t.requestType&&(n.pageSettings.currentPage=Math.ceil(r.count/n.pageSettings.pageSize)),n.dataBind();return}if((n.getColumns().length||!o)&&i.isLayoutRendered||(0,U.MU)(n)||(n.removeMaskRow(),i.updatesOnInitialRender(r)),!i.isColTypeDef&&n.getCurrentViewRecords()&&(i.data.dataManager.dataSource.offline&&n.dataSource&&n.dataSource.length?i.updateColumnType(n.dataSource[0]):i.updateColumnType(n.getCurrentViewRecords()[0])),i.parent.isInitialLoad||!i.parent.groupSettings.disablePageWiseAggregates||i.parent.groupSettings.columns.length||(r.result=i.parent.dataSource instanceof Array?i.parent.dataSource:i.parent.currentViewData),(i.parent.isReact||i.parent.isVue)&&!(0,y.le)(t)&&"infiniteScroll"!==t.requestType&&!t.isFrozen&&(0,U.uq)(i.parent,["footerTemplate"]),i.parent.isAngular&&i.parent.allowGrouping&&i.parent.groupSettings.captionTemplate&&!(!(0,y.le)(t)&&"infiniteScroll"===t.requestType)&&i.parent.destroyTemplate(["groupSettings_captionTemplate"]),i.parent.notify(Z.mHp,(0,y.l7)({count:r.count,result:r.result,aggregates:r.aggregates,loadSummaryOnEmpty:!1},t)),(n.groupSettings.columns.length||t&&"ungrouping"===t.requestType)&&t&&"filtering"!==t.requestType&&i.headerRenderer.refreshUI(),o)(0,U.MU)(n)&&(t.scrollTop={top:i.contentRenderer.content.scrollTop}),s?i.parent.notify(Z.$CS,{e:t,result:e.result,count:e.count,agg:e.aggregates}):i.parent.enableImmutableMode?i.contentRenderer.immutableModeRendering(t):i.contentRenderer.refreshContentRows(t);else{if(t&&t.isCaptionCollapse)return;if(!n.getColumns().length){n.element.innerHTML="",alert(i.l10n.getConstant("EmptyDataSourceError"));return}if(i.contentRenderer.setRowElements([]),i.contentRenderer.setRowObjects([]),i.ariaService.setBusy(i.parent.getContent().querySelector("."+te.kQ),!1),n.removeMaskRow(),i.renderEmptyRow(),n.enableColumnVirtualization&&!o&&i.parent.notify(Z.GEE,{rows:n.getRowsObject(),args:{}}),t){var a=(t.requestType||"").toLowerCase()+"-complete";i.parent.notify(a,t),"batchsave"===t.requestType&&(t.cancel=!1,t.rows=[],t.isFrozen=!t.isFrozen,i.parent.trigger(Z.i8$,t))}i.parent.autoFit&&i.parent.preventAdjustColumns(),i.parent.hideSpinner()}i.parent.notify(Z.v4S,{}),i.setRowCount(i.parent.getCurrentViewRecords().length),"query"in e&&(i.parent.getDataModule().isQueryInvokedFromData=!1)}}})},e.prototype.dataManagerFailure=function(e,t){(0,y.le)(this.parent.contentModule)||(this.ariaService.setOptions(this.parent.getContent().querySelector("."+te.kQ),{busy:!1,invalid:!0}),this.setRowCount(1)),this.parent.trigger(Z.Vty,e&&e.error?e:{error:e}),this.parent.hideSpinner(),this.parent.removeMaskRow(),"save"!==t.requestType&&"delete"!==t.requestType&&"bulk-save"!==t.name&&(this.parent.currentViewData=[],this.renderEmptyRow(),this.parent.isInitialLoad||this.parent.focusModule.setFirstFocusableTabIndex(),this.parent.log("actionfailure",{error:e}))},e.prototype.setRowCount=function(e){this.ariaService.setOptions(this.parent.element,{rowcount:e?e.toString():"1"})},e.prototype.isInfiniteEnd=function(e){return this.parent.enableInfiniteScrolling&&!this.parent.infiniteScrollSettings.enableCache&&"delete"===e.requestType},e.prototype.updatesOnInitialRender=function(e){this.isLayoutRendered=!0;var t=!1;this.parent.columns.length<1&&(this.buildColumns(e.result[0]),t=!0),(0,U.l_)(this.parent.columns,null,this.parent),t&&this.parent.notify(Z.yzo,{}),this.headerRenderer.renderTable(),this.contentRenderer.renderTable(),this.parent.isAutoGen=!0,this.parent.notify(Z.oGC,{})},e.prototype.iterateComplexColumns=function(e,t,i){for(var n=Object.keys(e),r=0;r<n.length;r++)("object"!=typeof e[n[parseInt(r.toString(),10)]]||!e[n[parseInt(r.toString(),10)]]||e[n[parseInt(r.toString(),10)]]instanceof Date?[]:Object.keys(e[n[parseInt(r.toString(),10)]])).length?this.iterateComplexColumns(e[n[parseInt(r.toString(),10)]],t+(n[parseInt(r.toString(),10)]+"."),i):(i[this.counter]=t+n[parseInt(r.toString(),10)],this.counter++)},e.prototype.buildColumns=function(e){var t=[],i={};this.iterateComplexColumns(e,"",i);for(var n=Object.keys(i).filter(function(e){return"BlazId"!==i[""+e]}).map(function(e){return i[""+e]}),r=0,o=n.length;r<o;r++)t[parseInt(r.toString(),10)]={field:n[parseInt(r.toString(),10)]},this.parent.enableColumnVirtualization&&(t[parseInt(r.toString(),10)].width=(0,y.le)(t[parseInt(r.toString(),10)].width)?200:t[parseInt(r.toString(),10)].width);this.parent.setProperties({columns:t},!0)},e.prototype.instantiateRenderer=function(){this.renderer.addRenderer(r.Header,new tc(this.parent,this.locator)),this.renderer.addRenderer(r.Content,new th(this.parent,this.locator));var e=this.locator.getService("cellRendererFactory");e.addCellRenderer(n.Header,new tm(this.parent,this.locator)),e.addCellRenderer(n.Data,new tp(this.parent,this.locator)),e.addCellRenderer(n.StackedHeader,new tv(this.parent,this.locator)),e.addCellRenderer(n.Indent,new tC(this.parent,this.locator)),e.addCellRenderer(n.GroupCaption,new tw(this.parent,this.locator)),e.addCellRenderer(n.GroupCaptionEmpty,new tI(this.parent,this.locator)),e.addCellRenderer(n.Expand,new tR(this.parent,this.locator)),e.addCellRenderer(n.HeaderIndent,new tA(this.parent,this.locator)),e.addCellRenderer(n.StackedHeader,new tv(this.parent,this.locator)),e.addCellRenderer(n.DetailHeader,new tE(this.parent,this.locator)),e.addCellRenderer(n.RowDragHIcon,new tP(this.parent,this.locator)),e.addCellRenderer(n.DetailExpand,new tF(this.parent,this.locator)),e.addCellRenderer(n.DetailFooterIntent,new tC(this.parent,this.locator)),e.addCellRenderer(n.RowDragIcon,new tz(this.parent,this.locator))},e.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(this.parent.on(Z.T5y,this.instantiateRenderer,this),this.parent.on("refreshdataSource",this.dataManagerSuccess,this),this.parent.on(Z.CCe,this.refresh,this),this.parent.on(Z.fY0,this.refreshComplete,this),this.parent.on(Z.cOo,this.sendBulkRequest,this),this.parent.on(Z.d2u,function(){e.emptyGrid=!0},this),this.parent.on(Z.oGC,this.dynamicColumnChange,this))},e.prototype.validateGroupRecords=function(e){var t=this,i=e.result.length-1;if(i<0)return Promise.resolve(e);var n=e.result[0],r=e.result[parseInt(i.toString(),10)],o=[],s=function(e){for(var i=[n,r],s=0;s<i.length;s++)o.push(new Y.$("field","==",i[parseInt(s.toString(),10)].field).and(t.getPredicate("key","equal",i[parseInt(s.toString(),10)].key)));e.where(Y.$.or(o))},a=new Y.A;s(a);var l=new v.h(e.result).executeLocal(a),h=this.data.generateQuery(!0),c=[];if(this.data.isRemote()){for(var p=[n,r],d=0;d<p.length;d++)c.push(this.getPredicate(p[parseInt(d.toString(),10)].field,"equal",p[parseInt(d.toString(),10)].key));h.where(Y.$.or(c))}else s(h);var u=new v.B;return this.data.getData({},h).then(function(i){t.updateGroupInfo(l,i.result),u.resolve(e)}).catch(function(e){return u.reject(e)}),u.promise},e.prototype.getPredicate=function(e,t,i){return i instanceof Date?(0,U.bH)({field:e,operator:t,value:i}):new Y.$(e,t,i)},e.prototype.updateGroupInfo=function(e,t){for(var i=new v.h(t),n=0;n<e.length;n++){var r=i.executeLocal(new Y.A().where(new Y.$("field","==",e[parseInt(n.toString(),10)].field).and(this.getPredicate("key","equal",e[parseInt(n.toString(),10)].key))))[0];if(!(0,y.le)(r)){e[parseInt(n.toString(),10)].count=r.count;var o=e[parseInt(n.toString(),10)].items,s=r.items;o.GroupGuid&&(e[parseInt(n.toString(),10)].items=this.updateGroupInfo(e[parseInt(n.toString(),10)].items,r.items));for(var a=this.parent.aggregates,l=0;l<a.length;l++)for(var h=a[parseInt(l.toString(),10)],c=0;c<h.columns.length;c++)for(var p=h.columns[parseInt(c.toString(),10)],d=p.type instanceof Array?p.type:[p.type],u=0;u<d.length;u++){var g=p.field+" - "+d[parseInt(u.toString(),10)].toLowerCase(),f=o.level?s.records:r.items,m=this.parent;if("Custom"===d[parseInt(u.toString(),10)]){var C=o.level?s:r,b=p.customAggregate;"string"==typeof b&&(b=(0,y.NA)(b,window)),e[parseInt(n.toString(),10)].aggregates[""+g]=b?b.call(m,C,h.columns[parseInt(c.toString(),10)]):""}else e[parseInt(n.toString(),10)].aggregates[""+g]=S.j.aggregates[d[parseInt(u.toString(),10)].toLowerCase()](f,h.columns[parseInt(c.toString(),10)].field)}}}return e},e}(),tO=function(){function e(){this.cellRenderMap={}}return e.prototype.addCellRenderer=function(e,t){e="string"==typeof e?e:(0,y.I$)(n,e),(0,y.le)(this.cellRenderMap[""+e])&&(this.cellRenderMap[""+e]=t)},e.prototype.getCellRenderer=function(e){if(e="string"==typeof e?e:(0,y.I$)(n,e),!(0,y.le)(this.cellRenderMap[""+e]))return this.cellRenderMap[""+e];throw"The cellRenderer "+e+" is not found"},e}(),tq=function(){function e(e,t){this.sortedCols=[],this.sortPredicate=[],this.isCustomDialog=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}return e.prototype.addEventListener=function(){this.evtHandlers=[{event:Z.RAh,handler:this.closeCustomDialog},{event:Z.L83,handler:this.refreshCustomFilterOkBtn},{event:Z.mqI,handler:this.renderResponsiveContextMenu},{event:Z.OX0,handler:this.renderCustomFilterDiv},{event:Z.KtC,handler:this.customExFilterClose},{event:Z.Jrq,handler:this.refreshCustomFilterClearBtn}],(0,U.aL)(this.parent,this.evtHandlers,!0,this),this.onActionCompleteFn=this.editComplate.bind(this),this.parent.addEventListener(Z.i8$,this.onActionCompleteFn)},e.prototype.customExFilterClose=function(){this.isCustomDlgRender=!1},e.prototype.renderCustomFilterDiv=function(){var e=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),t=e.querySelector(".e-dlg-custom-header"),i=e.querySelector(".e-dlg-closeicon-btn");this.isCustomDlgRender=!0,this.parent.filterModule.filterModule.closeDialog(),this.saveBtn.element.style.display="",this.refreshCustomFilterOkBtn({disabled:!1}),this.backBtn.element.style.display="none",i.style.display="",t.innerHTML=this.parent.localeObj.getConstant("CustomFilter");var n=this.customResponsiveDlg.element.querySelector(".e-dlg-content");this.customExcelFilterParent=this.parent.createElement("div",{className:"e-xl-customfilterdiv e-default-filter"}),n.appendChild(this.customExcelFilterParent)},e.prototype.renderResponsiveContextMenu=function(e){if(this.action===s.isFilter){var t=this.customResponsiveDlg.element.querySelector(".e-dlg-content"),i=this.customResponsiveDlg.element.querySelector(".e-dlg-header-content"),n=i.querySelector(".e-dlg-closeicon-btn"),r=i.querySelector(".e-dlg-custom-header");if(e.isOpen){t.firstChild.style.display="none",t.appendChild(e.target),n.style.display="none",this.saveBtn.element.style.display="none",this.filterClearBtn.element.style.display="none",r.innerHTML=e.header;var o=this.parent.createElement("button"),a=this.parent.createElement("span",{className:"e-btn-icon e-resfilterback e-icons"});o.appendChild(a),this.backBtn=new $.zx({cssClass:this.parent.cssClass?"e-res-back-btn "+this.parent.cssClass:"e-res-back-btn"}),this.backBtn.appendTo(o),r.parentElement.insertBefore(o,r)}else this.backBtn&&!this.isCustomDlgRender&&(t.firstChild.style.display="",(0,y.Od)(this.backBtn.element),n.style.display="",this.saveBtn.element.style.display="",this.isFiltered&&(this.filterClearBtn.element.style.display=""),r.innerHTML=this.getHeaderTitle({action:s.isFilter},e.col))}},e.prototype.refreshCustomFilterClearBtn=function(e){this.filterClearBtn&&(this.isFiltered=e.isFiltered,this.filterClearBtn.element.style.display=e.isFiltered?"":"none")},e.prototype.refreshCustomFilterOkBtn=function(e){this.saveBtn&&(this.saveBtn.disabled=e.disabled),this.parent.columnChooserModule&&this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn&&(this.parent.columnChooserModule.responsiveDialogRenderer.saveBtn.disabled=e.disabled)},e.prototype.columnMenuResponsiveContent=function(e,t,i){var n=this.parent.createElement("div",{className:"e-responsivecoldiv e-responsive"+e.toLowerCase()+"div"+(i?" e-disabled":"")}),r=this.parent.createElement("span",{className:"e-icons e-res"+e.toLowerCase()+"-icon e-btn-icon"}),o=this.parent.createElement("span",{innerHTML:t,className:"e-rescolumn-menu e-res-header-text"});n.appendChild(r),n.appendChild(o),this.customColumnDiv.appendChild(n)},e.prototype.renderResponsiveContent=function(e,t){var i=this,n=this.parent,r=this.action===s.isColumnChooser;if(e||r)return this.filterParent=this.parent.createElement("div",{className:(r?"e-maincolumnchooserdiv ":"")+"e-mainfilterdiv e-default-filter",id:(r?"columchooser":e.uid)+"-main-filter"}),this.filterParent;if(this.customColumnDiv=n.createElement("div",{className:"columndiv columnmenudiv"}),this.customColumnDiv.style.width="100%",this.parent.showColumnMenu&&"Horizontal"===this.parent.rowRenderingMode&&this.action===s.isColMenu){if(this.columnMenuResponsiveContent("AutoFitAll",n.localeObj.getConstant("AutoFitAll")),this.columnMenuResponsiveContent("AutoFit",n.localeObj.getConstant("AutoFit")),t.allowGrouping&&n.allowGrouping&&(this.columnMenuResponsiveContent("Group",n.localeObj.getConstant("Group"),n.groupSettings.columns.indexOf(t.field)>=0),this.columnMenuResponsiveContent("UnGroup",n.localeObj.getConstant("Ungroup"),0>n.groupSettings.columns.indexOf(t.field))),t.allowSorting&&n.allowSorting){for(var o="None",a=this.parent.sortSettings.columns,l=0;l<a.length;l++)if(a[parseInt(l.toString(),10)].field===t.field){o=a[parseInt(l.toString(),10)].direction;break}this.columnMenuResponsiveContent("ascending",n.localeObj.getConstant("SortAscending"),"Ascending"===o),this.columnMenuResponsiveContent("descending",n.localeObj.getConstant("SortDescending"),"Descending"===o)}n.showColumnChooser&&this.columnMenuResponsiveContent("Column",n.localeObj.getConstant("Columnchooser")),t.allowFiltering&&n.allowFiltering&&this.columnMenuResponsiveContent("Filter",n.localeObj.getConstant("FilterMenu"))}else{var h=n.getColumns(),c=n.createElement("div",{className:"e-ressortbutton-parent"}),p=[],d=this.action===s.isSort,u=this.action===s.isFilter;if(u)for(var l=0;l<n.filterSettings.columns.length;l++)p.push(n.filterSettings.columns[parseInt(l.toString(),10)].field);for(var l=0;l<h.length;l++)if(h[parseInt(l.toString(),10)].visible&&(h[parseInt(l.toString(),10)].allowSorting||!d)&&(h[parseInt(l.toString(),10)].allowFiltering||!u)){var g=n.createElement("div",{className:"e-responsivecoldiv"});g.setAttribute("data-e-mappingname",h[parseInt(l.toString(),10)].field),g.setAttribute("data-e-mappinguid",h[parseInt(l.toString(),10)].uid);var f=n.createElement("span",{innerHTML:h[parseInt(l.toString(),10)].headerText,className:"e-res-header-text"});if(g.appendChild(f),this.customColumnDiv.appendChild(g),d){var m=this.getSortedFieldsAndDirections("field").indexOf(h[parseInt(l.toString(),10)].field),v=n.createElement("button",{id:n.element.id+h[parseInt(l.toString(),10)].field+"sortbutton"}),S=c.cloneNode();S.appendChild(v),g.appendChild(S),new $.zx({cssClass:this.parent.cssClass?"e-ressortbutton "+this.parent.cssClass:"e-ressortbutton"}).appendTo(v);var C=void 0;(0,y.le)(this.parent.sortSettings.columns[parseInt(m.toString(),10)])||(C="Ascending"===this.parent.sortSettings.columns[parseInt(m.toString(),10)].direction?this.parent.localeObj.getConstant("AscendingText"):this.parent.localeObj.getConstant("DescendingText")),v.innerHTML=m>-1?C:this.parent.localeObj.getConstant("NoneText"),v.onclick=function(e){i.sortButtonClickHandler(e.target)}}if(u&&p.indexOf(h[parseInt(l.toString(),10)].field)>-1){var b=n.createElement("div",{className:"e-icons e-res-icon e-filtersetdiv"}),w=n.createElement("span",{className:"e-icons e-res-icon e-filterset"});w.setAttribute("colType",h[parseInt(l.toString(),10)].type),b.appendChild(w),g.appendChild(b)}}}return y.bi.add(this.customColumnDiv,y.AR.isDevice?"touchend":"click",this.customFilterColumnClickHandler,this),this.customColumnDiv},e.prototype.getSortedFieldsAndDirections=function(e){for(var t=[],i=0;i<this.parent.sortSettings.columns.length;i++)t.push(this.parent.sortSettings.columns[parseInt(i.toString(),10)][""+e]);return t},e.prototype.sortButtonClickHandler=function(e){if(e){var t=(0,U.Cf)(e,"e-responsivecoldiv").getAttribute("data-e-mappingname");this.parent.allowMultiSorting||(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1,this.resetSortButtons(e));var i=e.textContent,n=i===this.parent.localeObj.getConstant("NoneText")?this.parent.localeObj.getConstant("AscendingText"):i===this.parent.localeObj.getConstant("AscendingText")?this.parent.localeObj.getConstant("DescendingText"):this.parent.localeObj.getConstant("NoneText"),r=n===this.parent.localeObj.getConstant("AscendingText")?"Ascending":n===this.parent.localeObj.getConstant("DescendingText")?"Descending":"None";e.innerHTML=n,this.setSortedCols(t,r)}},e.prototype.resetSortButtons=function(e){for(var t=[].slice.call(this.customColumnDiv.getElementsByClassName("e-ressortbutton")),i=0;i<t.length;i++)t[parseInt(i.toString(),10)]!==e&&(t[parseInt(i.toString(),10)].innerHTML=this.parent.localeObj.getConstant("NoneText"))},e.prototype.setSortedCols=function(e,t){var i=this.getCurrentSortedFields().indexOf(e);this.parent.allowMultiSorting&&i>-1&&(this.sortedCols.splice(i,1),this.sortPredicate.splice(i,1)),this.isSortApplied=!0,"None"!==t&&(this.sortedCols.push(e),this.sortPredicate.push({field:e,direction:t}))},e.prototype.getCurrentSortedFields=function(){for(var e=[],t=0;t<this.sortedCols.length;t++)e.push(this.sortedCols[parseInt(t.toString(),10)]);return e},e.prototype.customFilterColumnClickHandler=function(e){var t=this.parent,i=e.target;if((0,U.Cf)(i,"columnmenudiv")&&this.action===s.isColMenu&&!(0,U.Cf)(i,"e-disabled")){var n=this.menuCol?this.menuCol:this.filteredCol;(0,U.Cf)(i,"e-responsiveautofitalldiv")?(t.autoFitColumns([]),this.closeCustomFilter()):(0,U.Cf)(i,"e-responsiveautofitdiv")?(t.autoFitColumns(n.field),this.closeCustomFilter()):(0,U.Cf)(i,"e-responsivegroupdiv")?(t.groupColumn(n.field),this.closeCustomFilter()):(0,U.Cf)(i,"e-responsiveungroupdiv")?(t.ungroupColumn(n.field),this.closeCustomFilter()):(0,U.Cf)(i,"e-responsiveascendingdiv")?(t.sortColumn(n.field,"Ascending"),this.closeCustomFilter()):(0,U.Cf)(i,"e-responsivedescendingdiv")?(t.sortColumn(n.field,"Descending"),this.closeCustomFilter()):(0,U.Cf)(i,"e-responsivecolumndiv")?(t.notify(Z.C$p,{action:5}),t.showResponsiveCustomColumnChooser()):(0,U.Cf)(i,"e-responsivefilterdiv")&&(t.notify(Z.C$p,{action:3}),this.isRowResponsive=!0,this.isCustomDialog=!1,t.filterModule&&t.filterModule.responsiveDialogRenderer.showResponsiveDialog(n)),e.preventDefault()}if(this.action===s.isFilter&&"FilterBar"!==t.filterSettings.type){if(i.classList.contains("e-responsivecoldiv")||i.parentElement.classList.contains("e-responsivecoldiv")){var r=i.getAttribute("data-e-mappingname");if(r||(r=i.parentElement.getAttribute("data-e-mappingname")),r){var o=t.getColumnByField(r);this.isRowResponsive=!0,this.showResponsiveDialog(o)}}else if(i.classList.contains("e-filterset")||i.parentElement.classList.contains("e-filtersetdiv")){var a=(0,U.Cf)(i,"e-responsivecoldiv");if(a){var r=a.getAttribute("data-e-mappingname"),o=t.getColumnByField(r);"Menu"!==o.filter.type&&(o.filter.type||"Menu"!==t.filterSettings.type)||(this.isDialogClose=!0),this.parent.filterModule.filterModule.clearCustomFilter(o),this.removeCustomDlgFilterEle(i)}}}},e.prototype.showResponsiveDialog=function(e,t){if(this.isCustomDialog&&this.action===s.isFilter&&!this.isRowResponsive||t&&this.action===s.isColMenu)this.menuCol=t,this.renderCustomFilterDialog(null,t);else{if(this.filteredCol=e,this.renderResponsiveDialog(e),this.parent.enableAdaptiveUI&&e&&(this.parent.filterModule.setFilterModel(e),this.parent.filterModule.filterModule.openDialog(this.parent.filterModule.createOptions(e,void 0))),this.action===s.isColumnChooser&&this.parent.notify(Z.Q9R,{action:"open"}),this.action===s.isSort){var i={cancel:!1,dialogObj:this.customResponsiveDlg,requestType:"beforeOpenAptiveSortDialog"};if(this.parent.trigger(Z.lhh,i),i.cancel)return}this.customResponsiveDlg.show(!0),this.customResponsiveDlg.element.style.maxHeight="100%",this.setTopToChildDialog(this.customResponsiveDlg.element),this.parent.enableAdaptiveUI&&this.parent.filterSettings&&("CheckBox"===this.parent.filterSettings.type||"Excel"===this.parent.filterSettings.type)&&this.parent.filterSettings.enableInfiniteScrolling&&"Shimmer"===this.parent.filterSettings.loadingIndicator&&("CheckBox"===this.parent.filterSettings.type?this.parent.filterModule.filterModule.checkBoxBase:this.parent.filterModule.filterModule.excelFilterBase).showMask()}},e.prototype.setTopToChildDialog=function(e){var t=e.querySelector(".e-dialog");if(t){var i=e.querySelector(".e-dlg-header-content").getBoundingClientRect().height;t.style.top=i+"px"}},e.prototype.renderCustomFilterDialog=function(e,t){var i=this.parent,n=this.action===s.isColMenu;if(this.action!==s.isFilter||"FilterBar"!==i.filterSettings.type){var r=n?"e-customcolumnmenudiv ":"",o=this.parent.createElement("div",{id:i.element.id+(n?"customcolumnmenu":"customfilter"),className:this.parent.cssClass?r+"e-customfilterdiv e-responsive-dialog "+this.parent.cssClass:r+"e-customfilterdiv e-responsive-dialog"});this.parent.element.appendChild(o),this.customFilterDlg=this.getDialogOptions(e,!0,null,t);var a={cancel:!1,dialogObj:this.customFilterDlg,requestType:"beforeOpenAptiveFilterDialog"};this.parent.trigger(Z.lhh,a),a.cancel||(this.customFilterDlg.appendTo(o),this.customFilterDlg.show(!0),this.customFilterDlg.element.style.maxHeight="100%")}},e.prototype.getDialogOptions=function(e,t,i,n){var r=new e2({isModal:!0,showCloseIcon:"columnchooser"!==i||!this.parent.columnChooserSettings.headerTemplate||!!this.parent.enableColumnVirtualization,closeOnEscape:!1,locale:this.parent.locale,target:this.parent.adaptiveDlgTarget?this.parent.adaptiveDlgTarget:document.body,visible:!1,enableRtl:this.parent.enableRtl,content:this.renderResponsiveContent(e,n),open:this.dialogOpen.bind(this),created:this.dialogCreated.bind(this),close:this.beforeDialogClose.bind(this),width:"100%",height:"100%",animationSettings:{effect:"None"},cssClass:this.parent.cssClass?this.parent.cssClass:""});if(r.isStringTemplate=!0,t){r.header=this.renderResponsiveHeader(e,void 0,!0);var o=this.action===s.isColMenu?"e-customcolumnmenu ":"";r.cssClass=o+"e-customfilter"}else r.header=this.renderResponsiveHeader(e),r.cssClass="Vertical"===this.parent.rowRenderingMode&&this.action===s.isFilter?"e-res"+i+" e-row-responsive-filter":"e-res"+i;return r},e.prototype.renderResponsiveDialog=function(e){var t=this.parent;if(this.action!==s.isFilter||"FilterBar"!==t.filterSettings.type){var i=this.action===s.isFilter?"filter":"sort";i=this.action===s.isColumnChooser?"columnchooser":i;var n=this.parent.createElement("div",{id:t.element.id+"responsive"+i,className:this.parent.cssClass?"e-res"+i+"div e-responsive-dialog "+this.parent.cssClass:"e-res"+i+"div e-responsive-dialog"});this.parent.element.appendChild(n),this.customResponsiveDlg=this.getDialogOptions(e,!1,i),this.customResponsiveDlg.appendTo(n)}},e.prototype.dialogCreated=function(){(0,U.Qz)(this.parent)},e.prototype.dialogOpen=function(){if(this.action===s.isSort&&this.parent.allowMultiSorting)for(var e=0;e<this.parent.sortSettings.columns.length;e++){this.sortedCols.push(this.parent.sortSettings.columns[parseInt(e.toString(),10)].field);var t=this.parent.sortSettings.columns[parseInt(e.toString(),10)].field,i=this.parent.sortSettings.columns[parseInt(e.toString(),10)].direction;this.sortPredicate.push({field:t,direction:i})}},e.prototype.beforeDialogClose=function(e){if(this.isDialogClose=e.element&&!e.element.querySelector(".e-xl-customfilterdiv")&&e.element.classList.contains("e-resfilterdiv"),this.action===s.isFilter){if(e.element.classList.contains("e-resfilterdiv")?this.parent.filterModule.filterModule.closeResponsiveDialog(this.isCustomDlgRender):e.element.classList.contains("e-customfilterdiv")&&this.closeCustomFilter(),"Horizontal"===this.parent.rowRenderingMode&&this.parent.showColumnMenu){this.parent.notify(Z.C$p,{action:4});var t=document.querySelector(".e-resfilter");t&&(0,y.Od)(t)}}else if(this.action===s.isSort)this.closeCustomDialog();else if(this.action===s.isColMenu){this.closeCustomFilter();var t=document.querySelector(".e-rescolummenu");t&&(0,y.Od)(t)}else if(this.action===s.isColumnChooser){this.parent.notify(Z.Q9R,{action:"clear"});var t=document.querySelector(".e-rescolumnchooser");t&&(0,y.Od)(t),"Horizontal"===this.parent.rowRenderingMode&&this.parent.showColumnMenu&&this.parent.notify(Z.C$p,{action:4}),this.isCustomDialog=!1,this.isDialogClose=!1}this.parent.off(Z.Pxe,this.keyHandler)},e.prototype.sortColumn=function(){if(!this.isSortApplied){this.closeCustomDialog();return}this.sortPredicate.length&&this.parent.setProperties({sortSettings:{columns:[]}},!0);for(var e=0;e<this.sortPredicate.length;e++)this.parent.sortColumn(this.sortPredicate[parseInt(e.toString(),10)].field,this.sortPredicate[parseInt(e.toString(),10)].direction,this.parent.allowMultiSorting);this.sortPredicate.length||this.parent.clearSorting(),this.closeCustomDialog()},e.prototype.getHeaderTitle=function(e,t){var i,n=this.parent;return this.action===s.isEdit?i=n.localeObj.getConstant("EditFormTitle")+e.primaryKeyValue[0]:this.action===s.isAdd?i=n.localeObj.getConstant("AddFormTitle"):this.action===s.isFilter?i=t?t.headerText||t.field:n.localeObj.getConstant("FilterTitle"):this.action===s.isSort?i=n.localeObj.getConstant("Sort"):this.action===s.isColMenu?i=n.localeObj.getConstant("ColumnMenu"):this.action===s.isColumnChooser&&(i=n.localeObj.getConstant("ChooseColumns")),i},e.prototype.getDialogName=function(e){var t;return e===s.isAdd||e===s.isEdit?t="dialogEdit_wrapper_title":e===s.isFilter?t="responsive_filter_dialog_wrapper":e===s.isColumnChooser&&(t="responsive_column_chooser_dialog_wrapper"),t},e.prototype.getButtonText=function(e){var t;return e===s.isAdd||e===s.isEdit?t="Save":(e===s.isFilter||this.action===s.isSort||e===s.isColumnChooser||this.action===s.isColumnChooser)&&(t="OKButton"),t},e.prototype.renderResponsiveHeader=function(e,t,i){var n=this,r=this.parent;r.on(Z.Pxe,this.keyHandler,this);var o=r.element.id+this.getDialogName(this.action);if(this.parent.columnChooserSettings.headerTemplate&&!this.parent.enableColumnVirtualization&&this.getHeaderTitle(t,e)===r.localeObj.getConstant("ChooseColumns"))return this.parent.columnChooserModule.renderHeader();var a=r.createElement("div",{className:"e-res-custom-element"}),l=r.createElement("div",{className:"e-dlg-custom-header",id:o});l.innerHTML=this.getHeaderTitle(t,e),a.appendChild(l);var h=r.createElement("button");i||(this.saveBtn=new $.zx({cssClass:this.parent.cssClass?"e-primary e-flat e-res-apply-btn "+this.parent.cssClass:"e-primary e-flat e-res-apply-btn"}),h.innerHTML=r.localeObj.getConstant(this.getButtonText(this.action)),this.saveBtn.appendTo(h),h.onclick=function(e){n.dialogHdrBtnClickHandler()});var c=this.action===s.isSort,p=this.action===s.isFilter;if(p||c){var d=c?"sort":"filter",u=r.createElement("button");if(this.filterClearBtn=new $.zx({cssClass:this.parent.cssClass?"e-primary e-flat e-res-"+d+"-clear-btn "+this.parent.cssClass:"e-primary e-flat e-res-"+d+"-clear-btn"}),p){var g=r.createElement("span",{className:"e-btn-icon e-icon-filter-clear e-icons"});u.appendChild(g)}else u.innerHTML=r.localeObj.getConstant("Clear");a.appendChild(u),this.filterClearBtn.appendTo(u),u.onclick=function(e){(0,U.Cf)(e.target,"e-customfilter")?(n.parent.filterModule.clearFiltering(),n.removeCustomDlgFilterEle()):p?n.filterClear():(n.resetSortButtons(),n.sortedCols=[],n.sortPredicate=[],n.isSortApplied=!0)},a.appendChild(u)}return i||a.appendChild(h),a},e.prototype.filterClear=function(){this.parent.filterModule.filterModule.clearCustomFilter(this.filteredCol),this.parent.filterModule.filterModule.closeResponsiveDialog()},e.prototype.removeCustomFilterElement=function(){var e=document.getElementById(this.parent.element.id+"customcolumnmenu");if(e){(0,y.Od)(e);var t=document.querySelector(".e-customfilter");t&&(0,y.Od)(t)}var i=document.querySelector(".e-rescolumnchooser");i&&(0,y.Od)(i)},e.prototype.hideResponsiveColumnChooser=function(){var e=document.querySelector(".e-rescolumnchooser");e&&((0,y.Od)(e),this.isCustomDialog=!1,this.isDialogClose=!1)},e.prototype.dialogHdrBtnClickHandler=function(){this.action===s.isEdit||this.action===s.isAdd?this.parent.endEdit():this.action===s.isFilter?(this.parent.filterModule.filterModule.applyCustomFilter({col:this.filteredCol,isCustomFilter:this.isCustomDlgRender}),this.removeCustomFilterElement()):this.action===s.isSort?(this.sortColumn(),this.removeCustomFilterElement()):this.action===s.isColumnChooser&&(this.parent.notify(Z.Q9R,{action:"confirm"}),this.removeCustomFilterElement(),this.isCustomDialog=!1,this.isDialogClose=!1)},e.prototype.closeCustomDialog=function(){if(this.isCustomDlgRender){var e=this.customResponsiveDlg.element.querySelector(".e-mainfilterdiv");(0,y.Od)(e);return}this.isRowResponsive=!1,this.isCustomDlgRender=!1,this.destroyCustomFilterDialog()},e.prototype.destroyCustomFilterDialog=function(){if(this.customResponsiveDlg){var e=document.getElementById(this.customResponsiveDlg.element.id);this.customResponsiveDlg&&!this.customResponsiveDlg.isDestroyed&&e&&(this.customResponsiveDlg.destroy(),(0,y.Od)(e)),this.closeCustomFilter(),this.action===s.isSort&&(this.sortPredicate=[],this.sortedCols=[],this.isSortApplied=!1)}},e.prototype.closeCustomFilter=function(){if(!this.isDialogClose&&this.customFilterDlg){var e=document.getElementById(this.customFilterDlg.element.id);this.customFilterDlg&&!this.customFilterDlg.isDestroyed&&e&&(this.customFilterDlg.destroy(),(0,y.Od)(e))}this.isCustomDialog=!1,this.isDialogClose=!1},e.prototype.removeCustomDlgFilterEle=function(e){if(e)e.parentElement.classList.contains("e-filtersetdiv")?(0,y.Od)(e.parentElement):(0,y.Od)(e);else for(var t=this.customColumnDiv.children,i=0;i<t.length;i++)(e=t[parseInt(i.toString(),10)].querySelector(".e-filtersetdiv"))&&((0,y.Od)(e),i--)},e.prototype.keyHandler=function(e){13===e.keyCode&&(this.action===s.isFilter&&e.target.classList.contains("e-searchinput")||this.action===s.isEdit||this.action===s.isAdd)&&this.dialogHdrBtnClickHandler()},e.prototype.editComplate=function(e){("save"===e.requestType||"cancel"===e.requestType)&&this.parent.off(Z.Pxe,this.keyHandler)},e.prototype.removeEventListener=function(){this.customColumnDiv&&y.bi.remove(this.customColumnDiv,y.AR.isDevice?"touchend":"click",this.customFilterColumnClickHandler),(0,U.aL)(this.parent,this.evtHandlers,!0,this),this.parent.removeEventListener(Z.i8$,this.onActionCompleteFn)},e}(),tH=function(){function e(){this.services={}}return e.prototype.register=function(e,t){(0,y.le)(this.services[""+e])&&(this.services[""+e]=t)},e.prototype.getService=function(e){if((0,y.le)(this.services[""+e]))throw"The service "+e+" is not registered";return this.services[""+e]},e.prototype.registerAdaptiveService=function(e,t,i){t?(e.responsiveDialogRenderer=new tq(e.parent,e.serviceLocator),e.responsiveDialogRenderer.action=i):e.responsiveDialogRenderer&&(e.responsiveDialogRenderer.removeEventListener(),e.responsiveDialogRenderer=void 0)},e}(),tN=function(){function e(){this.rendererMap={}}return e.prototype.addRenderer=function(e,t){var i=(0,y.I$)(r,e);(0,y.le)(this.rendererMap[""+i])&&(this.rendererMap[""+i]=t)},e.prototype.getRenderer=function(e){var t=(0,y.I$)(r,e);if(!(0,y.le)(this.rendererMap[""+t]))return this.rendererMap[""+t];throw"The renderer "+t+" is not found"},e}(),tV=function(){function e(e){this.parent=e}return e.prototype.setWidthToColumns=function(){var e=0,t=this.parent.getColumnIndexesInView(),i=!0,n=0;if(this.parent.allowGrouping)for(var r=this.parent.groupSettings.columns.length;e<r;e++){if(this.parent.enableColumnVirtualization&&-1===t.indexOf(e)){i=!1;continue}this.setColumnWidth(new e4.sg({width:"30px"}),e)}(this.parent.detailTemplate||this.parent.childGrid)&&(this.setColumnWidth(new e4.sg({width:"30px"}),e),e++),this.parent.isRowDragable()&&"Right"!==this.parent.getFrozenMode()&&(this.setColumnWidth(new e4.sg({width:"30px"}),e),e++);for(var o=this.parent.getColumns(),s=0;s<o.length;s++)this.setColumnWidth(o[parseInt(s.toString(),10)],i&&this.parent.enableColumnVirtualization?void 0:s+e);if(this.parent.isRowDragable()&&"Right"===this.parent.getFrozenMode()&&this.setColumnWidth(new e4.sg({width:"30px"}),this.parent.groupSettings.columns.length+o.length),"auto"!==(n=this.getTableWidth(this.parent.getColumns()))){"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&this.setMinwidthBycalculation(n);var a=o.filter(function(e){return!(0,y.le)(e.maxWidth)}),l=this.parent.getHeaderTable(),h=this.parent.getContentTable();this.parent.allowResizing&&this.parent.element.getBoundingClientRect().width>n&&a.length===o.length&&l&&h&&(0,y.cn)([l,h],["e-tableborder"])}},e.prototype.setMinwidthBycalculation=function(e){var t=this,i=0,n=this.parent.getColumns().filter(function(e){return t.parent.allowResizing?((0,y.le)(e.width)||"auto"===e.width)&&(0,y.le)(e.maxWidth):(0,y.le)(e.width)||"auto"===e.width});if(n.length){i=(0,y.le)(this.parent.width)||"auto"===this.parent.width||"string"!=typeof this.parent.width||-1!==this.parent.width.indexOf("%")?this.parent.element.getBoundingClientRect().width-e:parseInt(this.parent.width,10)-e;for(var r=0,o=0;o<n.length;o++){var s=n[o];r+=(0,y.le)(s.minWidth)?0:"string"==typeof s.minWidth?parseInt(s.minWidth,10):s.minWidth}for(var a=0;a<n.length;a++){0===e&&this.parent.allowResizing&&this.isWidthUndefined()&&a!==n.length-1&&this.setUndefinedColumnWidth(n);var l=this.parent.getColumnIndexByField(n[parseInt(a.toString(),10)].field)+this.parent.getIndentCount();0!==e&&i<r?this.setWidth(n[parseInt(a.toString(),10)].minWidth,l):0!==e&&i>r&&this.setWidth("",l,!0)}}},e.prototype.setUndefinedColumnWidth=function(e){for(var t=0;t<e.length;t++)t!==e.length-1&&(e[parseInt(t.toString(),10)].width=200,this.setWidth(200,this.parent.getColumnIndexByField(e[parseInt(t.toString(),10)].field)))},e.prototype.setColumnWidth=function(e,t,i){if(!(this.parent.getColumns().length<1)){var n=(0,y.le)(t)?this.parent.getNormalizedColumnIndex(e.uid):t,r=this.getWidth(e),o=this.getTableWidth(this.parent.getColumns());if(null!==r){if(this.setWidth(r,n),"auto"!==this.parent.width&&-1===this.parent.width.toString().indexOf("%")&&"auto"!==o&&this.setMinwidthBycalculation(o),this.parent.allowResizing&&("resize"===i||this.parent.getFrozenColumns())){var s=this.parent.getContentTable();this.setWidthToTable(this.parent.getFrozenColumns()&&-1===s.style.width.indexOf("px")&&o<s.clientWidth)}this.parent.notify(Z.SFv,{index:n,width:r,column:e,module:i})}}},e.prototype.setWidth=function(e,t,i){this.parent.groupSettings.columns.length>t&&(0,U.QE)(this.parent)&&!(this.parent.resizeModule&&this.parent.resizeModule.resizeProcess)&&(e=(30/this.parent.element.offsetWidth*100).toFixed(1)+"%");var n=this.parent.getHeaderTable(),r=this.parent.getContentTable(),o=(0,y.Ac)(e),s=n.querySelector(te.Iz).children[parseInt(t.toString(),10)];s&&!i?s.style.width=o:s&&i&&(s.style.width="");var a=r.querySelector(te.Iz).children[parseInt(t.toString(),10)];if(a&&!i?a.style.width=o:a&&i&&(a.style.width=""),!this.parent.enableColumnVirtualization&&this.parent.isEdit){for(var l=this.parent.element.querySelectorAll(".e-table.e-inline-edit"),h=[],c=0;c<l.length;c++)if((0,U.Cf)(l[parseInt(c.toString(),10)],"e-grid").id===this.parent.element.id)for(var p=0;p<l[parseInt(c.toString(),10)].querySelector("colgroup").children.length;p++)h.push(l[parseInt(c.toString(),10)].querySelector("colgroup").children[parseInt(p.toString(),10)]);l.length&&h.length&&h[parseInt(t.toString(),10)]&&(h[parseInt(t.toString(),10)].style.width=o)}this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&this.refreshFrozenScrollbar()},e.prototype.refreshFrozenScrollbar=function(){var e={cancel:!1};if(this.parent.notify(Z.MXM,e),!e.cancel){var t=(0,U.Iz)(),i=this.parent.element.querySelector(".e-movablescrollbar"),n=this.parent.getContent().firstElementChild.getBoundingClientRect().width;if(this.parent.enableColumnVirtualization){var r=this.parent.getContent().querySelector(".e-virtualtrack");r&&(n=r.scrollWidth)}"auto"!==this.parent.height&&(n+=t),i.firstElementChild.style.width=n+"px"}},e.prototype.getSiblingsHeight=function(e){return this.getHeightFromDirection(e,"previous")+this.getHeightFromDirection(e,"next")},e.prototype.getHeightFromDirection=function(e,t){for(var i=e[t+"ElementSibling"],n=0,r=[te.uD,te.Jv,"e-groupdroparea","e-gridpager","e-toolbar","e-temp-toolbar"];i;)r.some(function(e){return i.classList.contains(e)})&&(n+=i.offsetHeight),i=i[t+"ElementSibling"];return n},e.prototype.isWidthUndefined=function(){var e=this.parent.getColumns().filter(function(e){return(0,y.le)(e.width)&&(0,y.le)(e.minWidth)}).length;return this.parent.getColumns().length===e},e.prototype.getWidth=function(e){if(this.parent.allowResizing&&(0,y.le)(e.width)&&((0,y.le)(e.minWidth)&&(0,y.le)(e.maxWidth)&&!this.isWidthUndefined()?e.width=200:e.maxWidth&&(e.width=e.maxWidth)),!e.width)return null;var t=parseInt(e.width.toString(),10);return e.minWidth&&t<parseInt(e.minWidth.toString(),10)?e.minWidth:e.maxWidth&&t>parseInt(e.maxWidth.toString(),10)?e.maxWidth:e.width},e.prototype.getTableWidth=function(e,t){for(var i=0,n=!1,r=0;r<e.length;r++){var o=e[r];if(!1!==o.visible){var s=this.getWidth(o);"auto"!==o.width&&o.width||(this.parent.allowResizing&&!t?o.maxWidth||(n=!0):s=0),null!==s&&(i+=parseInt(s.toString(),10))}}return n?"auto":i},e.prototype.setWidthToTable=function(e){var t=(0,y.Ac)(this.getTableWidth(this.parent.getColumns()));(this.parent.detailTemplate||this.parent.childGrid)&&this.setColumnWidth(new e4.sg({width:"30px"})),t=this.isAutoResize()||"auto"===t||e?"100%":t,this.parent.getHeaderTable().style.width=t,this.parent.getContentTable().style.width=t;var i=this.parent.element.querySelector(".e-table.e-inline-edit");i&&(i.style.width=t)},e.prototype.isAutoResize=function(){return this.parent.allowResizing&&"Auto"===this.parent.resizeSettings.mode},e}(),tj=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),t_=function(){function e(e){this.currentInfo={},this.oneTime=!0,this.swap={},this.isInfiniteScroll=!1,this.virtualSelectionInfo={},this.forget=!1,this.skipFocus=!0,this.focusByClick=!1,this.firstHeaderCellClick=!1,this.prevIndexes={},this.refMatrix=this.refreshMatrix(!0),this.actions=["downArrow","upArrow"],this.isVirtualScroll=!1,this.groupedFrozenRow=0,this.parent=e,this.rowModelGen=new ti(this.parent),this.addEventListener()}return e.prototype.focusCheck=function(e){var t=e.target;this.focusByClick=!0,this.firstHeaderCellClick=!0,this.skipFocus=t.classList.contains("e-grid")},e.prototype.onFocus=function(e){if(!(this.parent.isDestroyed||y.AR.isDevice||this.parent.enableVirtualization||this.parent.element.querySelector(".e-masked-table")||!this.parent.isInitialLoad&&e&&e.target===this.parent.element&&this.parent.element.querySelector(".e-spin-show"))){this.setActive(!this.parent.enableHeaderFocus&&0===this.parent.frozenRows),this.parent.enableHeaderFocus||this.parent.getCurrentViewRecords().length||"Batch"===this.parent.editSettings.mode&&("Batch"!==this.parent.editSettings.mode||!this.parent.editModule||this.parent.editModule.getBatchChanges()[te.$0].length)||this.getContent().matrix.generate(this.rowModelGen.generateRows({rows:[new e5({isDataRow:!0})]}),this.getContent().selector,!1);var t=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator(),this.active);this.getContent().matrix.select(t[0],t[1]),this.skipFocus&&!(e&&e.target===this.parent.element)&&(this.focus(e),this.skipFocus=!1)}},e.prototype.passiveFocus=function(e){if(!this.parent.isDestroyed){var t=this.parent.getHeaderContent().querySelector(".e-headercell:not(.e-hide)");if(e.target===t&&e.relatedTarget&&!(0,U.Cf)(e.relatedTarget,"e-grid")&&!this.firstHeaderCellClick){var i=[0,0];0===this.active.matrix.matrix[i[0]][i[1]]&&(i=(0,U.WJ)(this.active.matrix.matrix,i,!0)),this.active.matrix.current=i,this.currentInfo.element=e.target,this.currentInfo.elementToFocus=e.target,this.currentInfo.element.querySelector(".e-checkselectall")?(this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)):(0,y.cn)([this.currentInfo.element],["e-focused","e-focus"])}this.firstHeaderCellClick=!1,e.target&&e.target.classList.contains("e-detailcell")&&(this.currentInfo.skipAction=!1,(0,y.cn)([this.currentInfo.element],["e-focused","e-focus"]))}},e.prototype.onBlur=function(e){this.parent.allowPaging&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer")&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer").removeAttribute("aria-hidden");var t=!!((0,U.Cf)(e.target,"e-gantt")&&e.target.classList.contains("e-rowcell")&&!(0,y.le)(e.target.nextElementSibling)&&e.target.nextElementSibling.classList.contains("e-rowcell"));(!(this.parent.isEdit||e&&(!e.relatedTarget||(0,y.oq)(e.relatedTarget,".e-grid")||(0,y.oq)(e.relatedTarget,".e-grid-popup"))&&!(this.parent.element.classList.contains("e-childgrid")&&!this.parent.element.matches(":focus-within")))||!t&&(0,y.le)(e.relatedTarget)&&parseInt(e.target.getAttribute("aria-colindex"),10)-1==0&&0===parseInt(e.target.getAttribute("index"),10)||!t&&(0,y.le)(e.relatedTarget)&&!(0,y.oq)(document.activeElement,".e-grid")&&!(0,y.le)(e.sourceCapabilities))&&(this.removeFocus(),this.skipFocus=!0,this.currentInfo.skipAction=!1,this.setLastContentCellTabIndex(),this.setFirstFocusableTabIndex(),this.firstHeaderCellClick=!1)},e.prototype.setFirstFocusableTabIndex=function(){var e=this.parent;if(e.element.tabIndex=-1,e.allowGrouping&&e.groupSettings.showDropArea){var t=e.groupModule,i=t.getFocusableGroupedItems();i.length>0?(t.element.tabIndex=-1,i[0].tabIndex=0):t.element.tabIndex=0;return}if(e.toolbar||e.toolbarTemplate){var n=e.toolbarModule.element,r=this.parent.toolbarModule.getFocusableToolbarItems();r.length>0&&r[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input")?(n.tabIndex=-1,r[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").tabIndex=0):n.tabIndex=0;return}if(e.getColumns().length){if(e.getHeaderContent().querySelector(".e-headercell:not(.e-hide)").tabIndex=0,this.setActive(!1),!(0,y.le)(this.active)&&((0,y.le)(this.active.target)||!this.active.target.classList.contains("e-columnmenu"))){var o=[0,0];0===this.active.matrix.matrix[o[0]][o[1]]&&(o=(0,U.WJ)(this.active.matrix.matrix,o,!0)),this.active.matrix.current=o}return}},e.prototype.setLastContentCellTabIndex=function(){var e=this.parent.getContentTable();e.rows[e.rows.length-1]&&(e.rows[e.rows.length-1].lastElementChild.tabIndex=0)},e.prototype.onClick=function(e,t,i){if(!((0,U.Cf)(e.target,"e-filterbarcell")&&((0,U.Cf)(e.target,"e-multiselect")||e.target.classList.contains("e-input-group-icon")))){var n=!(0,y.le)((0,y.oq)(e.target,"."+te.ci)),r=!(0,y.le)((0,y.oq)(e.target,"."+te.uD));if(!(!(n=n&&r?!n:n)&&(0,y.le)((0,y.oq)(e.target,"."+te.uD))||e.target.classList.contains(te.kQ)||e.target.classList.contains(te.Vd))&&((0,y.le)((0,y.oq)(e.target,".e-unboundcell"))||t)){this.setActive(n);var o={cancel:!1,byKey:!1,byClick:!(0,y.le)(e.target),clickArgs:e};if(this.parent.notify(Z.ib3,o),!(o.cancel||(0,y.oq)(e.target,".e-inline-edit")&&!this.parent.editSettings.showAddNewRow&&this.parent.editSettings.showAddNewRow&&!this.parent.element.querySelector(".e-editedrow"))&&(this.setActive(n),this.getContent())){if(!1===this.getContent().onClick(e,t))return;this.focus(),this.currentInfo.element.classList.contains("e-rowcell")&&e.type&&"click"===e.type&&!i&&(0,y.cn)([this.currentInfo.element],["e-focused","e-focus"]),i&&e&&e.target&&(0,y.cn)([e.target],["e-focused","e-focus"])}}}},e.prototype.handleFilterNavigation=function(e,t,i){e.target===document.querySelector(t)&&"Tab"===e.key&&e.shiftKey?(e.preventDefault(),document.querySelector(i).focus()):e.target!==document.querySelector(i)||"Tab"!==e.key||e.shiftKey||document.activeElement!==document.querySelector(i)||(e.preventDefault(),document.querySelector(t).focus())},e.prototype.onKeyPress=function(e){if(this.content&&this.content.target&&(this.content.target=null),this.parent.allowPaging){var t=this.parent.pagerModule.pagerObj.element,i=this.parent.pagerModule.pagerObj.getFocusablePagerElements(t,[]);if(this.parent.childGrid&&!(0,U.Cf)(e.target,"e-gridpager")&&this.allowToPaging(e)&&i.length&&(i[0].tabIndex=0),this.parent.pagerModule.pagerObj.checkPagerHasFocus()){if("shiftTab"===e.action&&i.length&&i[0]===e.target){this.setActive(!0);var n=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];0===this.active.matrix.matrix[n[0]][n[1]]&&(n=(0,U.WJ)(this.active.matrix.matrix,n,!1)),this.active.matrix.current="Batch"===this.parent.editSettings.mode?this.isValidBatchEditCell(n)?n:this.findBatchEditCell(n,!1):n,e.preventDefault(),this.focus(e);return}if("tab"===e.action&&this.parent.element.classList.contains("e-childgrid")&&(!this.parent.pageSettings.pageSizes&&i.length&&i[i.length-1]===e.target||this.parent.pagerModule.pagerObj.getDropDownPage()===e.target)){var r=(0,U.Cf)(this.parent.element,"e-detailcell");(0,y.IV)([this.parent.element],["e-focus"]),(0,y.IV)([r],["e-focused"]),r.tabIndex=-1}else{this.parent.pagerModule.pagerObj.changePagerFocus(e);return}}if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&(38===e.keyCode||e.shiftKey&&9===e.keyCode)){e.preventDefault(),this.focus(e);return}if(0===this.parent.pagerModule.pagerObj.element.tabIndex&&9===e.keyCode){e.preventDefault(),this.parent.pagerModule.pagerObj.setPagerFocus();return}if(this.parent.pagerModule.pagerObj.checkFirstPagerFocus()){var o=this.getContent().matrix.rows,s=this.getContent().matrix.columns;this.getContent().matrix.current=[o,s]}}if("Excel"===this.parent.filterSettings.type&&this.handleFilterNavigation(e,".e-excelfilter .e-menu-item:not(.e-disabled)",".e-excelfilter .e-footer-content button:nth-child(2)"),"CheckBox"===this.parent.filterSettings.type){var a=this.parent.getColumnByUid(this.focusedColumnUid),l=a&&a.filter&&a.filter.hideSearchbox?".e-chk-hidden":".e-searchinput.e-input";this.handleFilterNavigation(e,l,".e-checkboxfilter .e-footer-content button:nth-child(2)")}if("Menu"===this.parent.filterSettings.type&&this.handleFilterNavigation(e,".e-flmenu .e-input-group.e-popup-flmenu",".e-flmenu .e-footer-content button:nth-child(2)"),this.parent.showColumnChooser&&this.handleFilterNavigation(e,".e-ccdlg .e-ccsearch.e-cc.e-input",".e-ccdlg .e-footer-content button:nth-child(2)"),!this.skipOn(e)){if(e.target&&(0,U.Cf)(e.target,"e-gridcontent")){var h=[].slice.call(this.parent.getContentTable().rows),c=h[h.length-1].lastElementChild;e.target===c&&(this.setActive(!0),this.setLastContentCellActive())}if("shiftTab"===e.action&&e.target&&(e.target===this.parent.element||(0,U.Cf)(e.target,"e-toolbar")||(0,U.Cf)(e.target,"e-groupdroparea"))){if(e.target===this.parent.element){this.parent.element.classList.contains("e-childgrid")&&this.focusOutFromChildGrid(e);return}if((0,U.Cf)(e.target,"e-groupdroparea")){this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus());return}if((0,U.Cf)(e.target,"e-toolbar")){if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea){var p=this.parent.groupModule,d=p.getFocusableGroupedItems();e.preventDefault(),d.length>0?d[d.length-1].focus():p.element.focus()}else this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus());return}}var u=!1;if("tab"===e.action&&e.target&&(e.target===this.parent.element||(0,U.Cf)(e.target,"e-toolbar")||(0,U.Cf)(e.target,"e-groupdroparea"))){if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea&&(e.target===this.parent.element||e.target.classList.contains("e-groupdroparea"))){var p=this.parent.groupModule,d=p.getFocusableGroupedItems();if(d.length>0){e.preventDefault(),d[0].focus();return}if(!e.target.classList.contains("e-groupdroparea")){e.preventDefault(),p.element.focus();return}}if((this.parent.toolbar||this.parent.toolbarTemplate)&&(e.target===this.parent.element||(0,U.Cf)(e.target,"e-groupdroparea")||e.target.classList.contains("e-toolbar"))){var g=this.parent.toolbarModule.element,f=this.parent.toolbarModule.getFocusableToolbarItems();if(f.length>0){e.preventDefault(),f[0].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").focus();return}if(!e.target.classList.contains("e-toolbar")){e.preventDefault(),g.focus();return}}(e.target===this.parent.element||(0,U.Cf)(e.target,"e-toolbar")||(0,U.Cf)(e.target,"e-groupdroparea"))&&(u=!0)}u&&(this.parent.allowGrouping&&!(0,y.le)(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length===this.parent.columns.length?this.setActive(!0):this.setActive(!1),this.active.matrix.current=[0,-1]),this.activeKey=e.action;var m={cancel:!1,byKey:!0,byClick:!1,keyArgs:e};if(this.parent.notify(Z.ib3,m),!m.cancel){var v=this.getContent().matrix.current,S=this.active&&this.active.matrix.current?[this.active.matrix.current[0],this.active.matrix.current[1]]:void 0;this.currentInfo.outline=!0;var C=this.getContent().jump(e.action,v);this.swap=C,C.swap&&!("Batch"===this.parent.editSettings.mode&&("tab"===e.action||"shiftTab"===e.action))&&(this.setActive(!C.toHeader),this.getContent().matrix.current=this.getContent().getNextCurrent(v,C,this.active,e.action),this.prevIndexes={}),this.setActiveByKey(e.action,this.getContent());var b=!this.content.lastIdxCell&&this.getContent().onKeyPress(e);if(e.target&&(0,U.Cf)(e.target,"e-gridheader")){if("tab"===e.action&&v.toString()===this.active.matrix.current.toString()){var w=(0,U.WJ)(this.active.matrix.matrix,this.active.matrix.current,!0),n=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];0===this.active.matrix.matrix[n[0]][n[1]]&&(n=(0,U.WJ)(this.active.matrix.matrix,n,!1));var I=(0,y.NA)(w[0]+".cells."+w[1],this.active.matrix.getRowsFromIndex(w[0],this.active));if(I&&0===I.getBoundingClientRect().width&&this.active.matrix.matrix.length-1===w[0]&&(n=this.active.matrix.nextVisibleCellFocus(w[0],w[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),this.active.matrix.current.toString()===n.toString()&&this.content.matrix.matrix.length){b=!0,this.setActive(!0);var x=[0,0];this.parent.allowPaging&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer")&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer").setAttribute("aria-hidden","true"),0===this.active.matrix.matrix[x[0]][x[1]]&&(x=(0,U.WJ)(this.active.matrix.matrix,[0,0],!0));var R=(0,y.NA)(x[0]+".cells."+x[1],this.active.matrix.getRowsFromIndex(x[0],this.active));if(R&&0===R.getBoundingClientRect().width&&(x=this.active.matrix.nextVisibleCellFocus(x[0],x[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),this.active.matrix.current="Batch"===this.parent.editSettings.mode?this.isValidBatchEditCell(x)?x:this.findBatchEditCell(x,!0):x,this.parent.enableVirtualization&&!this.parent.enableColumnVirtualization&&1!==this.parent.contentModule.prevInfo.blockIndexes[0]){e.preventDefault(),this.removeFocus();var k=this.parent.contentModule;k.firstCellFocus=!0,k.content.scrollTop=0;return}}else this.active.matrix.current.toString()!==w.toString()&&(this.active.matrix.current=w)}if("shiftTab"===e.action&&v.toString()===this.active.matrix.current.toString()){var A=(0,U.WJ)(this.active.matrix.matrix,this.active.matrix.current,!1),T=(0,y.NA)(A[0]+".cells."+A[1],this.active.matrix.getRowsFromIndex(A[0],this.active));if(T&&0===T.getBoundingClientRect().width&&0===A[0]&&(A=this.active.matrix.nextVisibleCellFocus(A[0],A[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),A.toString()===this.active.matrix.current.toString()){this.focusOutFromHeader(e);return}if(this.active.matrix.current.toString()!==A.toString()&&!b){b=!0;var E=(0,y.NA)(A[0]+".cells."+A[1],this.active.matrix.getRowsFromIndex(A[0],this.active));E&&0===E.getBoundingClientRect().width&&0===A[0]&&(A=this.active.matrix.nextVisibleCellFocus(A[0],A[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),this.active.matrix.current=A}}}if(e.target&&(0,U.Cf)(e.target,"e-gridcontent")&&(this.parent.allowPaging&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer")&&this.parent.pagerModule.pagerObj.element.querySelector(".e-pagercontainer").removeAttribute("aria-hidden"),"Batch"===this.parent.editSettings.mode&&("tab"===e.action||"shiftTab"===e.action)&&(this.active.matrix.current=this.findBatchEditCell(S,"tab"===e.action),"tab"===e.action&&S.toString()===this.active.matrix.current.toString()&&(this.parent.editModule.editModule.addBatchRow=!0)),"shiftTab"===e.action&&v.toString()===this.active.matrix.current.toString())){if(this.parent.allowGrouping&&!(0,y.le)(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length===this.parent.columns.length){this.focusOutFromHeader(e);return}var x=[0,0];0===this.active.matrix.matrix[x[0]][x[1]]&&(x=(0,U.WJ)(this.active.matrix.matrix,[0,0],!0));var R=(0,y.NA)(x[0]+".cells."+x[1],this.active.matrix.getRowsFromIndex(x[0],this.active));R&&0===R.getBoundingClientRect().width&&(x=this.active.matrix.nextVisibleCellFocus(x[0],x[1],e.action,this.active.keyActions[e.action],this.active,this.active.matrix.current[1])),b||x.toString()!==this.active.matrix.current.toString()&&("Batch"!==this.parent.editSettings.mode||S.toString()!==this.active.matrix.current.toString())||(b=!0,this.setActive(!1),this.setLastContentCellActive())}if(!1===b){if(this.clearIndicator(),"shiftTab"===e.action&&v.toString()===[0,0].toString()&&(this.parent.element.tabIndex=-1),this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.allowToPaging(e)&&v.toString()!==[0,0].toString()){if(e.preventDefault(),40===e.keyCode){this.parent.pagerModule.pagerObj.setPagerContainerFocus();return}if(9===e.keyCode){this.parent.pagerModule.pagerObj.setPagerFocus();return}}this.parent.element.classList.contains("e-childgrid")&&this.focusOutFromChildGrid(e);return}if(this.header.action=e.action,this.header.currentTarget=null,this.header.focusType="key",e.target&&(0,U.Cf)(e.target,"e-fltrtemp")&&("tab"===e.action||"shiftTab"===e.action)){var M=e.target,F=[].slice.call((0,y.oq)(M,"th").querySelectorAll(".e-fltrtemp-focus"));if(F.length){var D=F.indexOf(M);("tab"===e.action&&D<F.length-1||"shiftTab"===e.action&&D>0)&&(this.setActive(!1),this.active.matrix.current=v,this.active.currentTarget=M)}}u&&(0,U.Cf)(this.active.getTable(),"e-gridheader")&&e.target&&e.target.id===this.parent.element.id+"_searchbar"&&(this.parent.searchModule.headerFocus=!0),e.preventDefault(),this.focus(e)}}},e.prototype.isValidBatchEditCell=function(e){var t=this.active.getTable().rows[e[0]].cells[e[1]],i=(0,y.oq)(t,"tr"),n=parseInt(t.getAttribute("aria-colindex"),10)-1,r=this.parent.getColumns()[parseInt(n.toString(),10)];return!!(1===this.active.matrix.matrix[e[0]][e[1]]&&(!i.classList.contains("e-row")||(i.classList.contains("e-insertedrow")||!r.isPrimaryKey)&&r.allowEditing))},e.prototype.findBatchEditCell=function(e,t,i){for(var n=e,r=e,o=!1;!o;){var s=r;r=(0,U.WJ)(this.active.matrix.matrix,r,t);var a=(0,y.NA)(r[0]+".cells."+r[1],this.active.getTable().rows);if(a&&0===a.getBoundingClientRect().width&&(r=this.active.matrix.nextVisibleCellFocus(r[0],r[1],this.activeKey,this.active.keyActions[this.activeKey],this.active,this.active.matrix.current[1])),s.toString()===r.toString()||i&&s[0]!==r[0]){o=!0;continue}this.isValidBatchEditCell(r)&&(n=r,o=!0)}return n},e.prototype.setLastContentCellActive=function(){var e=[this.active.matrix.matrix.length-1,this.active.matrix.matrix[this.active.matrix.matrix.length-1].length-1];0===this.active.matrix.matrix[e[0]][e[1]]&&(e=(0,U.WJ)(this.active.matrix.matrix,e,!1));var t=(0,y.NA)(e[0]+".cells."+e[1],this.active.matrix.getRowsFromIndex(e[0],this.active));t&&0===t.getBoundingClientRect().width&&(e=this.active.matrix.nextVisibleCellFocus(e[0],e[1],this.activeKey,this.active.keyActions[this.activeKey],this.active,this.active.matrix.current[1])),this.active.matrix.current=e},e.prototype.focusOutFromChildGrid=function(e){var t,i=(0,U.Cf)(this.parent.element,"e-table"),n=(0,U.Cf)(i,"e-grid").ej2_instances[0],r=(0,U.Cf)(this.parent.element,"e-detailcell"),o=(0,U.Cf)(this.parent.element,"e-detailrow").getAttribute("data-uid"),s=[].slice.call(n.getContentTable().rows),a=s.map(function(e){return e.getAttribute("data-uid")}).indexOf(o);if("tab"!==e.action||!(a>=s.length-1)){if((0,y.IV)([this.parent.element],["e-focus"]),(0,y.IV)([r],["e-focused"]),r.tabIndex=-1,e.preventDefault(),n.focusModule.removeFocus(),"shiftTab"===e.action){for(var l=s[a-1].cells,h=l.length-1;h>=0;h--)if(!(t=l[parseInt(h.toString(),10)]).classList.contains("e-hide")){n.focusModule.active.matrix.current=[a-1,h];break}}else t=s[a+1].cells[0],n.focusModule.active.matrix.current=[a+1,0];n.focusModule.currentInfo.element=t,n.focusModule.currentInfo.elementToFocus=t,(0,y.cn)([t],["e-focused","e-focus"]),t.tabIndex=0,t.focus()}},e.prototype.focusOutFromHeader=function(e){if(this.removeFocus(),this.parent.toolbar||this.parent.toolbarTemplate){var t=this.parent.toolbarModule.element,i=this.parent.toolbarModule.getFocusableToolbarItems();e.preventDefault(),i.length>0?i[i.length-1].querySelector(".e-toolbar-item-focus,.e-btn,.e-input").focus():t.focus();return}if(this.parent.allowGrouping&&this.parent.groupSettings.showDropArea){var n=this.parent.groupModule,r=n.getFocusableGroupedItems();e.preventDefault(),r.length>0?r[r.length-1].focus():n.element.focus();return}this.parent.element.classList.contains("e-childgrid")&&(e.preventDefault(),this.parent.element.focus())},e.prototype.allowToPaging=function(e){return"Batch"!==this.parent.editSettings.mode||!this.parent.editSettings.allowAdding||40===e.keyCode},e.prototype.skipOn=function(e){var t=e.target;if(!t)return!1;if(!this.parent.isEdit&&t&&t.closest(".e-unboundcell")&&this.currentInfo.skipAction&&("shiftTab"===e.action&&this.commandColumnFocusElement(t.closest(".e-unboundcell"),!1)===t||"tab"===e.action&&this.commandColumnFocusElement(t.closest(".e-unboundcell"),!0)===t))return this.currentInfo.skipAction=!1;if(this.currentInfo.skipAction||["pageUp","pageDown","altDownArrow"].indexOf(e.action)>-1)return this.clearIndicator(),!0;if(this.parent.allowGrouping){var i=this.parent.groupModule.getFocusableGroupedItems();if((0,U.Cf)(e.target,"e-groupheadercell")&&!(e.target===i[0]&&"shiftTab"===e.action||e.target===i[i.length-1]&&"tab"===e.action))return!0}if(this.parent.toolbar||this.parent.toolbarTemplate){var n=this.parent.toolbarModule.element.querySelectorAll(".e-toolbar-item:not(.e-overlay):not(.e-hidden)");if((0,U.Cf)(e.target,"e-toolbar-item")&&!(n.length>0&&((0,U.Cf)(e.target,"e-toolbar-item")===n[0]&&"shiftTab"===e.action||(0,U.Cf)(e.target,"e-toolbar-item")===n[n.length-1]&&"tab"===e.action)))return!0}var r=(0,y.oq)(t,"th")&&!(0,y.oq)(t,"th").tabIndex;if(e.target.classList.contains("e-filterbaroperator")&&(13===e.keyCode||27===e.keyCode)){var o=(0,y.oq)(e.target,".e-filterbarcell");o.querySelector("input").focus()}var s=this.parent.editSettings.showAddNewRow&&null!==(0,y.oq)(document.activeElement,".e-addedrow");(r&&null!==(0,y.oq)(document.activeElement,".e-filterbarcell")||s)&&this.removeFocus();var a=null!==(0,y.oq)(document.activeElement,".e-filterbarcell");if(this.parent.enableHeaderFocus&&a){var l=this.active.matrix,h=l.current;a=l.matrix[h[0]].lastIndexOf(1)!==h[1]}if(this.parent.isEdit&&("tab"===e.action||"shiftTab"===e.action)&&"Normal"===this.parent.editSettings.mode&&!this.parent.editSettings.showAddNewRow&&!(0,y.le)((0,U.Cf)(t,"e-addedrow"))){var c=this.parent.editModule.formObj.element.querySelectorAll('input:not([type="hidden"],.e-numeric-hidden,.e-disabled), select:not([aria-hidden="true"]), button:not(.e-hide), textarea:not(.e-hide,.e-disabled,[disabled])'),o=t.classList.contains("e-ddl")?t.querySelector("input"):t,p="tab"===e.action&&o===c[c.length-1],d="shiftTab"===e.action&&o===c[0];if(p||d){e.preventDefault();var u=c[p?0:c.length-1];(u=u.parentElement.classList.contains("e-ddl")?u.parentElement:u).focus()}}return"delete"===e.action||"Batch"!==this.parent.editSettings.mode&&(this.parent.isEdit&&(!this.parent.editSettings.showAddNewRow||this.parent.editSettings.showAddNewRow&&(!(0,y.le)(this.parent.element.querySelector(".e-editedrow"))||!(0,y.le)((0,U.Cf)(t,"e-addedrow"))&&!(0,y.le)((0,y.oq)(e.target,"input"))&&!(0,y.le)(document.querySelector(".e-popup-open"))||!(0,y.le)((0,U.Cf)(t,"e-addedrow"))&&t&&!t.querySelector(".e-cancel-icon")&&!(0,y.le)((0,U.Cf)(t,"e-unboundcell"))))||["insert","f2"].indexOf(e.action)>-1)||a&&this.parent.enableHeaderFocus||(a||s)&&"tab"!==e.action&&"shiftTab"!==e.action||null!==(0,y.oq)(document.activeElement,"#"+this.parent.element.id+"_searchbar")&&["enter","leftArrow","rightArrow","shiftLeft","shiftRight","ctrlPlusA"].indexOf(e.action)>-1||null===(0,y.oq)(t,"."+te.ci)&&null===(0,y.oq)(t,"."+te.uD)&&!(e.target===this.parent.element||(0,U.Cf)(e.target,"e-toolbar")||(0,U.Cf)(e.target,"e-groupdroparea"))||"space"===e.action&&!t.classList.contains(te.pM)&&null===(0,y.oq)(t,"."+te.pM)&&null===(0,y.oq)(t,".e-headerchkcelldiv")||null!==(0,y.oq)(t,".e-filter-popup")},e.prototype.focusVirtualElement=function(e){var t=this;if(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling){var i={virtualData:{},isAdd:!1,isCancel:!1};this.parent.notify(Z.Wae,i);var n=this.actions.some(function(e){return e===t.activeKey}),r=!!this.parent.contentModule&&this.parent.contentModule.selectedRowIndex>-1;i.isAdd||Object.keys(i.virtualData).length||n||i.isCancel||r?(this.parent.notify(Z.n7v,{isCancel:!1}),i.isCancel=!1,(!this.parent.enableVirtualization||this.parent.selectVirtualRowOnAdd||e&&(!e||"ctrlHome"===e.action||"ctrlEnd"===e.action))&&this.parent.enableVirtualization||(this.parent.contentModule.selectedRowIndex=-1),this.parent.selectVirtualRowOnAdd=!1,n&&(this.activeKey=this.empty,this.parent.notify("virtaul-key-handler",e)),this.currentInfo.elementToFocus.focus({preventScroll:!0})):this.isVirtualScroll||this.isInfiniteScroll?this.currentInfo.elementToFocus.focus({preventScroll:!0}):this.currentInfo.elementToFocus.focus()}this.isVirtualScroll=this.isInfiniteScroll=!1},e.prototype.getFocusedElement=function(){return this.currentInfo.elementToFocus},e.prototype.getContent=function(){return this.active||this.content},e.prototype.setActive=function(e){this.active=e?this.content:this.header},e.prototype.setFocusedElement=function(e,t){var i=this;this.currentInfo.elementToFocus=e,setTimeout(function(){if(!(0,y.le)(i.currentInfo.elementToFocus)){var e=(0,y.le)(i.parent.element.querySelector(".e-flmenu"))?document.querySelector(".e-grid-popup .e-flmenu"):i.parent.element.querySelector(".e-flmenu");(i.parent.enableVirtualization||i.parent.enableInfiniteScrolling)&&(0,y.le)(e)?i.focusVirtualElement(t):((0,y.le)(e)||(0,U.Cf)(document.activeElement,"e-flmenu-valuediv")!==e.querySelector(".e-flmenu-valuediv"))&&i.currentInfo.elementToFocus.focus()}},0)},e.prototype.focus=function(e){this.parent.notify(Z.oie,e),this.removeFocus(),this.addFocus(this.getContent().getFocusInfo(),e)},e.prototype.removeFocus=function(e){if(this.currentInfo.element){if(this.parent.isReact&&!this.parent.isEdit&&this.currentInfo.element.classList.contains("e-rowcell")&&!this.currentInfo.element.parentElement&&!(this.parent.allowGrouping&&!(0,y.le)(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length)&&this.parent.getRowByIndex(this.prevIndexes.rowIndex)){var t=this.parent.getCellFromIndex(this.prevIndexes.rowIndex,this.prevIndexes.cellIndex);this.currentInfo.element=t||this.currentInfo.element}(0,y.IV)([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focused","e-focus"]),this.currentInfo.element.tabIndex=-1}},e.prototype.addOutline=function(){var e=this.getContent().getFocusInfo();e.element&&((0,y.cn)([e.element],["e-focused"]),(0,y.cn)([e.elementToFocus],["e-focus"]))},e.prototype.focusHeader=function(){this.setActive(!1),this.resetFocus()},e.prototype.focusContent=function(){this.setActive(!0),this.resetFocus()},e.prototype.resetFocus=function(){var e=this.getContent().matrix.get(0,-1,[0,1],null,this.getContent().validator());this.getContent().matrix.select(e[0],e[1]),this.focus()},e.prototype.addFocus=function(e,t){if(this.currentInfo=e,this.currentInfo.outline=e.outline&&(!(0,y.le)(t)||this.isVirtualScroll),this.isInfiniteScroll&&(this.currentInfo.outline=!0),e.element){var i=e.elementToFocus.classList.contains("e-focus");if(!i){this.currentInfo.outline&&(0,y.cn)([e.element],["e-focused"]),(0,y.cn)([e.elementToFocus],["e-focus"]),e.element.tabIndex=0,i||this.setFocusedElement(e.elementToFocus,t),this.parent.notify(Z.C$S,{element:e.elementToFocus,parent:e.element,indexes:this.getContent().matrix.current,byKey:!(0,y.le)(t),byClick:(0,y.le)(t),keyArgs:t,isJump:this.swap.swap,container:this.getContent().getInfo(t),outline:!(0,y.le)(t),swapInfo:this.swap});var n=this.getContent().matrix.current,r=n[0],o=n[1];this.prevIndexes={rowIndex:r,cellIndex:o},this.focusedColumnUid=this.parent.getColumnByIndex(o).uid,this.focusByClick=!1}}},e.prototype.refreshMatrix=function(e){var t=this;return function(i){e&&!t.content&&(t.content=new tW(t.parent)),e||t.header||(t.header=new tK(t.parent));var n,r=e?t.content:t.header,o=t.parent.frozenRows,s=0;if(o&&"Batch"===t.parent.editSettings.mode&&(s=t.parent.getHeaderContent().querySelectorAll(".e-insertedrow").length+t.parent.getHeaderContent().querySelectorAll(".e-hiddenrow").length),!(0,y.le)(t.parent.groupSettings.columns)&&t.parent.groupSettings.columns.length&&o&&e){o=0;for(var a=0;a<i.rows.length&&(o++,i.rows[parseInt(a.toString(),10)].index+1!==t.parent.frozenRows);a++);t.groupedFrozenRow=o}var l=e?i.rows.slice(o+s):i.rows,h=e?i.rows.slice(0,o+s):i.rows;t.parent.isCollapseStateEnabled()&&e&&(l=l.filter(function(e){return!1!==e.visible}));var c=!(0,y.le)(t.parent.rowTemplate);if(o&&("Batch"===t.parent.editSettings.mode&&e&&("batchDelete"===i.name||"batchAdd"===i.name||"batchCancel"===i.name||i.args&&"batchsave"===i.args.requestType)||i.args&&("delete"===i.args.requestType||"save"===i.args.requestType))){var p=t.header.matrix.matrix,d=t.parent.headerModule.rows.length;p.splice(d,p.length-d)}var u=r.matrix.generate(h,r.selector,c);r.matrix.generate(l,r.selector,c);var g=t.parent.enableVirtualization||t.parent.enableInfiniteScrolling;if(t.parent.editSettings.showAddNewRow&&e&&t.header&&t.header.matrix&&(!g||g&&t.parent.isAddNewRow)){var f=t.header.matrix.matrix,m=t.parent.allowFiltering&&"FilterBar"===t.parent.filterSettings.type?2:1;r.matrix.rows=t.parent.frozenRows&&"Top"===t.parent.editSettings.newRowPosition?r.matrix.rows:++r.matrix.rows,"Top"===t.parent.editSettings.newRowPosition?(t.parent.frozenRows||g?u:r.matrix.matrix).unshift(t.refreshAddNewRowMatrix(f[f.length-m])):r.matrix.matrix.push(t.refreshAddNewRowMatrix(f[f.length-m])),t.parent.isAddNewRow=!1}if((!(t.parent.isFrozenGrid()&&i.args&&("sorting"===i.args.requestType||"batchsave"===i.args.requestType||"paging"===i.args.requestType))||o&&"Batch"===t.parent.editSettings.mode&&e&&("batchDelete"===i.name||"batchAdd"===i.name||"batchCancel"===i.name||"batchsave"===i.args.requestType))&&r.generateRows(h,{matrix:u,handlerInstance:t.header}),!y.AR.isDevice&&i&&i.args&&(t.focusByClick||"paging"!==i.args.requestType||t.parent.pagerModule.pagerObj.checkPagerHasFocus()||(t.skipFocus=!1,t.parent.element.focus()),"grouping"===i.args.requestType&&(t.skipFocus=!0)),i&&i.args&&"virtualscroll"===i.args.requestType){if(t.currentInfo.uid){if(i.rows.some(function(e,i){return n=i,e.uid===t.currentInfo.uid})){t.content.matrix.current[0]=n,t.content.matrix.current[1]=t.parent.getColumnIndexByUid(t.focusedColumnUid)||0;var v=t.parent.getVisibleFrozenLeftCount(),S=t.parent.getVisibleFrozenRightCount();t.parent.enableColumnVirtualization&&!(v&&S)&&t.parent.isFrozenGrid()&&"right"===i.args.virtualInfo.direction&&(t.content.matrix.current[1]=t.content.matrix.current[1]-(v+(S?S+1:0)));var C=!!t.parent.allowGrouping&&!!t.parent.groupSettings.columns.length;C&&(t.content.matrix.current[1]=t.prevIndexes.cellIndex,t.virtualSelectionInfo.isPending&&(t.content.matrix.current[0]="downArrow"===t.virtualSelectionInfo.direction?t.content.matrix.current[0]+1:t.content.matrix.current[0]-1));var b=t.getContent().getFocusInfo().elementToFocus;if(b){var w=b.getBoundingClientRect(),I=t.parent.element.getBoundingClientRect(),x=0,R=0;t.parent.enableColumnVirtualization&&!(v&&S)&&t.parent.isFrozenGrid()&&"right"===i.args.virtualInfo.direction&&(v?x=t.parent.leftrightColumnWidth("left"):R=t.parent.leftrightColumnWidth("right")),(w.top>=0&&w.left>=0&&w.right-x-R<=Math.min(I.right,window.innerWidth||document.documentElement.clientWidth)+R&&w.bottom<=Math.min(I.bottom,window.innerHeight||document.documentElement.clientHeight)||C)&&(t.isVirtualScroll=!0,t.focus(C&&t.virtualSelectionInfo.isPending?t.virtualSelectionInfo.event:void 0))}}}else if(i.args.focusElement&&i.args.focusElement.classList.contains("e-filtertext")){var b=t.parent.element.querySelector("#"+i.args.focusElement.id);b&&b.focus()}t.virtualSelectionInfo={}}i&&i.args&&"infiniteScroll"===i.args.requestType&&(t.isInfiniteScroll=!0)}},e.prototype.refreshAddNewRowMatrix=function(e){for(var t=this.parent.getColumns(),i=this.parent.getIndentCount(),n=i;n<e.length-1;n++)t[n-i]&&t[n-i].visible&&t[n-i].allowEditing?e[parseInt(n.toString(),10)]=1:e[parseInt(n.toString(),10)]=0;return e},e.prototype.addEventListener=function(){var e=this;this.parent.isDestroyed||(y.bi.add(this.parent.element,"mousedown",this.focusCheck,this),y.bi.add(this.parent.element,"touchstart",this.focusCheck,this),y.bi.add(this.parent.element,"focus",this.onFocus,this),this.parent.element.addEventListener("focus",this.passiveHandler=function(t){return e.passiveFocus(t)},!0),y.bi.add(this.parent.element,"focusout",this.onBlur,this),this.evtHandlers=[{event:Z.$G9,handler:this.onKeyPress},{event:Z.V4S,handler:this.onClick},{event:Z.GEE,handler:this.refMatrix},{event:Z.SOw,handler:this.refMatrix},{event:Z.YwE,handler:this.refMatrix},{event:Z.zeS,handler:this.showAddNewRowFocus},{event:Z.lxn,handler:this.refreshMatrix()},{event:Z.F20,handler:this.restoreFocus},{event:Z.vg7,handler:this.restoreFocus},{event:"start-edit",handler:this.clearIndicator},{event:"start-add",handler:this.clearIndicator},{event:"sorting-complete",handler:this.restoreFocus},{event:"filtering-complete",handler:this.filterfocus},{event:"custom-filter-close",handler:this.filterfocus},{event:"grouping-complete",handler:this.restoreFocusWithAction},{event:"ungrouping-complete",handler:this.restoreFocusWithAction},{event:Z.P26,handler:this.refMatrix},{event:Z.vCA,handler:this.refMatrix},{event:Z.Hm1,handler:this.refMatrix},{event:Z.VPT,handler:this.refMatrix},{event:Z.c$N,handler:this.refMatrix},{event:Z.C$S,handler:this.internalCellFocus}],(0,U.aL)(this.parent,this.evtHandlers,!0,this))},e.prototype.showAddNewRowFocus=function(){if(this.parent.editSettings.showAddNewRow){var e="Top"===this.parent.editSettings.newRowPosition?0:this.content.matrix.matrix.length-1,t=this.parent.getIndentCount();if("Top"===this.parent.editSettings.newRowPosition&&(this.parent.frozenRows||this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)){var i=this.header.matrix.matrix.length-(this.groupedFrozenRow?this.groupedFrozenRow:this.parent.frozenRows);t=this.findNextCellFocus(this.header.matrix.matrix[i-1],t),this.header.matrix.current=[i-1,t],this.active=this.header}else t=this.findNextCellFocus(this.content.matrix.matrix[parseInt(e.toString(),10)],t),this.content.matrix.current=[e,t],this.active=this.content;var n=this.parent.element.querySelector(".e-addedrow");n&&n.querySelectorAll("tr")&&n.querySelector("tr").cells[parseInt(t.toString(),10)].querySelector("input")&&n.querySelector("tr").cells[parseInt(t.toString(),10)].querySelector("input").select()}},e.prototype.findNextCellFocus=function(e,t){for(var i=t;i<e.length;i++)if(1===e[parseInt(i.toString(),10)])return i;return t},e.prototype.filterfocus=function(){"FilterBar"!==this.parent.filterSettings.type&&(this.removeFocus(),this.restoreFocus())},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(y.bi.remove(this.parent.element,"mousedown",this.focusCheck),y.bi.remove(this.parent.element,"touchstart",this.focusCheck),y.bi.remove(this.parent.element,"focus",this.onFocus),y.bi.remove(this.parent.element,"focusout",this.onBlur),this.parent.element.removeEventListener("focus",this.passiveHandler,!0),(0,U.aL)(this.parent,this.evtHandlers,!1))},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.restoreFocus=function(e){if(!(e&&"sorting"===e.requestType&&(0,y.le)(e.target))){var t=this.parent.groupModule;if(this.parent.allowGrouping&&t&&(t.groupSortFocus||t.groupTextFocus)){t.groupSortFocus=!1,t.groupTextFocus=!1;return}this.firstHeaderCellClick=!0,this.addFocus(this.getContent().getFocusInfo());var i=this.getContent().getFocusInfo();e&&["add","save","delete","cancel","batchsave","batchDelete","batchCancel"].indexOf(e.requestType)>-1&&i&&i.elementToFocus&&i.elementToFocus.matches(".e-rowcell.e-focus")&&(0,y.cn)([i.elementToFocus],["e-focused","e-focus"])}},e.prototype.restoreFocusWithAction=function(e){if(!this.parent.enableInfiniteScrolling&&!(this.parent.groupModule&&this.parent.groupModule.preventFocusOnGroup)){var t=this.getContent().matrix,i=t.current;switch(e.requestType){case"grouping":case"ungrouping":i[1]=!i.length||this.parent.groupSettings.showGroupedColumn||(0,y.le)(t.matrix[i[0]])?"grouping"===e.requestType?i[1]+1:i[1]-1:t.matrix[i[0]].indexOf(1)}this.getContent().matrix.current=i,this.prevIndexes={rowIndex:i[0],cellIndex:i[1]};var n=this.parent.groupModule;if(this.parent.allowGrouping&&n&&n.groupCancelFocus){var r=n.getFocusableGroupedItems();r.length?r[0].parentElement.getAttribute("ej-mappingname")===e.columnName?r[3].focus():r[0].focus():n.element.focus(),n.groupCancelFocus=!1;return}this.addFocus(this.getContent().getFocusInfo())}},e.prototype.clearIndicator=function(){this.currentInfo.element&&this.currentInfo.elementToFocus&&(0,y.IV)([this.currentInfo.element,this.currentInfo.elementToFocus],["e-focus","e-focused"])},e.prototype.getPrevIndexes=function(){var e=this.forget;return this.forget=!1,e||!Object.keys(this.prevIndexes).length?{rowIndex:null,cellIndex:null}:this.prevIndexes},e.prototype.forgetPrevious=function(){this.forget=!0},e.prototype.setActiveByKey=function(e,t){if(0!==this.parent.frozenRows){var i,n={home:function(){return{toHeader:!i.isContent,toFrozen:!0}},end:function(){return{toHeader:!i.isContent,toFrozen:!1}},ctrlHome:function(){return{toHeader:!0,toFrozen:!1}},ctrlEnd:function(){return{toHeader:!1,toFrozen:!1}}};if(e in n){i=t.getInfo();var r=n[""+e]();this.setActive(!r.toHeader),this.getContent().matrix.current=t.matrix.current}}},e.prototype.internalCellFocus=function(e){var t;e.byKey&&e.container.isContent&&("enter"===e.keyArgs.action&&e.parent.classList.contains("e-detailcell")||("tab"===e.keyArgs.action||"shiftTab"===e.keyArgs.action)&&e.parent.classList.contains("e-unboundcell"))&&(this.clearIndicator(),t=e.parent&&e.parent.closest(".e-unboundcell")&&"shiftTab"===e.keyArgs.action?this.commandColumnFocusElement(e.parent,!0):this.getContent().getFocusable(this.getFocusedElement()),this.setFocusedElement(t),this.currentInfo.skipAction=!0)},e.prototype.commandColumnFocusElement=function(e,t){var i=e.querySelectorAll("button:not(.e-hide)");return t?i[i.length-1]:i[0]},e}(),tG=function(){function e(){this.matrix=[],this.current=[]}return e.prototype.set=function(e,t,i){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.columns)),this.matrix[parseInt(e.toString(),10)]=this.matrix[parseInt(e.toString(),10)]||[],this.matrix[parseInt(e.toString(),10)][parseInt(t.toString(),10)]=i?1:0},e.prototype.get=function(e,t,i,n,r,o){var s,a=t;if(e+i[0]<0)return[e,t];e=Math.max(0,Math.min(e+i[0],this.rows));var l=!0;if((0,y.le)(this.matrix[parseInt(e.toString(),10)]))return null;if(t=Math.max(0,Math.min(t+i[1],this.matrix[parseInt(e.toString(),10)].length-1)),a+i[1]>this.matrix[parseInt(e.toString(),10)].length-1&&r(e,t,n))return[e,a];var h=this.first(this.matrix[parseInt(e.toString(),10)],t,i,!0,n);t=null===h?a:h;var c=(0,y.NA)(e+"."+t,this.matrix);if(e===this.rows&&("downArrow"===n||"enter"===n)&&(i[0]=-1),o){var p=this.getRowsFromIndex(e,o);s=(0,y.NA)(e+".cells."+t,p)}if(s&&0===s.getBoundingClientRect().width){var d=this.nextVisibleCellFocus(e,t,n,i,o,a);e=d[0],t=d[1]}if(null===h){for(var u=0;u<this.rows;u++)if(this.matrix[parseInt(u.toString(),10)].some(function(e){return 1===e})){l=!1;break}if(l)return[e=this.current.length?this.current[0]:0,t]}return this.inValid(c)||!r(e,t,n)?this.get(e,a,i,n,r):[e,t]},e.prototype.getRowsFromIndex=function(e,t){return t.getTable().rows[parseInt(e.toString(),10)].classList.contains("e-addedrow")?t.getTable().rows[parseInt(e.toString(),10)].querySelector("table").rows:t.getTable().rows},e.prototype.nextVisibleCellFocus=function(e,t,i,n,r,o){var s=this.getRowsFromIndex(e,r),a=(0,y.NA)(e+".cells."+t,s),l=r.matrix.matrix,h=l.length-1,c="tab"===i,p="shiftTab"===i;if("enter"===i||"shiftEnter"===i||"downArrow"===i||"upArrow"===i)return[e,t];for(;a&&0===a.getBoundingClientRect().width;){if(c&&e===h&&t===l[parseInt(e.toString(),10)].lastIndexOf(1)||p&&0===e&&t===l[parseInt(e.toString(),10)].indexOf(1)){t=o;break}c?t===l[parseInt(e.toString(),10)].lastIndexOf(1)?(e++,t=l[parseInt(e.toString(),10)].indexOf(1),t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i),s=this.getRowsFromIndex(e,r)):(t++,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):p?t===l[parseInt(e.toString(),10)].indexOf(1)?(e--,t=l[parseInt(e.toString(),10)].lastIndexOf(1),t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i),s=this.getRowsFromIndex(e,r)):(t--,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):"rightArrow"===i||"shiftRight"===i?t===l[parseInt(e.toString(),10)].lastIndexOf(1)?t=o:(t++,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):"leftArrow"===i||"shiftLeft"===i?t===l[parseInt(e.toString(),10)].indexOf(1)?t=o:(t--,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)):null===i&&(t++,t=this.first(this.matrix[parseInt(e.toString(),10)],t,n,!0,i)),a=(0,y.NA)(e+".cells."+t,s)}return[e,t]},e.prototype.first=function(e,t,i,n,r){return(t<0||t===e.length)&&this.inValid(e[parseInt(t.toString(),10)])&&"upArrow"!==r&&"downArrow"!==r||!e.some(function(e){return 1===e})?null:this.inValid(e[parseInt(t.toString(),10)])?this.first(e,-1!==["upArrow","downArrow","shiftUp","shiftDown","enter","shiftEnter"].indexOf(r)?n?0:++t:t+i[1],i,!1,r):t},e.prototype.select=function(e,t){e=Math.max(0,Math.min(e,this.rows)),t=Math.max(0,Math.min(t,this.matrix[parseInt(e.toString(),10)].length-1)),this.current=[e,t]},e.prototype.generate=function(e,t,i){this.rows=e.length-1,this.matrix=[];for(var n=0;n<e.length;n++){var r=e[parseInt(n.toString(),10)].cells.filter(function(e){return!0!==e.isSpanned});this.columns=Math.max(r.length-1,0|this.columns);for(var o=0,s=0;s<r.length;s++)r[parseInt(s.toString(),10)].column&&r[parseInt(s.toString(),10)].column.columns?o=this.columnsCount(r[parseInt(s.toString(),10)].column.columns,o):o++,this.set(n,s,!1!==e[parseInt(n.toString(),10)].visible&&t(e[parseInt(n.toString(),10)],r[parseInt(s.toString(),10)],i));this.columns=Math.max(o-1,0|this.columns)}return this.matrix},e.prototype.columnsCount=function(e,t){for(var i=t,n=0;n<e.length;n++)e[parseInt(n.toString(),10)].columns?i=this.columnsCount(e[parseInt(n.toString(),10)].columns,i):i++;return i},e.prototype.inValid=function(e){return 0===e||void 0===e},e}(),tW=function(){function e(e){var t=this;this.matrix=new tG,this.lastIdxCell=!1,this.parent=e,this.keyActions={rightArrow:[0,1],tab:[0,1],leftArrow:[0,-1],shiftTab:[0,-1],upArrow:[-1,0],downArrow:[1,0],shiftUp:[-1,0],shiftDown:[1,0],shiftRight:[0,1],shiftLeft:[0,-1],enter:[1,0],shiftEnter:[-1,0]},this.indexesByKey=function(e){return({home:[t.matrix.current[0],-1,0,1],end:[t.matrix.current[0],t.matrix.columns+1,0,-1],ctrlHome:[0,-1,0,1],ctrlEnd:[t.matrix.rows,t.matrix.columns+1,0,-1]})[""+e]||null}}return e.prototype.getTable=function(){return this.parent.getContentTable()},e.prototype.onKeyPress=function(e){if(/(Mac)/i.test(navigator.platform)&&e.metaKey){if("home"===e.action)e.action="ctrlHome";else if("end"===e.action)e.action="ctrlEnd";else if(-1!==["downArrow","upArrow","leftArrow","rightArrow"].indexOf(e.action))return}var t=this.keyActions[e.action],i=this.getCurrentFromAction(e.action,t,e.action in this.keyActions,e);if(i){if((["tab","shiftTab"].indexOf(e.action)>-1&&this.matrix.current||[]).toString()===i.toString()||this.parent.allowPaging&&!this.parent.pagerModule.pagerObj.checkPagerHasFocus()&&this.matrix.current[0]===this.matrix.rows&&("Batch"===this.parent.editSettings.mode&&this.parent.editSettings.allowAdding&&40===e.keyCode||40===e.keyCode)){if(i.toString()===[this.matrix.rows,this.matrix.columns].toString()||i.toString()===[0,0].toString()||this.matrix.current[0]===this.matrix.rows&&this.matrix.current.toString()===i.toString()||this.parent.allowGrouping&&this.parent.infiniteScrollSettings.enableCache&&i.toString()===[0,1].toString())return!1;i=this.editNextRow(i[0],i[1],e.action)}this.matrix.select(i[0],i[1])}},e.prototype.editNextRow=function(e,t,i){var n=this.parent,r=n.editSettings.allowNextRowEdit&&(n.isEdit||n.isLastCellPrimaryKey),o=n.getColumnIndexByField(n.getVisibleColumns()[0].field),s=this.getTable().rows[parseInt(e.toString(),10)],a=n.editSettings.showAddNewRow&&s.classList.contains("e-addedrow")?s.querySelectorAll("td:not(.e-editcell)")[parseInt(t.toString(),10)]:s.cells[parseInt(t.toString(),10)];return"tab"===i&&r&&(e++,t=o+(this.getTable().rows[parseInt(e.toString(),10)].getElementsByClassName("e-indentcell").length+this.getTable().rows[parseInt(e.toString(),10)].getElementsByClassName("e-detailrowcollapse").length)),"shiftTab"===i&&r&&(e--,t=n.getColumnIndexByField(n.getVisibleColumns()[n.getVisibleColumns().length-1].field)),a.classList.contains(te.PO)||a.classList.contains("e-headercell")||a.classList.contains("e-groupcaption")||a.classList.contains("e-filterbarcell")?[e,t]:this.editNextRow(e,t,i)},e.prototype.getCurrentFromAction=function(e,t,i,n){if(void 0===t&&(t=[0,0]),!i&&!this.indexesByKey(e)||0===this.matrix.current.length)return null;if(!this.shouldFocusChange(n))return this.matrix.current;var r=this.indexesByKey(e)||this.matrix.current.concat(t),o=r[0],s=r[1],a=r[2],l=r[3];if(this.parent.allowGrouping&&!(0,y.le)(this.parent.groupSettings.columns)&&this.parent.groupSettings.columns.length&&this.parent.aggregates.length&&"enter"===e)for(var h=o;h<this.matrix.matrix.length;h++){var c=this.getTable().rows[h+1];if(c&&c.cells[parseInt(s.toString(),10)]&&c.cells[parseInt(s.toString(),10)].classList.contains("e-rowcell"))return[h+1,s];if(h===this.matrix.matrix.length-1)return[o,s]}if("ctrlEnd"===e||"end"===e){var p=[this.matrix.matrix.length-1,this.matrix.matrix[this.matrix.matrix.length-1].length-1];"end"===e&&(p=[o,this.matrix.matrix[parseInt(o.toString(),10)].length-1]),0===this.matrix.matrix[p[0]][p[1]]&&(p=(0,U.WJ)(this.matrix.matrix,p,!1)),o=p[0],s=p[1]+1}return this.matrix.get(o,s,[a,l],e,this.validator(),this)},e.prototype.checkRowCellFocus=function(e){return!e.classList.contains(te.PO)||e.classList.contains("e-focused")},e.prototype.onClick=function(e,t){var i=e.target;if(this.target=i,i=(i=i.classList.contains(te.PO)?i:(0,y.oq)(i,"td"))||(0,y.oq)(e.target,"td.e-detailrowcollapse")||(0,y.oq)(e.target,"td.e-detailrowexpand"),!(i=(i=(0,y.oq)(e.target,"td.e-detailcell")&&(0,y.le)((0,y.oq)((0,y.oq)(e.target,".e-grid"),"td.e-detailcell"))?null:i)&&(0,y.oq)(i,"table").classList.contains(te.Kz)?i:null))return!1;var n=i.parentElement.rowIndex;this.parent.editSettings.showAddNewRow&&(0,U.Cf)(i,"e-addedrow")&&(n=(0,U.Cf)(i,"e-addedrow").rowIndex);var r=[n,i.cellIndex],o=r[0],s=r[1],a=this.matrix.current,l=a[0],h=a[1],c=(0,y.NA)(o+"."+s,this.matrix.matrix);if(this.matrix.inValid(c)||!t&&l===o&&h===s&&this.checkRowCellFocus(i)||!(0,U.Cf)(e.target,te.PO)&&!(0,U.Cf)(e.target,"e-groupcaption")&&!(0,U.Cf)(e.target,"e-recordpluscollapse")&&!(0,U.Cf)(e.target,"e-recordplusexpand")&&!(0,U.Cf)(e.target,"e-detailrowcollapse")&&!(0,U.Cf)(e.target,"e-detailrowexpand")&&!(0,U.Cf)(e.target,"e-templatecell"))return!1;this.matrix.select(o,s)},e.prototype.getFocusInfo=function(){var e={},t=this.matrix.current,i=t[0],n=void 0===i?0:i,r=t[1],o=void 0===r?0:r;this.matrix.current=[n,o];var s=this.getTable().rows[parseInt(n.toString(),10)];return e.element=(0,y.le)(s)?null:this.parent.editSettings.showAddNewRow&&s.classList.contains("e-addedrow")?s.querySelectorAll("td:not(.e-editcell)")[parseInt(o.toString(),10)]:s.cells[parseInt(o.toString(),10)],e.element&&(e.elementToFocus=(!e.element.classList.contains("e-unboundcell")||this.parent.editSettings.showAddNewRow&&e.element.classList.contains("e-unboundcell")&&(0,U.Cf)(e.element,"e-addedrow"))&&!e.element.classList.contains("e-detailcell")?this.getFocusable(e.element):e.element,e.elementToFocus=e.element.classList.contains("e-detailcell")&&e.element.querySelector(".e-childgrid")?e.element.querySelector(".e-childgrid"):e.elementToFocus,"Batch"===this.parent.editSettings.mode&&this.parent.isEdit&&"input"===e.elementToFocus.tagName.toLowerCase()&&e.elementToFocus.classList.contains("e-dropdownlist")&&(e.elementToFocus=e.elementToFocus.parentElement),e.outline=!0,e.uid=e.element.parentElement.getAttribute("data-uid")),e},e.prototype.getFocusable=function(e){var t='button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])',i=!(0,y.le)((0,y.oq)(e,".e-templatecell"));this.parent.isEdit&&(t='input:not([type="hidden"]), select:not([aria-hidden="true"]), textarea'+(this.parent.editSettings.showAddNewRow&&(0,U.Cf)(e,"e-addedrow")?", button:not(.e-hide)":""));var n=[].slice.call(e.querySelectorAll(t));if(e.classList.contains("e-fltrtemp")){var r=[].slice.call(e.querySelectorAll(".e-fltrtemp-focus"));if("click"===this.focusType&&this.target&&this.target.classList.contains("e-fltrtemp-focus"))return this.target;if("key"===this.focusType&&r.length&&("tab"===this.action||"shiftTab"===this.action)){var o=r.indexOf(this.currentTarget);return -1===o?r["tab"===this.action?0:r.length-1]:r["tab"===this.action?o+1:o-1]}}return n.length?i&&n.length>1&&!("Batch"===this.parent.editSettings.mode&&this.parent.isEdit&&this.target)?this.target?this.target:e:n[0]:e},e.prototype.selector=function(e,t,i){var r=[n.Expand,n.GroupCaption,n.CaptionSummary,n.GroupSummary];return(e.isDataRow&&t.visible&&(t.isDataCell||t.isTemplate)||e.isDataRow&&t.cellType===n.DetailExpand&&(0,y.le)(t.visible)||!e.isDataRow&&r.indexOf(t.cellType)>-1&&!((t.cellType===n.GroupSummary||t.cellType===n.CaptionSummary)&&!(t.isDataCell&&t.visible))||t.column&&t.visible&&"checkbox"===t.column.type||t.cellType===n.CommandColumn||e.isDataRow&&i)&&!("delete"===e.edit&&e.isDirty)},e.prototype.nextRowFocusValidate=function(e){for(var t=e,i=e,n=this.matrix.rows;i<=n;i++){if(-1!==this.matrix.matrix[parseInt(e.toString(),10)].indexOf(1))return e;e+=1}return this.lastIdxCell=!0,t},e.prototype.previousRowFocusValidate=function(e){for(var t=e,i=e;i>=0;i--){if(-1!==this.matrix.matrix[parseInt(e.toString(),10)].indexOf(1))return e;if((e-=1)<0){this.lastIdxCell=!0;break}}return t},e.prototype.jump=function(e,t){this.lastIdxCell=!1;var i=0!==this.parent.frozenRows&&"shiftEnter"===e,n=("upArrow"===e||i)&&0===t[0];this.matrix.matrix[t[0]]&&"tab"===e&&this.matrix.matrix.length&&t[1]===this.matrix.matrix[t[0]].lastIndexOf(1)&&this.matrix.matrix.length-1!==t[0]&&(this.matrix.current[0]=this.nextRowFocusValidate(this.matrix.current[0]+1),this.matrix.current[1]=-1),"shiftTab"===e&&0!==t[0]&&this.matrix.matrix[t[0]].indexOf(1)===t[1]&&(this.matrix.current[0]=this.previousRowFocusValidate(this.matrix.current[0]-1),this.matrix.current[1]=this.matrix.matrix[t[0]].length);var r=!1,o=(0,U.Cf)(document.activeElement,"e-addedrow")&&this.parent.editSettings.showAddNewRow?(0,U.Cf)(document.activeElement,"e-addedrow"):document.activeElement.parentElement;return(this.parent.enableVirtualization||this.parent.infiniteScrollSettings.enableCache)&&!(0,y.le)(o)&&o.classList.contains(te.O7)&&(r=parseInt(o.getAttribute(te._x),10)-1>0),{swap:!r&&("upArrow"===e||i)&&0===t[0],toHeader:n}},e.prototype.getNextCurrent=function(e,t,i,n){void 0===e&&(e=[]);var r=[];return("rightArrow"===n||"tab"===n)&&(r[0]=e[0],r[1]=-1),("downArrow"===n||"enter"===n)&&(r[0]=-1,r[1]=e[1]),r},e.prototype.generateRows=function(e,t){var i,n=t.matrix,r=t.handlerInstance,o=r.matrix.matrix.length,s=this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type?o+1:o;r.matrix.matrix=r.matrix.matrix.slice(0,s),r.matrix.rows=s,(i=r.matrix.matrix).push.apply(i,n),r.matrix.rows+=n.length},e.prototype.getInfo=function(e){var t=this.getFocusInfo(),i=this.matrix.current,n=i[0],r=i[1],o=t.element.classList.contains(te.PO),s=o||e&&"enter"!==e.action&&(t.element.classList.contains("e-detailrowcollapse")||t.element.classList.contains("e-detailrowexpand")),a=[Math.min(parseInt(t.element.parentElement.getAttribute(te._x),10)-1,n),Math.min(parseInt(t.element.getAttribute(te.qc),10)-1,r)],l=a[0],h=a[1];return this.parent.allowGrouping&&this.parent.groupSettings.enableLazyLoading&&o&&(l=this.parent.getDataRows().indexOf(t.element.parentElement)),this.parent.enableVirtualization&&this.parent.groupSettings.columns.length&&(l=n,h=r),this.parent.editSettings.showAddNewRow&&"Top"===this.parent.editSettings.newRowPosition&&!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&e&&"downArrow"===e.action&&l++,{isContent:!0,isDataCell:o,indexes:[l,h],isSelectable:s}},e.prototype.validator=function(){var e=this.getTable();return function(t,i,n){if(!(0,y.le)(e.rows[parseInt(t.toString(),10)])){var r=void 0;i=e.querySelector(".e-emptyrow")?0:i;var o=0!==(r=e.rows[parseInt(t.toString(),10)].cells[0].classList.contains("e-editcell")?e.rows[parseInt(t.toString(),10)].cells[0].querySelectorAll("td")[parseInt(i.toString(),10)]:e.rows[parseInt(t.toString(),10)].cells[parseInt(i.toString(),10)]).getBoundingClientRect().width;if("enter"===n||"shiftEnter"===n)return o&&r.classList.contains(te.PO);if(("shiftUp"===n||"shiftDown"===n)&&r.classList.contains(te.PO)||"shiftUp"!==n&&"shiftDown"!==n)return o}return!1}},e.prototype.shouldFocusChange=function(e){var t=this.matrix.current,i=t[0],n=void 0===i?-1:i,r=t[1],o=void 0===r?-1:r;if(n<0||o<0)return!0;var s=(0,y.NA)(n+".cells."+o,this.getTable().rows);return!s||"enter"!==e.action&&"shiftEnter"!==e.action||s.classList.contains(te.PO)&&!s.classList.contains("e-unboundcell")||s.classList.contains("e-editedbatchcell")&&!s.classList.contains("e-detailcell")},e.prototype.getGridSeletion=function(){return this.parent.allowSelection&&this.parent.selectionSettings.allowColumnSelection},e}(),tK=function(e){function t(t){return e.call(this,t)||this}return tj(t,e),t.prototype.getTable=function(){return this.parent.getHeaderTable()},t.prototype.onClick=function(e){this.focusType="click";var t=e.target;if(this.target=t,!(t=t.classList.contains("e-headercell")?t:(0,y.oq)(t,"th"))&&(0!==this.parent.frozenRows||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.parent.editSettings.showAddNewRow)&&(t=e.target.classList.contains(te.PO)?e.target:(0,y.oq)(e.target,"td")),e.target.classList.contains("e-columnheader")||e.target.querySelector(".e-stackedheadercell"))return!1;if(t){var i=t.parentElement.rowIndex;this.parent.editSettings.showAddNewRow&&(0,U.Cf)(t,"e-addedrow")&&(i=(0,U.Cf)(t,"e-addedrow").rowIndex);var n=[i,t.cellIndex],r=n[0],o=n[1],s=(0,y.NA)(r+"."+o,this.matrix.matrix);if(this.matrix.inValid(s))return!1;this.matrix.select(i,t.cellIndex)}},t.prototype.getFocusInfo=function(){var e={},t=this.matrix.current,i=t[0],n=t[1],r=void 0===n?0:n,o=this.getTable().rows[parseInt((void 0===i?0:i).toString(),10)];return e.element=(0,y.le)(o)?null:this.parent.editSettings.showAddNewRow&&o.classList.contains("e-addedrow")?o.querySelectorAll("td:not(.e-editcell)")[parseInt(r.toString(),10)]:o.cells[parseInt(r.toString(),10)],(0,y.le)(e.element)||(e.elementToFocus=this.getFocusable(e.element),e.outline=!e.element.classList.contains("e-filterbarcell")),e},t.prototype.selector=function(e,t){return t.visible&&(void 0!==t.column.field||t.isTemplate||!(0,y.le)(t.column.template)||!(0,y.le)(t.column.commands)||"checkbox"===t.column.type)||t.cellType===n.StackedHeader},t.prototype.jump=function(e,t){var i,n,r=0!==this.parent.frozenRows&&"enter"===e;return this.parent.enableHeaderFocus&&"tab"===e&&(n=this.matrix.matrix.length-1===t[0],(i=t[1]===this.matrix.matrix[t[0]].lastIndexOf(1))&&(n?this.matrix.current[0]=0:this.matrix.current[0]=this.matrix.current[0]+1,this.matrix.current[1]=-1)),{swap:("downArrow"===e||r)&&t[0]===this.matrix.matrix.length-1||"tab"===e&&n&&i}},t.prototype.getNextCurrent=function(e,t,i,n){void 0===e&&(e=[]);var r=[];return("rightArrow"===n||"shiftRight"===n&&this.getGridSeletion()||"tab"===n)&&(r[0]=e[0],r[1]=-1),("upArrow"===n||"shiftEnter"===n)&&(r[0]=this.matrix.matrix.length,r[1]=e[1]),r},t.prototype.generateRows=function(e){var t=this.matrix.matrix.length;if(this.parent.allowFiltering&&"FilterBar"===this.parent.filterSettings.type){this.matrix.rows=++this.matrix.rows;for(var i=e[0].cells,n=0,r=0;r<i.length;r++)i[parseInt(r.toString(),10)].column&&i[parseInt(r.toString(),10)].column.columns?n=this.checkFilterColumn(i[parseInt(r.toString(),10)].column.columns,t,n):(this.matrix.set(t,n,i[parseInt(r.toString(),10)].visible&&!1!==i[parseInt(r.toString(),10)].column.allowFiltering),n++)}},t.prototype.checkFilterColumn=function(e,t,i){for(var n=i,r=0;r<e.length;r++)e[parseInt(r.toString(),10)].columns?n=this.checkFilterColumn(e[parseInt(r.toString(),10)].columns,t,n):(this.matrix.set(t,n,e[parseInt(r.toString(),10)].visible&&!1!==e[parseInt(r.toString(),10)].allowFiltering),n++);return n},t.prototype.getInfo=function(t){return(0,y.l7)(e.prototype.getInfo.call(this,t),{isContent:!1,isHeader:!0})},t.prototype.validator=function(){return function(){return!0}},t.prototype.shouldFocusChange=function(e){var t=this.matrix.current,i=t[0],n=t[1];if(i<0||n<0)return!0;var r=(0,y.NA)(i+".cells."+n,this.getTable().rows);return!r||"enter"!==e.action&&"altDownArrow"!==e.action||!r.classList.contains("e-headercell")},t.prototype.getHeaderType=function(){return"HeaderFocus"},t}(tW);(function(){function e(e,t){this.searchBox=e,this.serviceLocator=t,this.l10n=this.serviceLocator.getService("localization")}e.prototype.searchFocus=function(e){if(e.target.parentElement.classList.add("e-input-focus"),e.target.classList.contains("e-input")&&e.target.classList.contains("e-search")&&e.target.value){var t=e.target.parentElement.querySelector(".e-sicon");t.classList.add("e-clear-icon"),t.setAttribute("title",this.l10n.getConstant("Clear")),t.style.cursor="pointer"}},e.prototype.searchBlur=function(e){var t=e.relatedTarget?e.relatedTarget:null;if(t&&t.classList.contains("e-sicon")?t.classList.contains("e-clear-icon")&&e.target.parentElement.classList.remove("e-input-focus"):e.target.parentElement.classList.remove("e-input-focus"),e.target.classList.contains("e-search")&&(t&&!t.classList.contains("e-sicon e-clear-icon")&&!t.classList.contains("e-sicon")||(0,y.le)(t))){var i=e.target.parentElement.querySelector(".e-sicon");i.classList.remove("e-clear-icon"),i.removeAttribute("title"),i.style.cursor="default"}},e.prototype.wireEvent=function(){this.searchBox&&(y.bi.add(this.searchBox,"focus",this.searchFocus,this),y.bi.add(this.searchBox,"blur",this.searchBlur,this))},e.prototype.unWireEvent=function(){this.searchBox&&(y.bi.remove(this.searchBox,"focus",this.searchFocus),y.bi.remove(this.searchBox,"blur",this.searchBlur))}})();var tU=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tZ=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},tY=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tU(t,e),tZ([(0,y.Z9)(12)],t.prototype,"pageSize",void 0),tZ([(0,y.Z9)(8)],t.prototype,"pageCount",void 0),tZ([(0,y.Z9)(1)],t.prototype,"currentPage",void 0),tZ([(0,y.Z9)()],t.prototype,"totalRecordsCount",void 0),tZ([(0,y.Z9)(!1)],t.prototype,"enableQueryString",void 0),tZ([(0,y.Z9)(!1)],t.prototype,"pageSizes",void 0),tZ([(0,y.Z9)(null)],t.prototype,"template",void 0),t}(y.rt),tQ=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),tX=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},t$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tQ(t,e),tX([(0,y.Z9)("startsWith")],t.prototype,"operator",void 0),tX([(0,y.Z9)(!1)],t.prototype,"ignoreAccent",void 0),tX([(0,y.Z9)(null)],t.prototype,"headerTemplate",void 0),tX([(0,y.Z9)(null)],t.prototype,"template",void 0),tX([(0,y.Z9)(null)],t.prototype,"footerTemplate",void 0),tX([(0,y.Z9)(!0)],t.prototype,"enableSearching",void 0),tX([(0,y.Z9)(null)],t.prototype,"renderCustomColumnChooser",void 0),t}(y.rt),tJ=function(){function e(e,t,i){this.selectedRowIndexes=[],this.selectedRowCellIndexes=[],this.selectedRecords=[],this.preventFocus=!1,this.selectedColumnsIndexes=[],this.checkBoxState=!1,this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1,this.isMultiCtrlRequestCell=!1,this.enableSelectMultiTouch=!1,this.clearRowCheck=!1,this.selectRowCheck=!1,this.selectedRowState={},this.unSelectedRowState={},this.totalRecordsCount=0,this.chkAllCollec=[],this.isCheckedOnAdd=!1,this.persistSelectedData=[],this.virtualSelectedData=[],this.deSelectedData=[],this.isHdrSelectAllClicked=!1,this.needColumnSelection=!1,this.isCancelDeSelect=!1,this.isPreventCellSelect=!1,this.disableUI=!1,this.isPersisted=!1,this.cmdKeyPressed=!1,this.cellselected=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.initialRowSelection=!1,this.isPrevRowSelection=!1,this.isKeyAction=!1,this.isRowDragSelected=!1,this.isPartialSelection=!1,this.rmtHdrChkbxClicked=!1,this.isCheckboxReset=!1,this.isRowDeselect=!1,this.autoFillRLselection=!0,this.isFocusLastCell=!1,this.bottom="0 0 2px 0",this.top="2px 0 0 0",this.right_bottom="0 2px 2px 0",this.bottom_left="0 0 2px 2px",this.top_right="2px 2px 0 0",this.top_left="2px 0 0 2px",this.top_bottom="2px 0 2px 0",this.top_right_bottom="2px 2px 2px 0",this.top_bottom_left="2px 0 2px 2px",this.top_right_left="2px 2px 0 2px",this.right_bottom_left="0 2px 2px 2px",this.all_border="2px",this.parent=e,this.selectionSettings=t,this.factory=i.getService("rendererFactory"),this.focus=i.getService("focus"),this.addEventListener(),this.wireEvents()}return e.prototype.initializeSelection=function(){this.parent.log("selection_key_missing"),this.render()},e.prototype.onActionBegin=function(e,t){this.parent.trigger(t,this.fDataUpdate(e))},e.prototype.fDataUpdate=function(e){if(!this.isMultiSelection&&(!(0,y.le)(e.cellIndex)||!(0,y.le)(e.rowIndex))){var t=this.getRowObj((0,y.le)(e.rowIndex)?(0,y.le)(e.cellIndex)?this.currentIndex:e.cellIndex.rowIndex:e.rowIndex);e.foreignKeyData=t.foreignKeyData}return e},e.prototype.onActionComplete=function(e,t){this.parent.trigger(t,this.fDataUpdate(e)),this.isMultiSelection=!1},e.prototype.getModuleName=function(){return"selection"},e.prototype.destroy=function(){var e=this.parent.element;e&&(e.querySelector("."+te.uD)||e.querySelector("."+te.ci))&&(this.hidePopUp(),this.clearSelection(),this.destroyAutoFillElements(),this.removeEventListener(),this.unWireEvents(),y.bi.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),y.bi.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler))},e.prototype.isEditing=function(){return("Normal"===this.parent.editSettings.mode||"Batch"===this.parent.editSettings.mode&&this.parent.editModule&&this.parent.editModule.formObj&&!this.parent.editModule.formObj.validate())&&this.parent.isEdit&&!this.parent.editSettings.showAddNewRow&&!this.parent.isPersistSelection},e.prototype.getCurrentBatchRecordChanges=function(){var e=this.parent;if("Batch"===e.editSettings.mode&&e.editModule){var t=(0,U.Wn)(this.parent.getCurrentViewRecords());t="Bottom"===e.editSettings.newRowPosition?t.concat(this.parent.editModule.getBatchChanges()[te.$0]):this.parent.editModule.getBatchChanges()[te.$0].concat(t);for(var i=this.parent.editModule.getBatchChanges()[te.k0],n=this.parent.getPrimaryKeyFieldNames()[0],r=0;r<i.length;r++)for(var o=0;o<t.length;o++)if(i[parseInt(r.toString(),10)][""+n]===t[parseInt(o.toString(),10)][""+n]){t.splice(o,1);break}return t}return this.parent.enableVirtualization&&this.parent.groupSettings.columns.length&&!this.parent.isPersistSelection?e.getCurrentViewRecords().filter(function(e){return void 0===e.key}):e.getCurrentViewRecords()},e.prototype.selectRow=function(e,t){if(this.selectedRowIndexes.length&&this.selectionSettings.enableSimpleMultiRowSelection){this.addRowsToSelection([e]);return}var i,n,r=this.parent,o=r.getRowByIndex(e),s=o&&r.getRowObjectFromUID(o.getAttribute("data-uid"));if(!this.isPartialSelection||!s||!s.isDataRow||s.isSelectable){if(r.enableVirtualization&&e>-1){var a={selectedIndex:e,isAvailable:!0};if(this.parent.notify(Z.I3$,a),o&&r.getRowObjectFromUID(o.getAttribute("data-uid")))i=r.getRowObjectFromUID(o.getAttribute("data-uid")).data;else{a.isAvailable&&!r.selectionSettings.persistSelection&&this.parent.getSelectedRecords().length>0&&this.clearRowSelection();return}}else i=this.getRowObj(e).data;if(!(!this.isRowType()||!o||this.isEditing())){var l=o.hasAttribute("aria-selected");if(this.activeTarget(),t&&this.selectedRowIndexes.length){var h="ResetOnRowClick"===this.selectionSettings.checkboxMode,c=!this.parent.isCheckBoxSelection&&"Multiple"===this.selectionSettings.type;t=(!h&&!c||1===this.selectedRowIndexes.length&&(!!h||!!c))&&(!this.isKeyAction||!this.parent.isCheckBoxSelection)&&-1!==this.selectedRowIndexes.indexOf(e)}else t=!1;this.isKeyAction=!1;var p="cancel";if(t){if("ResetOnRowClick"!==this.selectionSettings.checkboxMode&&this.selectionSettings.persistSelection){if(this.rowDeselect(Z.bEA,[s.index],[s.data],[o],[s.foreignKeyData],this.actualTarget),this.isCancelDeSelect)return;this.parent.isCheckBoxSelection||(this.selectedRowIndexes=[],this.selectedRecords=[],this.isRowSelected=!1,this.selectRowIndex(-1)),this.rowDeselect(Z.kCr,[s.index],[s.data],[o],[s.foreignKeyData],this.actualTarget,void 0,void 0,void 0)}this.rowSelectingCallBack(n,t,e,i,!1,l,p)(n)}else n={data:i,rowIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,row:o,previousRow:r.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked},this.parent.trigger(Z.Od5,this.fDataUpdate(n),this.rowSelectingCallBack(n,t,e,i,!1,l,p))}}},e.prototype.rowSelectingCallBack=function(e,t,i,n,r,o,s){var a=this;return function(e){if(!(0,y.le)(e)&&!0===e[""+s]){a.disableInteracted();return}a.index=i,a.toggle=t,a.data=n,a.removed=r,o&&a.selectionSettings.persistSelection&&"ResetOnRowClick"!==a.selectionSettings.checkboxMode?(a.clearSelectedRow(i),a.selectRowCallBack()):!o&&a.selectionSettings.persistSelection&&a.parent.isCheckBoxSelection&&"ResetOnRowClick"!==a.selectionSettings.checkboxMode&&a.selectRowCallBack(),"ResetOnRowClick"===a.selectionSettings.checkboxMode&&(a.isCheckboxReset=!0,a.clearSelection()),a.selectionSettings.persistSelection&&"ResetOnRowClick"!==a.selectionSettings.checkboxMode&&(a.parent.isCheckBoxSelection||!a.selectionSettings.persistSelection)||(a.selectRowCheck=!0,a.clearRow())}},e.prototype.selectRowCallBack=function(){var e,t=this.parent,i=this.index,n=this.toggle,r=this.data,o=this.removed,s=t.getRowByIndex(i);n||o||(-1>=this.selectedRowIndexes.indexOf(i)&&this.updateRowSelection(s,i),this.selectRowIndex(i)),n||(e={data:r,rowIndex:i,row:s,previousRow:t.getRowByIndex(this.prevRowIndex),previousRowIndex:this.prevRowIndex,target:this.actualTarget,isInteracted:this.isInteracted,isHeaderCheckBoxClicked:this.isHeaderCheckboxClicked,rowIndexes:i},this.onActionComplete(e,Z.Ypq)),this.isInteracted=!1,this.updateRowProps(i)},e.prototype.selectRowsByRange=function(e,t){this.selectRows(this.getCollectionFromIndexes(e,t)),this.selectRowIndex(t)},e.prototype.selectedDataUpdate=function(e,t,i,n,r){for(var o=0,s=n.length;o<s;o++){var a=this.parent.getDataRows()[n[parseInt(o.toString(),10)]];this.parent.enableVirtualization&&(a=this.parent.getRowByIndex(n[parseInt(o.toString(),10)]));var l=this.getRowObj(a);l&&l.isDataRow&&l.isSelectable?(e.push(l.data),i.push(a),t.push(l.foreignKeyData)):this.isPartialSelection&&r&&r.splice(r.indexOf(n[parseInt(o.toString(),10)]),1)}},e.prototype.selectRows=function(e){var t=this,i=this.parent,n=e.slice(),r=this.isSingleSel()?e[e.length-1]:e[0];this.isMultiSelection=!0;var o=[],s=[],a=[];if(!(!this.isRowType()||this.isEditing())){this.selectedDataUpdate(a,s,o,e,n),this.activeTarget();var l={cancel:!1,rowIndexes:n,row:o,rowIndex:r,target:this.actualTarget,prevRow:i.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isInteracted:this.isInteracted,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,data:a,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,foreignKeyData:s};this.parent.trigger(Z.Od5,this.fDataUpdate(l),function(e){if(!(0,y.le)(e)&&!0===e.cancel){t.disableInteracted();return}t.selectionSettings.persistSelection&&i.allowRowDragAndDrop&&t.isDragged||t.clearRow(),t.selectRowIndex(n.slice(-1)[0]);var a=function(e,n){t.updateRowSelection(i.getRowByIndex(e),e,n),t.updateRowProps(r)};if(t.isSingleSel())a(r);else for(var l=0;l<n.length;l++)a(n[l],!!i.enableVirtualization);if(t.checkVirtualCheckBox()&&!t.parent.isPersistSelection){if(n.length===t.totalRecordsCount)t.virtualSelectedData=t.virtualCheckBoxData().slice(),t.selectedRowIndexes=Object.keys(t.virtualSelectedData).map(function(e){return parseInt(e,10)}),t.setCheckAllState();else{var h=n.filter(function(e){return -1===t.selectedRowIndexes.indexOf(e)});if(h.length>0){for(var c=t.virtualCheckBoxData().slice(),p=0;p<h.length;p++){var d=c[h[p]];(0,y.le)(d)||(t.virtualSelectedData.push(d),t.selectedRowIndexes.push(h[p]))}t.setCheckAllState()}}}e={rowIndexes:n,row:o,rowIndex:r,target:t.actualTarget,prevRow:i.getRows()[t.prevRowIndex],previousRowIndex:t.prevRowIndex,data:t.getSelectedRecords(),isInteracted:t.isInteracted,isHeaderCheckboxClicked:t.isHeaderCheckboxClicked,foreignKeyData:s},t.isRowSelected&&t.onActionComplete(e,Z.Ypq),t.isInteracted=!1})}},e.prototype.addRowsToSelection=function(e){var t,i=this.parent,n=this.target;this.isMultiSelection=!0;var r=[],o=[],s=[],a=i.getSelectedRowIndexes().concat(e),l=this.isSingleSel()?i.getRowByIndex(e[e.length-1]):i.getRowByIndex(e[0]);if(!(!this.isRowType()||this.isEditing())||this.selectionSettings.checkboxOnly){var h=this.parent.getColumns().filter(function(e){return"checkbox"===e.type});this.isMultiCtrlRequest&&!h.length&&this.selectedDataUpdate(s,o,r,a);for(var c=0;c<e.length;c++){var p=e[c],d=this.getRowObj(p),u=this.selectedRowIndexes.indexOf(p)>-1;if(!this.isPartialSelection||!d||!d.isDataRow||d.isSelectable){if(this.selectRowIndex(p),u&&(h.length||this.selectionSettings.enableToggle||this.isMultiCtrlRequest)){if(this.isAddRowsToSelection=!0,this.rowDeselect(Z.bEA,[p],[d.data],[l],[d.foreignKeyData],n),this.isCancelDeSelect)return;this.checkVirtualCheckBox()&&!this.parent.isPersistSelection&&this.virtualSelectedData.splice(this.virtualSelectedData.indexOf(d.data),1),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(p),1),this.selectedRecords.splice(this.selectedRecords.indexOf(l),1),this.selectRowIndex(this.selectedRowIndexes.length?this.selectedRowIndexes[this.selectedRowIndexes.length-1]:-1),l.removeAttribute("aria-selected"),this.addRemoveClassesForRow(l,!1,null,"e-selectionbackground","e-active"),this.rowDeselect(Z.kCr,[p],[d.data],[l],[d.foreignKeyData],n,void 0,void 0,void 0),this.isInteracted=!1,this.isMultiSelection=!1,this.isAddRowsToSelection=!1,this.isHdrSelectAllClicked=!1}else{if(this.activeTarget(),t={cancel:!1,data:s.length?s:d.data,rowIndex:p,row:r.length?r:l,target:this.actualTarget,prevRow:i.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,foreignKeyData:o.length?o:d.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},this.parent.trigger(Z.Od5,this.fDataUpdate(t)),!(0,y.le)(t)&&!0===t.cancel){this.disableInteracted();return}this.isSingleSel()&&this.clearRow(),this.updateRowSelection(l,p)}if(u||(t={data:s.length?s:d.data,rowIndex:p,row:r.length?r:l,target:this.actualTarget,prevRow:i.getRows()[this.prevRowIndex],previousRowIndex:this.prevRowIndex,foreignKeyData:o.length?o:d.foreignKeyData,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked,rowIndexes:a},this.onActionComplete(t,Z.Ypq)),this.isInteracted=!1,this.updateRowProps(p),this.isSingleSel())break}}}},e.prototype.getCollectionFromIndexes=function(e,t){for(var i=[],n=e<=t?{i:e,max:t}:{i:t,max:e},r=n.i,o=n.max;r<=o;r++)i.push(r);return e>t&&i.reverse(),i},e.prototype.clearRow=function(){this.clearRowCheck=!0,this.clearRowSelection()},e.prototype.clearRowCallBack=function(){(!this.isCancelDeSelect||"Check"===this.parent.checkAllRows)&&(this.selectedRowIndexes=[],this.selectedRecords=[],this.selectRowIndex(-1),this.isSingleSel()&&this.parent.isPersistSelection&&(this.selectedRowState={}))},e.prototype.clearSelectedRow=function(e){if(this.toggle){var t=this.parent.getRowByIndex(e);this.disableUI||(t.removeAttribute("aria-selected"),this.addRemoveClassesForRow(t,!1,!0,"e-selectionbackground","e-active")),this.removed=!0,this.updatePersistCollection(t,!1),this.updateCheckBoxes(t),this.selectedRowIndexes.splice(this.selectedRowIndexes.indexOf(e),1),this.selectedRecords.splice(this.selectedRecords.indexOf(this.parent.getRowByIndex(e)),1)}},e.prototype.updateRowProps=function(e){this.prevRowIndex=e,this.isRowSelected=this.selectedRowIndexes.length&&!0},e.prototype.getPkValue=function(e,t){return e&&(0,U.Ou)(e)?(0,U.RK)(e,t):t[""+e]},e.prototype.updatePersistCollection=function(e,t){var i=this;if((this.parent.isPersistSelection||this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0)&&!(0,y.le)(e)){this.parent.isPersistSelection||this.ensureCheckboxFieldSelection();var n=this.getRowObj(e),r=n.data?this.getPkValue(this.primaryKey,n.data):null;if(null===r)return;n.isSelected=t,t&&!this.isPartialSelection||this.isPartialSelection&&n.isSelectable&&n.isSelected?(this.selectedRowState[""+r]=t,delete this.unSelectedRowState[""+r],this.persistSelectedData.some(function(e){return i.getPkValue(i.primaryKey,e)===r})||this.persistSelectedData.push(n.data)):this.updatePersistDelete(r)}},e.prototype.updatePersistDelete=function(e,t){var i,n=this;delete this.selectedRowState[""+e],this.rmtHdrChkbxClicked&&(this.unSelectedRowState[""+e]=!0),this.persistSelectedData.some(function(t,r){return i=r,n.getPkValue(n.primaryKey,t)===e})&&(this.persistSelectedData.splice(i,1),t&&this.parent.partialSelectedRecords.splice(i,1))},e.prototype.updateCheckBoxes=function(e,t,i){if(!(0,y.le)(e)){var n=e.querySelector(".e-checkselect");(0,y.le)(n)||((0,U.jV)(n.nextElementSibling,t),(0,U.NB)(n,t),!(0,y.le)(this.checkedTarget)&&((0,y.le)(this.checkedTarget)||this.checkedTarget.classList.contains("e-checkselectall"))||this.setCheckAllState(i))}},e.prototype.updateRowSelection=function(e,t,i){if(e){if(-1===this.selectedRowIndexes.indexOf(t)&&(this.checkVirtualCheckBox()&&!this.parent.isPersistSelection&&this.virtualSelectedData.push(this.parent.getRowObjectFromUID(e.getAttribute("data-uid")).data),this.selectedRowIndexes.push(t),this.selectedRecords.push(e)),e.setAttribute("aria-selected","true"),this.updatePersistCollection(e,!0),this.updateCheckBoxes(e,!0),this.addRemoveClassesForRow(e,!0,null,"e-selectionbackground","e-active"),this.preventFocus||this.parent.isFocusFirstCell||this.isFocusLastCell){if(this.parent.isFocusFirstCell||this.isFocusLastCell){this.parent.isFocusFirstCell=!1;var n=this.isFocusLastCell?"last-child":"first-child",r=e.querySelector(".e-selectionbackground.e-rowcell:not(.e-hide, .e-detailrowcollapse, .e-detailrowexpand, .e-rowdragdrop, .e-gridchkbox):"+n);this.isFocusLastCell=!1,r&&this.focus.onClick({target:r},!0,!0)}}else{var r=this.focus.getPrevIndexes().cellIndex?e.cells[this.focus.getPrevIndexes().cellIndex]:e.querySelector(".e-selectionbackground:not(.e-hide):not(.e-detailrowcollapse):not(.e-detailrowexpand)");if(this.parent.contextMenuModule&&2===this.mouseButton&&(r=this.parent.contextMenuModule.cell),!r||i)return;this.focus.onClick({target:r},!0)}}},e.prototype.clearSelection=function(){if(this.checkSelectAllClicked=!0,this.selectionSettings.persistSelection&&this.persistSelectedData.length&&(this.deSelectedData=(0,U.Wn)(this.persistSelectedData)),!this.parent.isPersistSelection||this.parent.isPersistSelection&&!this.parent.isEdit||!(0,y.le)(this.checkedTarget)&&this.checkedTarget.classList.contains("e-checkselectall")){var e=this.parent.element.querySelector(".e-gridpopup").querySelector("span");if(e.classList.contains("e-rowselect")&&e.classList.remove("e-spanclicked"),this.parent.isPersistSelection){this.persistSelectedData=[],this.selectedRowState={},this.parent.partialSelectedRecords=[],this.parent.disableSelectedRecords=[];for(var t=this.parent.getRowsObject(),i=0;i<t.length;i++)t[i].isDataRow&&(t[i].isSelectable?this.parent.partialSelectedRecords.push(t[i].data):this.parent.disableSelectedRecords.push(t[i].data))}this.clearRowSelection(),this.clearCellSelection(),this.clearColumnSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0,this.enableSelectMultiTouch=!1,this.isInteracted=!1,this.checkSelectAllClicked=!1,this.isHdrSelectAllClicked=!1}},e.prototype.clearRowSelection=function(){var e=this;if(this.isRowSelected){var t=this.parent.getDataRows(),i=[],n=[],r=[],o=[],s=this.target;this.isRowDeselect=!0;for(var a=0,l=this.selectedRowIndexes.length;a<l;a++){var h=void 0;h=this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache?this.parent.getRowByIndex(this.selectedRowIndexes[parseInt(a.toString(),10)]):"Batch"===this.parent.editSettings.mode?this.parent.getRows()[this.selectedRowIndexes[parseInt(a.toString(),10)]]:this.parent.getDataRows()[this.selectedRowIndexes[parseInt(a.toString(),10)]];var c=this.getRowObj(h);c&&(i.push(c.data),n.push(h),r.push(this.selectedRowIndexes[parseInt(a.toString(),10)]),o.push(c.foreignKeyData))}this.selectionSettings.persistSelection&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode&&(this.isRowClicked=!!this.checkSelectAllClicked),this.rowDeselect(Z.bEA,r,i,n,o,s,null,function(){if(e.isCancelDeSelect&&(e.isRowClicked||e.checkSelectAllClicked||e.isInteracted&&!e.parent.isPersistSelection)){if(e.parent.isPersistSelection){if("Intermediate"===e.getCheckAllStatus(e.parent.element.querySelector(".e-checkselectall"))||e.parent.isPersistSelection)for(var a=0;a<e.selectedRecords.length;a++)e.updatePersistCollection(e.selectedRecords[parseInt(a.toString(),10)],!0);else e.parent.checkAllRows="Check",e.updatePersistSelectedData(!0)}e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1));return}for(var l=[].slice.call(t.filter(function(e){return e.hasAttribute("aria-selected")})),h=0;h<l.length;h++)e.disableUI||(l[parseInt(h.toString(),10)].removeAttribute("aria-selected"),e.addRemoveClassesForRow(l[parseInt(h.toString(),10)],!1,!0,"e-selectionbackground","e-active")),e.isPrevRowSelection||e.updatePersistCollection(l[parseInt(h.toString(),10)],!1),e.updateCheckBoxes(l[parseInt(h.toString(),10)]);(e.parent.enableVirtualization||e.parent.enableInfiniteScrolling&&e.parent.infiniteScrollSettings.enableCache)&&e.selectedRecords.length&&!l.length&&!e.parent.selectionSettings.persistSelection&&!e.disableUI&&!e.parent.isCheckBoxSelection&&e.addRemoveClassesForRow(null,!1,!0),e.virtualSelectedData=[],e.selectedRowIndexes=[],e.selectedRecords=[],e.isRowSelected=!1,e.selectRowIndex(-1),e.isPrevRowSelection=!1,e.rowDeselect(Z.kCr,r,i,n,o,s,null,void 0,null),e.clearRowCheck&&(e.clearRowCallBack(),e.clearRowCheck=!1,e.selectRowCheck&&(e.selectRowCallBack(),e.selectRowCheck=!1))},null),this.isRowDeselect=!1}else this.clearRowCheck&&(this.clearRowCallBack(),this.clearRowCheck=!1,this.selectRowCheck&&(this.selectRowCallBack(),this.selectRowCheck=!1))},e.prototype.rowDeselect=function(e,t,i,n,r,o,s,a,l){var h=this;if(this.selectionSettings.persistSelection&&(this.isRowClicked||!this.isRowDeselect||this.checkSelectAllClicked||this.focus.activeKey&&this.focus.currentInfo.element.classList.contains("e-gridchkbox")&&"space"===this.focus.activeKey)||!this.selectionSettings.persistSelection){var c=1===t.length&&1===this.deSelectedData.length,p={rowIndex:t[0],data:this.selectionSettings.persistSelection&&"Uncheck"===this.parent.checkAllRows&&!c&&"ResetOnRowClick"!==this.selectionSettings.checkboxMode?this.deSelectedData:i,foreignKeyData:r,cancel:!1,isInteracted:this.isInteracted,isHeaderCheckboxClicked:this.isHeaderCheckboxClicked};"rowDeselected"===e&&delete p.cancel;var d="rowIndexes",u="data",g="foreignKeyData";p.row=n,p.target=this.actualTarget,this.actualTarget&&!(0,y.le)((0,y.oq)(this.actualTarget,"thead"))||t.length>1?(p.rowIndex=t[0],p[""+d]=t):1===t.length&&(p[""+u]=p[""+u][0],p.row=p.row[0],p[""+g]=p[""+g][0],this.isAddRowsToSelection&&(p[""+d]=t)),this.parent.trigger(e,p,function(e){h.isCancelDeSelect=e.cancel,h.isCancelDeSelect&&(h.isRowClicked||h.isInteracted||h.checkSelectAllClicked)||(h.updatePersistCollection(n[0],!1),h.updateCheckBoxes(n[0],void 0,t[0])),void 0!==a&&a()})}else this.selectionSettings.persistSelection&&!this.isInteracted&&void 0!==a&&a()},e.prototype.getRowObj=function(e){return(void 0===e&&(e=this.currentIndex),(0,y.le)(e))?{}:("number"==typeof e&&(e=this.parent.getRowByIndex(e)),e&&this.parent.getRowObjectFromUID(e.getAttribute("data-uid"))||{})},e.prototype.selectCell=function(e,t){if(!(!this.isCellType()||this.isCellType()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache))){var i,n=this.parent.getCellFromIndex(e.rowIndex,this.getColIndex(e.rowIndex,e.cellIndex));this.currentIndex=e.rowIndex;var r=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(!this.isCellType()||!n||this.isEditing())){var o=n.classList.contains("e-cellselectionbackground");(t=t?!(0,y.o8)(this.prevCIdxs)&&e.rowIndex===this.prevCIdxs.rowIndex&&e.cellIndex===this.prevCIdxs.cellIndex&&o:t)?this.successCallBack(i,t,e,n,r)(i):((i={data:r,cellIndex:e,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,cancel:!1}).currentCell=n,i.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(Z.Gu1,this.fDataUpdate(i),this.successCallBack(i,t,e,n,r)),this.cellselected=!0)}}},e.prototype.successCallBack=function(e,t,i,n,r){var o=this;return function(e){var s="currentCell";if(((0,y.le)(e)||!0!==e.cancel)&&(t||(e[""+s]=e[""+s]?e[""+s]:n),o.clearCell(),t||o.updateCellSelection(n,i.rowIndex,i.cellIndex),!t)){var a={data:r,cellIndex:i,currentCell:n,selectedRowCellIndex:o.selectedRowCellIndexes,previousRowCell:o.prevECIdxs?o.getCellIndex(o.prevECIdxs.rowIndex,o.prevECIdxs.cellIndex):void 0};a.previousRowCellIndex=o.prevECIdxs,o.updateCellProps(i,i),o.onActionComplete(a,Z.SDA)}}},e.prototype.getCellIndex=function(e,t){return this.parent.getCellFromIndex(e,t)},e.prototype.selectCellsByRange=function(e,t){var i,n,r,o=this;if(this.isCellType()){var s=this.parent,a=this.parent.isSpan?(0,U.NH)(this.parent,e.rowIndex,e.cellIndex):s.getCellFromIndex(e.rowIndex,e.cellIndex),l=e,h=t=t||e;this.currentIndex=e.rowIndex;var c=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(this.isSingleSel()||!this.isCellType()||this.isEditing())){var p={data:c,cellIndex:e,currentCell:a,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};p.previousRowCellIndex=this.prevECIdxs,this.parent.trigger(Z.Gu1,this.fDataUpdate(p),function(p){if((0,y.le)(p)||!0!==p.cancel){if(o.clearCell(),e.rowIndex>t.rowIndex){var d=e;e=t,t=d}for(var u=e.rowIndex;u<=t.rowIndex;u++){0>o.selectionSettings.cellSelectionMode.indexOf("Box")?(i=u===e.rowIndex?e.cellIndex:0,n=u===t.rowIndex?t.cellIndex:o.getLastColIndex(u)):(i=e.cellIndex,n=t.cellIndex),r=[];for(var g=i<n?i:n,f=i>n?i:n;g<=f;g++)(a=o.parent.isSpan?(0,U.NH)(s,u,g):s.getCellFromIndex(u,g))&&(r.push(g),o.updateCellSelection(a),o.addAttribute(a));o.selectedRowCellIndexes.push({rowIndex:u,cellIndexes:r})}var m={data:c,cellIndex:h,currentCell:s.getCellFromIndex(h.rowIndex,h.cellIndex),selectedRowCellIndex:o.selectedRowCellIndexes,previousRowCell:o.prevECIdxs?o.getCellIndex(o.prevECIdxs.rowIndex,o.prevECIdxs.cellIndex):void 0};m.previousRowCellIndex=o.prevECIdxs,o.isDragged||(o.onActionComplete(m,Z.SDA),o.cellselected=!0),o.updateCellProps(l,h)}})}}},e.prototype.selectCells=function(e){if(this.isCellType()){var t=this.parent,i=t.getCellFromIndex(e[0].rowIndex,e[0].cellIndexes[0]);this.currentIndex=e[0].rowIndex;var n=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(this.isSingleSel()||!this.isCellType()||this.isEditing())){var r={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};r.previousRowCellIndex=this.prevECIdxs,this.onActionBegin(r,Z.Gu1);for(var o=0,s=e.length;o<s;o++)for(var a=0,l=e[parseInt(o.toString(),10)].cellIndexes.length;a<l;a++)(i=t.getCellFromIndex(e[parseInt(o.toString(),10)].rowIndex,e[parseInt(o.toString(),10)].cellIndexes[parseInt(a.toString(),10)]))&&(this.updateCellSelection(i),this.addAttribute(i),this.addRowCellIndex({rowIndex:e[parseInt(o.toString(),10)].rowIndex,cellIndex:e[parseInt(o.toString(),10)].cellIndexes[parseInt(a.toString(),10)]}));this.updateCellProps({rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]},{rowIndex:e[0].rowIndex,cellIndex:e[0].cellIndexes[0]});var h={data:n,cellIndex:e[0].cellIndexes[0],currentCell:i,selectedRowCellIndex:this.selectedRowCellIndexes,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0};h.previousRowCellIndex=this.prevECIdxs,this.onActionComplete(h,Z.SDA)}}},e.prototype.addCellsToSelection=function(e){if(!(!this.isCellType()||this.isCellType()&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache))){var t,i,n,r=this.parent;this.currentIndex=e[0].rowIndex;var o=this.getCurrentBatchRecordChanges()[this.currentIndex];if(!(this.isSingleSel()||!this.isCellType()||this.isEditing())){this.hideAutoFill(),n=r.getRowsObject()[e[0].rowIndex],r.groupSettings.columns.length>0&&(n=r.getRowObjectFromUID(this.target.parentElement.getAttribute("data-uid")));for(var s=[],a=0;a<e.length;a++){for(var l=e[a],h=0,c=this.selectedRowCellIndexes.length;h<c;h++)if(this.selectedRowCellIndexes[parseInt(h.toString(),10)].rowIndex===l.rowIndex){i=h;break}t=r.getCellFromIndex(l.rowIndex,this.getColIndex(l.rowIndex,l.cellIndex));var p=l.cellIndex;r.groupSettings.columns.length>0?s.push(n.cells[p+r.groupSettings.columns.length].foreignKeyData):s.push(n.cells[parseInt(p.toString(),10)].foreignKeyData);var d={cancel:!1,data:o,cellIndex:e[0],isShiftPressed:this.isMultiShiftRequest,currentCell:t,isCtrlPressed:this.isMultiCtrlRequest,previousRowCell:this.prevECIdxs?r.getCellFromIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0},u="previousRowCellIndex";d[""+u]=this.prevECIdxs;var g=i>-1;if(g){var f=this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes;f.indexOf(l.cellIndex)>-1||"Both"===this.selectionSettings.mode&&t.classList.contains("e-gridchkbox")&&!t.getAttribute("aria-selected")?(this.cellDeselect(Z.BvZ,[{rowIndex:l.rowIndex,cellIndexes:[l.cellIndex]}],o,[t],s),f.splice(f.indexOf(l.cellIndex),1),0===f.length&&this.selectedRowCellIndexes.splice(i,1),t.classList.remove("e-cellselectionbackground"),t.removeAttribute("aria-selected"),this.cellDeselect(Z.KfI,[{rowIndex:l.rowIndex,cellIndexes:[l.cellIndex]}],o,[t],s)):(g=!1,this.onActionBegin(d,Z.Gu1),this.addRowCellIndex({rowIndex:l.rowIndex,cellIndex:l.cellIndex}),this.updateCellSelection(t),this.addAttribute(t))}else{if(this.onActionBegin(d,Z.Gu1),!(0,y.le)(d)&&!0===d.cancel)return;this.updateCellSelection(t,l.rowIndex,l.cellIndex)}if(!g){var m={data:o,cellIndex:e[0],currentCell:t,previousRowCell:this.prevECIdxs?this.getCellIndex(this.prevECIdxs.rowIndex,this.prevECIdxs.cellIndex):void 0,selectedRowCellIndex:this.selectedRowCellIndexes};m[""+u]=this.prevECIdxs,this.onActionComplete(m,Z.SDA),this.cellselected=!0}this.updateCellProps(l,l)}}}},e.prototype.getColIndex=function(e,t){var i=this.parent.getColumnByIndex(t),n=(0,U.w4)(this.parent,i,e);if(n){for(var r=0;r<n.length;r++)if(parseInt(n[parseInt(r.toString(),10)].getAttribute(te.qc),10)-1===t)return r}return -1},e.prototype.getLastColIndex=function(e){var t=this.parent.getDataRows()[parseInt(e.toString(),10)].querySelectorAll("td.e-rowcell");return parseInt(t[t.length-1].getAttribute(te.qc),10)-1},e.prototype.clearCell=function(){this.clearCellSelection()},e.prototype.cellDeselect=function(e,t,i,n,r){if(n&&n.length>0)for(var o=0;o<n.length;o++){var s=n[o];s&&s.classList.contains(te.pM)&&this.updateCheckBoxes((0,y.oq)(s,"tr"))}var a={cells:n,data:i,cellIndexes:t,foreignKeyData:r,cancel:!1};this.parent.trigger(e,a),this.isPreventCellSelect=a.cancel},e.prototype.updateCellSelection=function(e,t,i){(0,y.le)(t)||this.addRowCellIndex({rowIndex:t,cellIndex:i}),e.classList.add("e-cellselectionbackground"),e.classList.contains(te.pM)&&this.updateCheckBoxes((0,y.oq)(e,"tr"),!0),this.addAttribute(e)},e.prototype.addAttribute=function(e){this.target=e,(0,y.le)(e)||(e.setAttribute("aria-selected","true"),this.preventFocus||this.focus.onClick({target:e},!0))},e.prototype.updateCellProps=function(e,t){this.prevCIdxs=e,this.prevECIdxs=t,this.isCellSelected=this.selectedRowCellIndexes.length&&!0},e.prototype.addRowCellIndex=function(e){for(var t,i,n=0,r=this.selectedRowCellIndexes.length;n<r;n++)if(this.selectedRowCellIndexes[parseInt(n.toString(),10)].rowIndex===e.rowIndex){t=!0,i=n;break}t?0>this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes.indexOf(e.cellIndex)&&this.selectedRowCellIndexes[parseInt(i.toString(),10)].cellIndexes.push(e.cellIndex):this.selectedRowCellIndexes.push({rowIndex:e.rowIndex,cellIndexes:[e.cellIndex]})},e.prototype.clearCellSelection=function(){if(this.isCellSelected){var e=this.parent,t=this.getSelectedCellsElement(),i=this.selectedRowCellIndexes,n=[],r=[],o=[],s=this.getCurrentBatchRecordChanges();this.hideAutoFill();for(var a=0,l=i.length;a<l;a++){n.push(s[i[parseInt(a.toString(),10)].rowIndex]);for(var h=this.getRowObj(i[parseInt(a.toString(),10)].rowIndex),c=0,p=i[parseInt(a.toString(),10)].cellIndexes.length;c<p;c++)h.cells&&o.push(h.cells[i[parseInt(a.toString(),10)].cellIndexes[parseInt(c.toString(),10)]].foreignKeyData),r.push(e.getCellFromIndex(i[parseInt(a.toString(),10)].rowIndex,i[parseInt(a.toString(),10)].cellIndexes[parseInt(c.toString(),10)]))}if(this.cellDeselect(Z.BvZ,i,n,r,o),!0!==this.isPreventCellSelect){for(var a=0,l=t.length;a<l;a++)t[parseInt(a.toString(),10)].classList.remove("e-cellselectionbackground"),t[parseInt(a.toString(),10)].removeAttribute("aria-selected");this.bdrElement&&this.showHideBorders("none"),this.selectedRowCellIndexes=[],this.isCellSelected=!1,!this.isDragged&&this.cellselected&&this.cellDeselect(Z.KfI,i,n,r,o)}}},e.prototype.getSelectedCellsElement=function(){for(var e=this.parent.getDataRows(),t=[],i=0,n=e.length;i<n;i++)t=t.concat([].slice.call(e[parseInt(i.toString(),10)].getElementsByClassName("e-cellselectionbackground")));return t},e.prototype.mouseMoveHandler=function(e){e.preventDefault(),this.stopTimer();var t,i=this.parent.element.getBoundingClientRect(),n=this.x,r=this.y,o=(0,U.bt)(e),s=o.x-i.left,a=o.y-i.top,l=(0,y.oq)(e.target,"tr");if(this.isDragged=!0,this.isCellDrag||(l||(l=(0,y.oq)(document.elementFromPoint(this.parent.element.offsetLeft+2,e.clientY),"tr")),n>s&&(t=s,s=n,n=t),r>a&&(t=a,a=r,r=t),this.element.style.left=n+"px",this.element.style.top=r+"px",this.element.style.width=s-n+"px",this.element.style.height=a-r+"px"),l&&!e.ctrlKey&&!e.shiftKey){var h=parseInt(l.getAttribute(te._x),10)-1;if(this.isCellDrag){var c=(0,U.Cf)(e.target,te.PO);c&&(this.startAFCell=this.startCell,this.endAFCell=(0,U.Cf)(e.target,te.PO),h>-1&&this.selectLikeExcel(e,h,parseInt(c.getAttribute(te.qc),10)-1))}else this.hideAutoFill(),this.selectRowsByRange(this.startDIndex,h),this.isRowDragSelected=!0}e.ctrlKey||e.shiftKey||this.parent.enableVirtualization||this.parent.enableInfiniteScrolling||this.parent.enableColumnVirtualization||this.parent.groupSettings.columns.length||!this.isCellDrag||this.updateScrollPosition(e,o,this.parent.getContent())},e.prototype.updateScrollPosition=function(e,t,i){var n=this,r=i.getBoundingClientRect();r.left>=t.x-20-(this.parent.enableRtl&&"auto"!==this.parent.height?(0,U.Iz)():0)?this.timer1=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,n.parent.enableRtl?"right":"left",e)},200):r.left+i.clientWidth-20-(this.parent.enableRtl||"auto"===this.parent.height?0:(0,U.Iz)())<t.x&&(this.timer1=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,n.parent.enableRtl?"left":"right",e)},200)),r.top>=t.y-.5*this.parent.getRowHeight()?this.timer2=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,"up",e)},200):r.top+i.clientHeight-.5*this.parent.getRowHeight()-(i.firstElementChild.scrollWidth>i.firstElementChild.offsetWidth?(0,U.Iz)():0)<=t.y&&(this.timer2=window.setInterval(function(){n.setScrollPosition(i.firstElementChild,"down",e)},200))},e.prototype.stopTimer=function(){this.timer1&&(window.clearInterval(this.timer1),this.timer1=null),this.timer2&&(window.clearInterval(this.timer2),this.timer2=null),this.preventFocus=!1},e.prototype.setScrollPosition=function(e,t,i){var n=-1,r=-1;switch((this.endAFCell||this.prevECIdxs)&&(n=this.endAFCell?parseInt(this.endAFCell.getAttribute("index"),10):this.prevECIdxs.rowIndex,r=this.endAFCell?parseInt(this.endAFCell.getAttribute("aria-colindex"),10)-1:this.prevECIdxs.cellIndex),t){case"up":if(i&&(0,y.oq)(i.target,".e-headercontent"))return;this.isAutoFillSel&&this.startAFCell&&this.selectedRowCellIndexes.length&&(1===this.selectedRowCellIndexes.length&&this.startAFCell!==this.startCell||this.selectedRowCellIndexes.length>1&&this.startAFCell.getBoundingClientRect().top>0)&&(n=parseInt(this.startAFCell.getAttribute("index"),10)),n-=1,this.parent.frozenRows&&(n+=this.parent.frozenRows+1),n<1?e.scrollTop=0:e.scrollTop-=this.parent.getRowByIndex(n).offsetHeight;break;case"down":this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(n=parseInt(this.startAFCell.getAttribute("index"),10)),n<this.parent.getRows().length-1?(n+=1,this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(this.startAFCell=this.parent.getCellFromIndex(n,this.selectedRowCellIndexes[0].cellIndexes[0])),e.scrollTop+=this.parent.getRowByIndex(n).offsetHeight):e.scrollTop=e.scrollHeight;break;case"left":if(r>0&&n>-1){this.isAutoFillSel&&this.startAFCell&&this.selectedRowCellIndexes.length&&(this.selectedRowCellIndexes[0].cellIndexes.length>0&&this.startAFCell!==this.startCell||this.selectedRowCellIndexes[0].cellIndexes.length>1&&(!this.parent.enableRtl&&this.startAFCell.getBoundingClientRect().left>0||this.parent.enableRtl&&this.startAFCell.getBoundingClientRect().left<this.parent.element.offsetWidth))&&(r=parseInt(this.startAFCell.getAttribute("aria-colindex"),10)-1);var o=this.findNextCell(e,t,r,n);r=o?parseInt(o.getAttribute("aria-colindex"),10)-1:-1,this.parent.enableRtl&&o?r<1?e.scrollLeft=e.scrollWidth:e.scrollLeft+=o.offsetWidth:o&&(r<1?e.scrollLeft=0:e.scrollLeft-=o.offsetWidth)}break;case"right":this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(r=parseInt(this.startAFCell.getAttribute("aria-colindex"),10)-1);var s=this.parent.getCellFromIndex(n,r),a=this.findNextCell(e,t,r,n);a&&this.isAutoFillSel&&this.startAFCell&&this.startAFCell!==this.startCell&&(this.startAFCell=this.parent.getCellFromIndex(this.selectedRowCellIndexes[0].rowIndex,parseInt(a.getAttribute("aria-colindex"),10)-1)),r=a?parseInt(a.getAttribute("aria-colindex"),10)-1:-1,this.parent.enableRtl&&a?r<this.parent.columns.length-1?e.scrollLeft-=s.offsetWidth:e.scrollLeft=-e.scrollWidth:a&&(r<this.parent.columns.length-1?e.scrollLeft+=s.offsetWidth:e.scrollLeft=e.scrollWidth),this.isAutoFillSel&&(r===this.parent.columns.length-1||-1===r)&&this.startAFCell&&this.endAFCell&&(this.positionAFBorders(),e.scrollLeft=this.parent.enableRtl?-e.scrollWidth:e.scrollWidth)}if(n>-1&&n<this.parent.getRows().length&&r>-1){var l={target:this.parent.getCellFromIndex(n,r)};if(this.isAutoFillSel&&l.target.classList.contains("e-cellselectionbackground")&&("down"===t&&parseInt(l.target.getAttribute("index"),10)===this.parent.getRows().length-1||"right"===t&&parseInt(l.target.getAttribute("aria-colindex"),10)-1==this.parent.columns.length-1))return;this.endAFCell=l.target,this.preventFocus=!0,this.selectLikeExcel(l,n,r)}},e.prototype.findNextCell=function(e,t,i,n){var r=this.parent.getCellFromIndex(n,"left"===t?i-1:i+1);if(r&&r.classList.contains("e-hide")){var o=r.closest("tr").querySelectorAll(".e-rowcell:not(.e-hide)"),s=Array.from(o).indexOf(r.nextElementSibling);if(!(s>0)||!(s<o.length-1))return e.scrollLeft=0,null;r=o[s+("left"===t?-1:1)]}return r},e.prototype.selectLikeExcel=function(e,t,i){this.isAutoFillSel?(this.showAFBorders(),this.selectLikeAutoFill(e)):(this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:t,cellIndex:i}),this.drawBorders())},e.prototype.setFrozenBorders=function(e,t,i){var n=t.style.borderWidth.toString().split(" "),r=[].slice.call(e.querySelectorAll(".e-cellselectionbackground."+["","e-leftfreeze","e-unfreeze","e-leftfreeze","e-unfreeze","e-rightfreeze","e-rightfreeze"][""+i])).filter(function(e){return""===e.style.display}),o=[].slice.call(e.querySelectorAll(".e-cellselectionbackground.e-fixedfreeze")).filter(function(e){return""===e.style.display}),s=this.parent.enableRtl;if(r.length)for(var a=r[0].getAttribute("index"),l=r[0].getAttribute("aria-colindex"),h=r[r.length-1].getAttribute("index"),c=r[r.length-1].getAttribute("aria-colindex"),p=0;p<r.length;p++)r[parseInt(p.toString(),10)].getAttribute("index")===a&&(1===n.length||3===n.length&&2===parseInt(n[0],10)||4===n.length&&2===parseInt(n[0],10))&&r[parseInt(p.toString(),10)].classList.add("e-xlsel-top-border"),r[parseInt(p.toString(),10)].getAttribute("aria-colindex")===l&&(1===n.length||3===n.length&&2===parseInt(n[1],10)||4===n.length&&(!s&&2===parseInt(n[3],10)||s&&2===parseInt(n[1],10)))&&r[parseInt(p.toString(),10)].classList.add(s?"e-xlsel-right-border":"e-xlsel-left-border"),r[parseInt(p.toString(),10)].getAttribute("index")===h&&(1===n.length||3===n.length&&2===parseInt(n[2],10)||4===n.length&&2===parseInt(n[2],10))&&r[parseInt(p.toString(),10)].classList.add("e-xlsel-bottom-border"),r[parseInt(p.toString(),10)].getAttribute("aria-colindex")===c&&(1===n.length||3===n.length&&2===parseInt(n[1],10)||4===n.length&&!s&&2===parseInt(n[1],10)||s&&2===parseInt(n[3],10))&&r[parseInt(p.toString(),10)].classList.add(s?"e-xlsel-left-border":"e-xlsel-right-border");if(o.length)for(var a=o[0].getAttribute("index"),l=(parseInt(o[0].getAttribute("aria-colindex"),10)-1).toString(),h=o[o.length-1].getAttribute("index"),c=(parseInt(o[o.length-1].getAttribute("aria-colindex"),10)-1).toString(),p=0;p<o.length;p++){var d=o[parseInt(p.toString(),10)].getAttribute("index"),u=(parseInt(o[parseInt(p.toString(),10)].getAttribute("aria-colindex"),10)-1).toString();d===a&&(!this.parent.getHeaderContent().querySelector(".e-cellselectionbackground.e-fixedfreeze")&&(0,U.Cf)(e,"e-content")||!(0,U.Cf)(e,"e-content"))&&o[parseInt(p.toString(),10)].classList.add("e-xlsel-top-border"),d===h&&(!this.parent.getContent().querySelector(".e-cellselectionbackground.e-fixedfreeze")&&(0,U.Cf)(e,"e-headercontent")||!(0,U.Cf)(e,"e-headercontent"))&&o[parseInt(p.toString(),10)].classList.add("e-xlsel-bottom-border");var g=o[parseInt(p.toString(),10)].parentElement.children[parseInt(u,10)-1];u!==l||g&&(!g||g.classList.contains("e-cellselectionbackground"))||o[parseInt(p.toString(),10)].classList.add(s?"e-xlsel-right-border":"e-xlsel-left-border");var f=o[parseInt(p.toString(),10)].parentElement.children[parseInt(u,10)+1];u!==c||f&&(!f||f.classList.contains("e-cellselectionbackground"))||o[parseInt(p.toString(),10)].classList.add(s?"e-xlsel-left-border":"e-xlsel-right-border")}},e.prototype.refreshFrozenBorders=function(){this.bdrElement&&(this.setFrozenBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&this.parent.getFrozenMode()===te.v3&&this.setFrozenBorders(this.parent.getContentTable(),this.frcBdrElement,"5"),this.parent.frozenRows&&(this.setFrozenBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&this.parent.getFrozenMode()===te.v3&&this.setFrozenBorders(this.parent.getHeaderTable(),this.frhBdrElement,"6")))},e.prototype.drawBorders=function(){"BoxWithBorder"===this.selectionSettings.cellSelectionMode&&this.selectedRowCellIndexes.length&&!this.parent.isEdit?(this.parent.element.classList.add("e-enabledboxbdr"),this.bdrElement||this.createBorders(),this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders())):this.showHideBorders("none")},e.prototype.isLastCell=function(e){var t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[t.length-1]===e},e.prototype.isLastRow=function(e){var t=[].slice.call((0,y.oq)(e,te.gE).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[t.length-1]},e.prototype.isFirstRow=function(e){var t=[].slice.call((0,y.oq)(e,te.gE).querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[0]},e.prototype.isFirstCell=function(e){return[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"))[0]===e},e.prototype.setBorders=function(e,t,i){var n=[].slice.call(e.getElementsByClassName("e-cellselectionbackground")).filter(function(e){return""===e.style.display});if(n.length&&this.parent.isFrozenGrid()&&(n=[].slice.call(e.querySelectorAll(".e-cellselectionbackground."+["","e-leftfreeze","e-unfreeze","e-leftfreeze","e-unfreeze","e-rightfreeze","e-rightfreeze"][""+i]+":not(.e-hide)")).filter(function(e){return""===e.style.display})),n.length){var r=this.parent.isFrozenGrid(),o=n[0],s=n[n.length-1],a=o.getBoundingClientRect(),l=s.getBoundingClientRect(),h=o.offsetParent.getBoundingClientRect();(o.offsetParent.classList.contains("e-content")||o.offsetParent.classList.contains("e-headercontent"))&&(h=o.offsetParent.querySelector("table").getBoundingClientRect());var c=!r&&this.isLastRow(s)&&("1"===i||"2"===i||"5"===i)?2:0,p=r&&("2"===i||"4"===i)&&this.isFirstCell(o)?1:0,d=("Right"===this.parent.getFrozenMode()&&("1"===i||"3"===i)||this.parent.getFrozenMode()===te.v3&&("5"===i||"6"===i))&&this.isFirstCell(o)?1:0;this.parent.enableRtl?(t.style.right=h.right-a.right-p+"px",t.style.width=a.right-l.left+p+1+"px"):(t.style.left=a.left-h.left-p-d+"px",t.style.width=l.right-a.left+p-d+1+"px"),t.style.top=a.top-h.top-0+"px",t.style.height=l.top-a.top>0?l.top-h.top+l.height+(r?0:1)-(a.top-h.top)-c+0+"px":l.height+0-c+(r?0:1)+"px",this.selectDirection+=i}else t.style.display="none"},e.prototype.positionBorders=function(){this.updateStartEndCells(),this.startCell&&this.bdrElement&&this.selectedRowCellIndexes.length&&(this.selectDirection="",this.showHideBorders(""),this.setBorders(this.parent.getContentTable(),this.bdrElement,"1"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.getContentTable(),this.mcBdrElement,"2"),this.parent.getFrozenMode()===te.v3&&this.setBorders(this.parent.getContentTable(),this.frcBdrElement,"5")),this.parent.frozenRows&&(this.setBorders(this.parent.getHeaderTable(),this.fhBdrElement,"3"),this.parent.isFrozenGrid()&&(this.setBorders(this.parent.getHeaderTable(),this.mhBdrElement,"4"),this.parent.getFrozenMode()===te.v3&&this.setBorders(this.parent.getHeaderTable(),this.frhBdrElement,"6"))),this.applyBorders(this.selectDirection))},e.prototype.applyBothFrozenBorders=function(e){var t=this.parent.enableRtl;switch(e.length){case 6:this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=this.bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=this.top,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right;break;case 4:e.includes("1")&&e.includes("2")&&e.includes("3")&&e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom),e.includes("2")&&e.includes("4")&&e.includes("5")&&e.includes("6")&&(this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.frcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.frhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 3:this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mcBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.mhBdrElement.style.borderWidth=this.top_bottom,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom);break;case 2:e.includes("1")&&(this.mcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.top_right_left)),e.includes("2")&&(this.bdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.parent.frozenRows&&(this.mhBdrElement.style.borderWidth=this.top_right_left)),e.includes("3")&&(this.mhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.bdrElement.style.borderWidth=this.right_bottom_left),e.includes("4")&&(this.fhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frhBdrElement.style.borderWidth=t?this.top_bottom_left:this.top_right_bottom,this.mcBdrElement.style.borderWidth=this.right_bottom_left),e.includes("5")&&(this.mcBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.parent.frozenRows&&(this.frhBdrElement.style.borderWidth=this.top_right_left)),e.includes("6")&&(this.mhBdrElement.style.borderWidth=t?this.top_right_bottom:this.top_bottom_left,this.frcBdrElement.style.borderWidth=this.right_bottom_left);break;default:this.bdrElement.style.borderWidth=this.all_border,this.mcBdrElement.style.borderWidth=this.all_border,this.frcBdrElement.style.borderWidth=this.all_border,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.mhBdrElement.style.borderWidth=this.all_border,this.frhBdrElement.style.borderWidth=this.all_border)}},e.prototype.applyBorders=function(e){var t=this.parent.enableRtl;if(this.parent.getFrozenMode()===te.v3)this.applyBothFrozenBorders(e);else switch(e.length){case 4:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.mcBdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.fhBdrElement.style.borderWidth=t?this.top_left:this.top_right,this.mhBdrElement.style.borderWidth=t?this.top_right:this.top_left):(this.bdrElement.style.borderWidth=t?this.right_bottom:this.bottom_left,this.mcBdrElement.style.borderWidth=t?this.bottom_left:this.right_bottom,this.fhBdrElement.style.borderWidth=t?this.top_right:this.top_left,this.mhBdrElement.style.borderWidth=t?this.top_left:this.top_right);break;case 2:"Right"===this.parent.getFrozenMode()?(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left,this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom,this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left)):(this.bdrElement.style.borderWidth=e.includes("2")?t?this.top_right_bottom:this.top_bottom_left:this.right_bottom_left,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=e.includes("1")?t?this.top_bottom_left:this.top_right_bottom:this.right_bottom_left),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=e.includes("1")?this.top_right_left:t?this.top_right_bottom:this.top_bottom_left,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=e.includes("2")?this.top_right_left:t?this.top_bottom_left:this.top_right_bottom)));break;default:this.bdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mcBdrElement.style.borderWidth=this.all_border),this.parent.frozenRows&&(this.fhBdrElement.style.borderWidth=this.all_border,this.parent.isFrozenGrid()&&(this.mhBdrElement.style.borderWidth=this.all_border))}},e.prototype.createBorders=function(){if(!this.bdrElement){var e=(0,y.az)("div",{className:"e-xlsel",id:this.parent.element.id+"_bdr"});if(e.style.cssText="width: 2px; border-width: 0;",this.bdrElement=this.parent.getContentTable().parentElement.appendChild(e),this.parent.isFrozenGrid()){var t=(0,y.az)("div",{className:"e-xlsel",id:this.parent.element.id+"_mcbdr"});if(t.style.cssText="height: 2px; border-width: 0;",this.mcBdrElement=this.parent.getContentTable().parentElement.appendChild(t),this.parent.getFrozenMode()===te.v3){var i=(0,y.az)("div",{className:"e-xlsel",id:this.parent.element.id+"_frcbdr"});i.style.cssText="height: 2px; border-width: 0;",this.frcBdrElement=this.parent.getContentTable().parentElement.appendChild(i)}}if(this.parent.frozenRows){var n=(0,y.az)("div",{className:"e-xlsel",id:this.parent.element.id+"_fhbdr"});n.style.height="2px",this.fhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(n)}if(this.parent.frozenRows&&this.parent.isFrozenGrid()){var r=(0,y.az)("div",{className:"e-xlsel",id:this.parent.element.id+"_mhbdr"});if(r.style.height="2px",this.mhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(r),this.parent.getFrozenMode()===te.v3){var o=(0,y.az)("div",{className:"e-xlsel",id:this.parent.element.id+"_frhbdr"});o.style.height="2px",this.frhBdrElement=this.parent.getHeaderTable().parentElement.appendChild(o)}}}},e.prototype.showHideBorders=function(e,t){if(this.bdrElement){if(this.bdrElement.style.display=e,this.parent.isFrozenGrid()){var i=this.parent.getContentTable();(0,y.IV)(i.querySelectorAll(".e-xlsel-top-border"),"e-xlsel-top-border"),(0,y.IV)(i.querySelectorAll(".e-xlsel-left-border"),"e-xlsel-left-border"),(0,y.IV)(i.querySelectorAll(".e-xlsel-right-border"),"e-xlsel-right-border"),(0,y.IV)(i.querySelectorAll(".e-xlsel-bottom-border"),"e-xlsel-bottom-border"),t||(this.mcBdrElement.style.display=e),this.parent.getFrozenMode()===te.v3&&(this.frcBdrElement.style.display=e)}if(this.parent.frozenRows){var i=this.parent.getHeaderTable();(0,y.IV)(i.querySelectorAll(".e-xlsel-top-border"),"e-xlsel-top-border"),(0,y.IV)(i.querySelectorAll(".e-xlsel-left-border"),"e-xlsel-left-border"),(0,y.IV)(i.querySelectorAll(".e-xlsel-right-border"),"e-xlsel-right-border"),(0,y.IV)(i.querySelectorAll(".e-xlsel-bottom-border"),"e-xlsel-bottom-border"),this.fhBdrElement.style.display=e}this.parent.frozenRows&&this.parent.isFrozenGrid()&&(t||(this.mhBdrElement.style.display=e),this.parent.getFrozenMode()===te.v3&&(this.frhBdrElement.style.display=e))}},e.prototype.drawAFBorders=function(){this.bdrAFBottom||this.createAFBorders(),this.positionAFBorders()},e.prototype.positionAFBorders=function(){if(this.startCell&&this.bdrAFLeft){var e=this.startAFCell.getBoundingClientRect(),t=this.endAFCell.getBoundingClientRect(),i=t.top-e.top>0?1:0,n=t.top-e.top>=0&&((0,U.Cf)(this.startAFCell,te.L2)||(0,U.Cf)(this.startAFCell,"e-frozencontent"))&&this.isFirstRow(this.startAFCell)?1.5:0,r=((0,U.Cf)(this.startAFCell,te.L2)||(0,U.Cf)(this.startAFCell,te.Hx))&&this.isFirstCell(this.startAFCell)?1:0,o=this.isLastRow(this.endAFCell)&&((0,U.Cf)(this.endAFCell,te.L2)||(0,U.Cf)(this.endAFCell,"e-frozencontent"))?2:0,s=this.startAFCell.offsetParent.getBoundingClientRect(),a=this.parent.element.getBoundingClientRect(),l=this.startAFCell.offsetParent.parentElement.scrollTop,h=this.startAFCell.offsetParent.parentElement.scrollLeft,c=l-this.startAFCell.offsetTop,p=h-this.startAFCell.offsetLeft,d=this.parent.element.clientHeight-(0,U.Iz)();this.parent.allowPaging&&(d-=this.parent.element.querySelector(".e-pager").offsetHeight),this.parent.aggregates.length&&(d-=this.parent.getFooterContent().offsetHeight);var u=this.parent.element.clientWidth-("auto"!==this.parent.height?(0,U.Iz)():0);c=c>0?Math.floor(c)-1:0,p=p>0?p:0;var g=e.left-a.left;if(this.parent.enableRtl){var f=(0,U.Cf)(this.startAFCell,te.L2)||(0,U.Cf)(this.startAFCell,te.Hx)?e.right-this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width-a.left:0;this.bdrAFLeft.style.right=a.right-t.right-2+t.width+"px",this.bdrAFLeft.style.width=u<=parseInt(this.bdrAFLeft.style.right,10)?"0px":"2px";var m=a.right-e.right-r+f-1;m>0?this.bdrAFRight.style.right=m+"px":this.bdrAFRight.style.right="0px",this.bdrAFTop.style.left=t.left-a.left-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFLeft.style.right,10)-parseInt(this.bdrAFRight.style.right,10)-r+1+"px",0>parseInt(this.bdrAFTop.style.left,10)&&(this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)+"px","auto"!==this.parent.height&&(0,U.Iz)()?(this.bdrAFTop.style.left=(0,U.Iz)()+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-(0,U.Iz)()+"px"):this.bdrAFTop.style.left="0px")}else if(this.bdrAFLeft.style.left=g-r+p-1+"px",this.bdrAFRight.style.left=t.left-a.left-2+t.width+"px",this.bdrAFRight.style.width=u<=parseInt(this.bdrAFRight.style.left,10)?"0px":"2px",this.bdrAFTop.style.left=g+p-.5+"px",this.bdrAFTop.style.width=parseInt(this.bdrAFRight.style.left,10)-parseInt(this.bdrAFLeft.style.left,10)-r+1+"px",u<=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)){var y=parseInt(this.bdrAFTop.style.width,10)+parseInt(this.bdrAFTop.style.left,10)-u;this.bdrAFTop.style.width=parseInt(this.bdrAFTop.style.width,10)-y+"px"}if(this.bdrAFLeft.style.top=e.top-a.top-n+c+"px",this.bdrAFLeft.style.height=t.top-e.top>0?t.top-s.top+t.height+1-(e.top-s.top)+n-o-c+"px":t.height+n-o-c+"px",this.bdrAFRight.style.top=this.bdrAFLeft.style.top,this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px",this.bdrAFTop.style.top=this.bdrAFRight.style.top,this.bdrAFBottom.style.left=this.bdrAFTop.style.left,this.bdrAFBottom.style.top=parseFloat(this.bdrAFLeft.style.top)+parseFloat(this.bdrAFLeft.style.height)-i-1+"px",this.bdrAFBottom.style.width=d<=parseFloat(this.bdrAFBottom.style.top)?"0px":this.bdrAFTop.style.width,d<=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)){var v=parseInt(this.bdrAFLeft.style.height,10)+parseInt(this.bdrAFLeft.style.top,10)-d;this.bdrAFLeft.style.height=parseInt(this.bdrAFLeft.style.height,10)-v+"px",this.bdrAFRight.style.height=parseInt(this.bdrAFLeft.style.height,10)+"px"}}},e.prototype.createAFBorders=function(){if(!this.bdrAFLeft){var e=(0,y.az)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafleft"});e.style.width="2px",this.bdrAFLeft=this.parent.element.appendChild(e);var t=(0,y.az)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafright"});t.style.width="2px",this.bdrAFRight=this.parent.element.appendChild(t);var i=(0,y.az)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdrafbottom"});i.style.height="2px",this.bdrAFBottom=this.parent.element.appendChild(i);var n=(0,y.az)("div",{className:"e-xlselaf",id:this.parent.element.id+"_bdraftop"});n.style.height="2px",this.bdrAFTop=this.parent.element.appendChild(n)}},e.prototype.destroyAutoFillElements=function(){this.bdrAFLeft&&(this.bdrAFLeft.remove(),this.bdrAFRight.remove(),this.bdrAFBottom.remove(),this.bdrAFTop.remove(),this.bdrAFLeft=this.bdrAFRight=this.bdrAFBottom=this.bdrAFTop=null),this.autofill&&(this.autofill.remove(),this.autofill=null)},e.prototype.showAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="",this.bdrAFRight.style.display="",this.bdrAFBottom.style.display="",this.bdrAFTop.style.display="")},e.prototype.hideAFBorders=function(){this.bdrAFLeft&&(this.bdrAFLeft.style.display="none",this.bdrAFRight.style.display="none",this.bdrAFBottom.style.display="none",this.bdrAFTop.style.display="none")},e.prototype.updateValue=function(e,t,i){var n=this.createBeforeAutoFill(e,t,i);if(!n.cancel){var r=this.parent.getColumnByIndex(t);this.parent.editModule&&i&&("number"===r.type?this.parent.editModule.updateCell(e,r.field,parseFloat(n.value)):this.parent.editModule.updateCell(e,r.field,n.value))}},e.prototype.createBeforeAutoFill=function(e,t,i){var n={column:this.parent.getColumnByIndex(t),value:i.innerText};return this.parent.trigger(Z.de3,n),n},e.prototype.getAutoFillCells=function(e,t){return[].slice.call(this.parent.getDataRows()[parseInt(e.toString(),10)].querySelectorAll(".e-cellselectionbackground"))},e.prototype.selectLikeAutoFill=function(e,t){var i=parseInt((0,U.Cf)(this.startAFCell,te.O7).getAttribute(te._x),10)-1,n=parseInt(this.startAFCell.getAttribute(te.qc),10)-1,r=parseInt((0,U.Cf)(this.endAFCell,te.O7).getAttribute(te._x),10)-1,o=parseInt(this.endAFCell.getAttribute(te.qc),10)-1,s=this.selectedRowCellIndexes.length-1,a=this.selectedRowCellIndexes[0].cellIndexes.length-1;switch(!0){case!t&&this.endAFCell.classList.contains("e-cellselectionbackground")&&!!(0,U.Cf)(e.target,te.PO):this.startAFCell=this.parent.getCellFromIndex(i,n),this.endAFCell=this.parent.getCellFromIndex(i+s,n+a),this.drawAFBorders();break;case this.autoFillRLselection&&n+a<o&&o-n-a+1>r-i-s&&o-n-a+1>i-r:if(this.endAFCell=this.parent.getCellFromIndex(i+s,o),r=parseInt((0,U.Cf)(this.endAFCell,te.O7).getAttribute(te._x),10)-1,o=parseInt(this.endAFCell.getAttribute(te.qc),10)-1,t){for(var l=parseInt(this.endCell.getAttribute(te.qc),10)-1,h=i;h<=r;h++)for(var c=this.getAutoFillCells(h,n),p=0,d=l+1;d<=o;d++)p>a&&(p=0),this.updateValue(h,d,c[parseInt(p.toString(),10)]),p++;this.selectCellsByRange({rowIndex:i,cellIndex:this.startCellIndex},{rowIndex:r,cellIndex:o})}else this.drawAFBorders();break;case this.autoFillRLselection&&n>o&&n-o+1>r-i-s&&n-o+1>i-r:if(this.startAFCell=this.parent.getCellFromIndex(i,o),this.endAFCell=this.endCell,t){for(var h=i;h<=i+s;h++){var c=this.getAutoFillCells(h,n);c.reverse();for(var p=0,d=this.startCellIndex-1;d>=o;d--)p>a&&(p=0),this.updateValue(h,d,c[parseInt(p.toString(),10)]),p++}this.selectCellsByRange({rowIndex:i,cellIndex:o},{rowIndex:i+s,cellIndex:this.startCellIndex+a})}else this.drawAFBorders();break;case i>r:if(this.startAFCell=this.parent.getCellFromIndex(r,n),this.endAFCell=this.endCell,t){for(var u=parseInt(this.endCell.parentElement.getAttribute(te._x),10)-1,g=u,h=i-1;h>=r;h--){g===this.startIndex-1&&(g=u);var c=this.getAutoFillCells(g,n),p=0;g--;for(var d=this.startCellIndex;d<=this.startCellIndex+a;d++)this.updateValue(h,d,c[parseInt(p.toString(),10)]),p++}this.selectCellsByRange({rowIndex:r,cellIndex:n+a},{rowIndex:i+s,cellIndex:n})}else this.drawAFBorders();break;default:if(this.endAFCell=this.parent.getCellFromIndex(r,n+a),t){for(var u=parseInt(this.endCell.parentElement.getAttribute(te._x),10)-1,g=this.startIndex,h=u+1;h<=r;h++){g===u+1&&(g=this.startIndex);var c=this.getAutoFillCells(g,n);g++;for(var p=0,f=this.startCellIndex;f<=this.startCellIndex+a;f++)this.updateValue(h,f,c[parseInt(p.toString(),10)]),p++}this.selectCellsByRange({rowIndex:u-s,cellIndex:n},{rowIndex:r,cellIndex:n+a})}else this.drawAFBorders()}},e.prototype.mouseUpHandler=function(e){this.stopTimer(),document.body.classList.remove("e-disableuserselect"),this.element&&!(0,y.le)(this.element.parentElement)&&(0,y.Od)(this.element),this.isDragged&&1===this.selectedRowCellIndexes.length&&1===this.selectedRowCellIndexes[0].cellIndexes.length?this.mUPTarget=(0,U.Cf)(e.target,te.PO):this.mUPTarget=null;var t=(0,y.oq)(e.target,".e-rowcell");if(this.isDragged&&!this.isAutoFillSel&&"Cell"===this.selectionSettings.mode&&t&&t.classList.contains(te.PO)){var i=parseInt(t.parentElement.getAttribute(te._x),10)-1,n=parseInt(t.getAttribute(te.qc),10)-1;this.isDragged=!1,this.clearCellSelection(),this.selectCellsByRange({rowIndex:this.startDIndex,cellIndex:this.startDCellIndex},{rowIndex:i,cellIndex:n})}if(this.isDragged=!1,this.updateAutoFillPosition(),this.isAutoFillSel){this.preventFocus=!0;var r=(0,U.Cf)(e.target,te.PO);this.endAFCell=r||(this.endCell===this.endAFCell?this.startAFCell:this.endAFCell),this.startAFCell=this.startCell,(0,y.le)(this.endAFCell)||(0,y.le)(this.startAFCell)||(this.updateStartCellsIndex(),this.selectLikeAutoFill(e,!0),this.updateAutoFillPosition(),this.hideAFBorders(),this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders()),this.parent.aggregates.length>0&&this.parent.notify(Z.d6W,{})),this.isAutoFillSel=!1,this.preventFocus=!1}y.bi.remove(this.parent.getContent(),"mousemove",this.mouseMoveHandler),this.parent.frozenRows&&y.bi.remove(this.parent.getHeaderContent(),"mousemove",this.mouseMoveHandler),y.bi.remove(document,"mouseup",this.mouseUpHandler)},e.prototype.hideAutoFill=function(){this.autofill&&(this.autofill.style.display="none")},e.prototype.updateAutoFillPosition=function(){if(this.parent.enableAutoFill&&!this.parent.isEdit&&this.selectionSettings.cellSelectionMode.indexOf("Box")>-1&&!this.isRowType()&&!this.isSingleSel()&&this.selectedRowCellIndexes.length){var e=parseInt(this.target.getAttribute(te.qc),10)-1,t=parseInt(this.target.getAttribute("index"),10),i=this.selectedRowCellIndexes[this.selectedRowCellIndexes.length-1].rowIndex,n=this.getAutoFillCells(i,e).filter(function(e){return""===e.style.display}),r=this.parent.getColumnByIndex(e),o=(r.getFreezeTableName(),t<this.parent.frozenRows),s=this.parent.getFrozenMode()===te.v3&&r.getFreezeTableName()===te.FP;!(0,y.Ys)("#"+this.parent.element.id+"_autofill",(0,U.Cf)(this.target,te.Kz))&&((0,y.Ys)("#"+this.parent.element.id+"_autofill",this.parent.element)&&(0,y.Ys)("#"+this.parent.element.id+"_autofill",this.parent.element).remove(),this.autofill=(0,y.az)("div",{className:"e-autofill",id:this.parent.element.id+"_autofill"}),this.autofill.style.display="none",(this.target.classList.contains("e-leftfreeze")||this.target.classList.contains("e-rightfreeze")||this.target.classList.contains("e-fixedfreeze"))&&this.autofill.classList.add("e-freeze-autofill"),o?this.parent.getHeaderTable().parentElement.appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill),s&&(o?this.parent.getHeaderTable().parentElement.appendChild(this.autofill):this.parent.getContentTable().parentElement.appendChild(this.autofill)));var a=n[n.length-1];if(a&&a.offsetParent){var l=a.getBoundingClientRect(),h=a.offsetParent.getBoundingClientRect();(a.offsetParent.classList.contains("e-content")||a.offsetParent.classList.contains("e-headercontent"))&&(h=a.offsetParent.querySelector("table").getBoundingClientRect());var c=this.isLastCell(a)?4:0,p=this.isLastRow(a)?3:0;this.parent.enableRtl?this.autofill.style.right=h.right-l.right+l.width-4-c+"px":this.autofill.style.left=l.left-h.left+l.width-4-c+"px",this.autofill.style.top=l.top-h.top+l.height-5-p+"px"}this.autofill.style.display=""}else this.hideAutoFill()},e.prototype.mouseDownHandler=function(e){this.mouseButton=e.button;var t,i=e.target,n=this.parent,r=(0,U.Cf)(i,"e-grid");if(!(r&&r.id!==n.element.id||(0,U.Cf)(i,te.Vd)&&!this.parent.frozenRows||(0,U.Cf)(i,"e-editedbatchcell")||(0,U.Cf)(i,te.fX))){if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),(0,U.Cf)(i,te.PO)&&!e.shiftKey&&!e.ctrlKey){if(!(n.selectionSettings.cellSelectionMode.indexOf("Box")>-1)||this.isRowType()||this.isSingleSel()){if(n.allowRowDragAndDrop&&!n.isEdit&&!this.parent.selectionSettings.checkboxOnly){if(this.isRowDragSelected=!1,!this.isRowType()||this.isSingleSel()||(0,y.oq)(i,"td").classList.contains("e-selectionbackground")){this.isDragged=!1;return}t=!0,this.element=this.parent.createElement("div",{className:"e-griddragarea"}),n.getContent().appendChild(this.element)}}else this.isCellDrag=!0,t=!0;t&&this.enableDrag(e,!0)}this.updateStartEndCells(),(i.classList.contains("e-autofill")||i.classList.contains("e-xlsel"))&&(this.isCellDrag=!0,this.isAutoFillSel=!0,this.enableDrag(e))}},e.prototype.updateStartEndCells=function(){var e=[].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground"));this.startCell=e[0],this.endCell=e[e.length-1],this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(te._x),10)-1,this.startCellIndex=parseInt((0,U.Cf)(this.startCell,te.PO).getAttribute(te.qc),10)-1)},e.prototype.updateStartCellsIndex=function(){this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute(te._x),10)-1,this.startCellIndex=parseInt((0,U.Cf)(this.startCell,te.PO).getAttribute(te.qc),10)-1)},e.prototype.enableDrag=function(e,t){var i=this.parent;if(t){var n=(0,y.oq)(e.target,"tr");this.startDIndex=parseInt(n.getAttribute(te._x),10)-1,this.startDCellIndex=parseInt((0,U.Cf)(e.target,te.PO).getAttribute(te.qc),10)-1}document.body.classList.add("e-disableuserselect");var r=i.element.getBoundingClientRect(),o=(0,U.bt)(e);this.x=o.x-r.left,this.y=o.y-r.top,y.bi.add(i.getContent(),"mousemove",this.mouseMoveHandler,this),this.parent.frozenRows&&y.bi.add(i.getHeaderContent(),"mousemove",this.mouseMoveHandler,this),y.bi.add(document,"mouseup",this.mouseUpHandler,this)},e.prototype.clearSelAfterRefresh=function(e){var t=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;if("virtualscroll"===e.requestType||this.parent.isPersistSelection||t||this.clearSelection(),("virtualscroll"===e.requestType||t)&&this.parent.isPersistSelection&&this.isPartialSelection&&this.isHdrSelectAllClicked){var i=this.parent.getRowsObject().filter(function(e){return e.isSelectable}),n=[];this.selectedRowState={},this.persistSelectedData=[];for(var r=0;r<i.length;r++){n.push(i[parseInt(r.toString(),10)].index);var o=this.getPkValue(this.primaryKey,i[parseInt(r.toString(),10)].data);this.selectedRowState[""+o]=!0,this.persistSelectedData.push(i[parseInt(r.toString(),10)].data)}this.selectedRowIndexes=n}},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:Z.vxT,handler:this.enableAfterRender},{event:Z.XrU,handler:this.initializeSelection},{event:Z.eDT,handler:this.onActionComplete},{event:Z.bhi,handler:this.onActionComplete},{event:Z.HjP,handler:this.onPropertyChanged},{event:Z.C$S,handler:this.onCellFocused},{event:Z.Zgy,handler:this.clearSelAfterRefresh},{event:Z.iLX,handler:this.columnPositionChanged},{event:Z.GEE,handler:this.initialEnd},{event:Z.cY3,handler:this.rowsRemoved},{event:Z.lxn,handler:this.refreshHeader},{event:Z.CMe,handler:this.destroyAutoFillElements},{event:Z.ob2,handler:this.destroy}],(0,U.aL)(this.parent,this.evtHandlers,!0,this),this.actionBeginFunction=this.actionBegin.bind(this),this.actionCompleteFunction=this.actionComplete.bind(this),this.parent.addEventListener(Z.m2U,this.actionBeginFunction),this.parent.addEventListener(Z.i8$,this.actionCompleteFunction),this.addEventListener_checkbox())},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(y.bi.remove(document,"mouseup",this.mouseUpHandler),y.bi.remove(this.parent.getContent(),"mousedown",this.mouseDownHandler),y.bi.remove(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler),(0,U.aL)(this.parent,this.evtHandlers,!1),this.parent.removeEventListener(Z.m2U,this.actionBeginFunction),this.parent.removeEventListener(Z.i8$,this.actionCompleteFunction),this.removeEventListener_checkbox(),this.parent.off(Z.CMe,this.destroyAutoFillElements))},e.prototype.wireEvents=function(){this.isMacOS=-1!==navigator.userAgent.indexOf("Mac OS"),this.isMacOS?(y.bi.add(this.parent.element,"keydown",this.keyDownHandler,this),y.bi.add(this.parent.element,"keyup",this.keyUpHandler,this)):this.parent.allowKeyboard||y.bi.add(this.parent.element,"keydown",this.keyDownHandler,this)},e.prototype.unWireEvents=function(){this.isMacOS?(y.bi.remove(this.parent.element,"keydown",this.keyDownHandler),y.bi.remove(this.parent.element,"keyup",this.keyUpHandler)):this.parent.allowKeyboard||y.bi.remove(this.parent.element,"keydown",this.keyDownHandler)},e.prototype.columnPositionChanged=function(){this.parent.isPersistSelection||this.clearSelection()},e.prototype.refreshHeader=function(){this.parent.getColumns().filter(function(e){return"checkbox"===e.type}).length&&!this.parent.getDataModule().isRemote()&&(this.gridCurrentRecord=this.getData()),this.setCheckAllState()},e.prototype.rowsRemoved=function(e){for(var t=0;t<e.records.length;t++){var i=this.getPkValue(this.primaryKey,e.records[parseInt(t.toString(),10)]);delete this.selectedRowState[""+i],--this.totalRecordsCount}this.setCheckAllState()},e.prototype.beforeFragAppend=function(e){"virtualscroll"===e.requestType||this.parent.isPersistSelection||this.clearSelection()},e.prototype.getCheckAllBox=function(){return this.parent.getHeaderContent().querySelector(".e-checkselectall")},e.prototype.enableAfterRender=function(e){e.module===this.getModuleName()&&e.enable&&(this.render(),this.initPerisistSelection())},e.prototype.render=function(e){y.bi.add(this.parent.getContent(),"mousedown",this.mouseDownHandler,this),y.bi.add(this.parent.getHeaderContent(),"mousedown",this.mouseDownHandler,this)},e.prototype.onPropertyChanged=function(e){if(e.module===this.getModuleName()){var t=this.parent;(0,y.le)(e.properties.type)||("Single"===this.selectionSettings.type?(t.element.removeAttribute("aria-multiselectable"),this.selectedRowCellIndexes.length>1&&(this.clearCellSelection(),this.prevCIdxs=void 0),this.selectedRowIndexes.length>1&&(this.clearRowSelection(),this.prevRowIndex=void 0),this.selectedColumnsIndexes.length>1&&(this.clearColumnSelection(),this.prevColIndex=void 0),this.enableSelectMultiTouch=!1,this.hidePopUp()):"Multiple"===this.selectionSettings.type&&t.element.setAttribute("aria-multiselectable","true")),(0,y.le)(e.properties.mode)&&(0,y.le)(e.properties.cellSelectionMode)||(this.clearSelection(),this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevColIndex=void 0),this.isPersisted=!0,this.checkBoxSelectionChanged(),this.isPersisted=!1,this.parent.isCheckBoxSelection||this.initPerisistSelection(),this.parent.getColumns().filter(function(e){return"checkbox"===e.type}).length&&(t.isCheckBoxSelection="ResetOnRowClick"!==this.selectionSettings.checkboxMode),this.drawBorders()}},e.prototype.hidePopUp=function(){this.parent.element.querySelector(".e-gridpopup").getElementsByClassName("e-rowselect").length&&(this.parent.element.querySelector(".e-gridpopup").style.display="none")},e.prototype.initialEnd=function(){this.selectedRowIndexes.length||(this.parent.off(Z.GEE,this.initialEnd),this.selectRow(this.parent.selectedRowIndex))},e.prototype.checkBoxSelectionChanged=function(){var e=this.parent;e.off(Z.GEE,this.checkBoxSelectionChanged);var t=e.getColumns().filter(function(e){return"checkbox"===e.type});t.length>0&&(e.isCheckBoxSelection=!0,this.chkField=t[0].field,this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount,(0,y.le)(this.totalRecordsCount)&&(this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.isSingleSel()?(e.selectionSettings.type="Multiple",e.dataBind()):this.initPerisistSelection()),e.isCheckBoxSelection||this.isPersisted||(this.chkField=null,this.initPerisistSelection())},e.prototype.initPerisistSelection=function(){var e=this.parent;this.parent.selectionSettings.persistSelection&&this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!0,this.ensureCheckboxFieldSelection()):this.parent.getPrimaryKeyFieldNames().length>0?(e.isPersistSelection=!1,this.ensureCheckboxFieldSelection()):(e.isPersistSelection=!1,this.selectedRowState={})},e.prototype.ensureCheckboxFieldSelection=function(){var e=this.parent;this.primaryKey=this.parent.getPrimaryKeyFieldNames()[0],!e.enableVirtualization&&this.chkField&&(e.isPersistSelection&&0===Object.keys(this.selectedRowState).length||!e.isPersistSelection)&&this.dataSuccess(!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result||this.parent.getDataModule().isRemote()?this.parent.getCurrentViewRecords():this.parent.renderModule.data.dataManager.dataSource.json)},e.prototype.dataSuccess=function(e){for(var t=0;t<e.length;t++){var i=this.getPkValue(this.primaryKey,e[parseInt(t.toString(),10)]),n=e[parseInt(t.toString(),10)][this.chkField];(0,y.le)(this.selectedRowState[""+i])&&n&&"boolean"==typeof n&&(this.selectedRowState[""+i]=n,this.parent.isPersistSelection&&this.persistSelectedData.push(e[parseInt(t.toString(),10)]))}},e.prototype.setRowSelection=function(e){if(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result){if(e){var t=Object.keys(this.selectedRowState),i=Object.keys(this.unSelectedRowState);if(!this.isCheckboxReset)for(var n=this.parent.groupSettings.columns.length&&this.parent.isPersistSelection?this.parent.currentViewData.records:this.parent.currentViewData,r=0;r<n.length;r++){var o=n[r];if(!(0,y.le)(o[this.primaryKey])){var s=o[this.primaryKey].toString();-1===t.indexOf(s)&&-1===i.indexOf(s)&&(this.selectedRowState[o[this.primaryKey]]=!0)}}}else this.selectedRowState={},this.unSelectedRowState={},this.rmtHdrChkbxClicked=!1}else if(e){if(this.isPartialSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling))for(var a=this.parent.getRowsObject().filter(function(e){return e.isSelectable}),l=0;l<a.length;l++){var h=a[l];this.selectedRowState[this.getPkValue(this.primaryKey,h.data)]=!0}else{var c=this.isPartialSelection?this.parent.partialSelectedRecords:this.getData();if(this.parent.groupSettings.columns.length)for(var p=0,d=this.isPartialSelection?c:c.records;p<d.length;p++){var o=d[p];this.selectedRowState[this.getPkValue(this.primaryKey,o)]=!0}else for(var u=0;u<c.length;u++){var o=c[u];this.selectedRowState[this.getPkValue(this.primaryKey,o)]=!0}}}else this.selectedRowState={}},e.prototype.getData=function(){return this.parent.getDataModule().dataManager.executeLocal(this.parent.getDataModule().generateQuery(!0))},e.prototype.getAvailableSelectedData=function(e){var t=new v.h(e).executeLocal(this.parent.getDataModule().generateQuery(!0));return this.parent.groupSettings.columns.length&&t&&t.records&&(t=t.records.slice()),t},e.prototype.refreshPersistSelection=function(){var e=this.parent.getRows();if(this.totalRecordsCount=this.parent.getCurrentViewRecords().length,this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),!(0,y.le)(e)&&e.length>0&&(this.parent.isPersistSelection||this.chkField)){for(var t=[],i=0;i<e.length;i++){var n=this.getRowObj(e[parseInt(i.toString(),10)]),r=n&&n.data?this.getPkValue(this.primaryKey,n.data):null;if(null===r)return;if(!this.isPartialSelection||n.isSelectable){var o=void 0,s=e[parseInt(i.toString(),10)].querySelector(".e-checkselect");this.selectedRowState[""+r]||"Check"===this.parent.checkAllRows&&this.selectedRowState[""+r]&&this.totalRecordsCount===Object.keys(this.selectedRowState).length&&0>this.chkAllCollec.indexOf(r)||"Uncheck"===this.parent.checkAllRows&&this.chkAllCollec.indexOf(r)>0&&!this.parent.selectedRowIndex||"Intermediate"===this.parent.checkAllRows&&!(0,y.le)(this.chkField)&&n.data[this.chkField]?(t.push(parseInt(e[parseInt(i.toString(),10)].getAttribute(te._x),10)-1),o=!0):(o=!1,this.checkedTarget!==s&&this.parent.isCheckBoxSelection&&s&&(0,U.jV)(s.nextElementSibling,o)),this.updatePersistCollection(e[parseInt(i.toString(),10)],o)}}this.isSingleSel()&&t.length>0?this.selectRow(t[0],!0):this.selectRows(t)}(this.parent.isCheckBoxSelection||"ResetOnRowClick"===this.parent.selectionSettings.checkboxMode)&&this.getCurrentBatchRecordChanges().length>0&&this.setCheckAllState()},e.prototype.actionBegin=function(e){if("save"===e.requestType&&this.parent.isPersistSelection){var t=this.parent.element.querySelector(".e-edit-checkselect");if(!(0,y.le)(t)){var i=(0,y.oq)(t,"."+te.fX);if(i){"Dialog"===this.parent.editSettings.mode&&(i=this.parent.element.querySelector(".e-dlgeditrow"));var n=this.getRowObj(i);if(!n)return;this.selectedRowState[this.getPkValue(this.primaryKey,n.data)]=n.isSelected=t.checked}else this.isCheckedOnAdd=t.checked}}this.parent.isPersistSelection&&this.isPartialSelection&&"paging"===e.requestType&&(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.selectedRowIndexes=[])},e.prototype.actionComplete=function(e){if("save"===e.requestType&&this.parent.isPersistSelection){if("add"===e.action){if(this.isCheckedOnAdd){var t=this.parent.getRowObjectFromUID(this.parent.getRows()[e.selectedRow].getAttribute("data-uid"));this.selectedRowState[this.getPkValue(this.primaryKey,t.data)]=t.isSelected=this.isCheckedOnAdd}this.isHdrSelectAllClicked=!1,this.setCheckAllState()}this.refreshPersistSelection()}if("delete"===e.requestType&&this.parent.isPersistSelection){for(var i=e.data.slice(),n=0;n<i.length;n++){var r=this.getPkValue(this.primaryKey,i[parseInt(n.toString(),10)]);(0,y.le)(r)||this.updatePersistDelete(r,this.isPartialSelection)}this.isHdrSelectAllClicked=!1,this.setCheckAllState(),this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount}if("paging"===e.requestType){if(this.parent.isPersistSelection&&this.isPartialSelection&&this.isHdrSelectAllClicked){for(var o=this.parent.getRowsObject(),s=[],n=0;n<o.length;n++)o[parseInt(n.toString(),10)].isSelectable&&s.push(o[parseInt(n.toString(),10)].index);s.length&&this.selectRows(s)}this.prevRowIndex=void 0,this.prevCIdxs=void 0,this.prevECIdxs=void 0}},e.prototype.onDataBound=function(){if(this.parent.getColumns().filter(function(e){return"checkbox"===e.type}).length&&!this.parent.getDataModule().isRemote()&&(this.gridCurrentRecord=this.getData()),!this.parent.enableVirtualization&&this.parent.isPersistSelection&&this.selectedRecords.length&&(this.isPrevRowSelection=!0),((this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&this.rmtHdrChkbxClicked||this.isPartialSelection&&this.parent.isPersistSelection&&this.isHdrSelectAllClicked)&&("Intermediate"===this.parent.checkAllRows?this.setRowSelection(!0):"Uncheck"===this.parent.checkAllRows&&this.setRowSelection(!1)),this.parent.enableVirtualization&&this.setCheckAllState(),this.parent.isPersistSelection&&this.refreshPersistSelection(),this.initialRowSelection=!!(this.isRowType()&&this.parent.element.querySelectorAll(".e-selectionbackground"))&&!!this.parent.getSelectedRows().length,this.parent.isCheckBoxSelection&&!this.initialRowSelection){for(var e=this.parent.getRowsObject(),t=[],i=0;i<e.length;i++)e[parseInt(i.toString(),10)].isSelected&&t.push(i);t.length&&this.selectRows(t),this.initialRowSelection=!0}},e.prototype.updatePersistSelectedData=function(e){if(this.parent.isPersistSelection){for(var t=this.parent.getRows(),i=0;i<t.length;i++)this.updatePersistCollection(t[parseInt(i.toString(),10)],e);"Uncheck"===this.parent.checkAllRows?(this.setRowSelection(!1),this.persistSelectedData=this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result?this.persistSelectedData:[]):"Check"===this.parent.checkAllRows&&(this.setRowSelection(!0),this.persistSelectedData=this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result||this.isPartialSelection?this.persistSelectedData:this.parent.groupSettings.columns.length?this.getData().records.slice():this.getData().slice())}},e.prototype.checkSelectAllAction=function(e){var t=this.getRenderer(),i=this.parent.element.querySelector(".e-gridform");if(this.checkedTarget=this.getCheckAllBox(),e&&this.getCurrentBatchRecordChanges().length?(this.parent.checkAllRows="Check",this.updatePersistSelectedData(e),this.selectRowsByRange(t.getVirtualRowIndex(0),t.getVirtualRowIndex(this.getCurrentBatchRecordChanges().length-1)),this.checkVirtualCheckBox()&&!this.parent.isPersistSelection&&(this.virtualSelectedData=this.virtualCheckBoxData().slice(),this.selectedRowIndexes=Object.keys(this.virtualSelectedData).map(function(e){return parseInt(e,10)}))):(this.parent.checkAllRows="Uncheck",this.updatePersistSelectedData(e),this.clearSelection()),this.chkAllCollec=[],!(0,y.le)(i)){var n=i.querySelector(".e-edit-checkselect");(0,y.le)(n)||(0,U.jV)(n.nextElementSibling,e)}},e.prototype.checkSelectAll=function(e){var t=this,i=this.getCheckAllStatus(e),n="Check"===i;if(this.isHeaderCheckboxClicked=!0,(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&("Uncheck"===i||this.isCheckboxReset||"Intermediate"===i&&this.parent.isPersistSelection)?this.rmtHdrChkbxClicked=!0:this.rmtHdrChkbxClicked=!1,this.rmtHdrChkbxClicked&&this.isCheckboxReset&&(this.unSelectedRowState={}),this.isCheckboxReset=!1,"Intermediate"===i&&(this.chkField||this.parent.isPersistSelection||(n=this.getCurrentBatchRecordChanges().some(function(e){return t.getPkValue(t.primaryKey,e) in t.selectedRowState})),this.parent.isPersistSelection)){if(this.parent.allowPaging&&this.isPartialSelection)for(var r=this.parent.getRowsObject(),o=0;o<r.length;o++){if(r[o].isDataRow&&r[o].isSelectable&&!r[o].isSelected){n=!1;break}n=!0}else if(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result){for(var o=0;o<this.getCurrentBatchRecordChanges().length;o++)if(!(0,y.le)(this.getPkValue(this.primaryKey,this.getCurrentBatchRecordChanges()[""+o]))){if(Object.keys(this.selectedRowState).includes(this.getPkValue(this.primaryKey,this.getCurrentBatchRecordChanges()[""+o]).toString()))n=!0;else{n=!1;break}}}}this.parent.isPersistSelection&&this.parent.allowPaging&&(this.totalRecordsCount=this.parent.pageSettings.totalRecordsCount),this.checkSelectAllAction(!n),this.target=null,this.getCurrentBatchRecordChanges().length>0&&(this.setCheckAllState(),this.updateSelectedRowIndexes()),this.triggerChkChangeEvent(e,!n)},e.prototype.getCheckAllStatus=function(e){(0,y.le)(e)?(0,y.le)(this.getCheckAllBox())||(t=this.getCheckAllBox().nextElementSibling.classList):t=e.nextElementSibling.classList;var t,i="None";return t instanceof DOMTokenList&&(t.contains("e-check")?i="Check":t.contains("e-uncheck")?i="Uncheck":t.contains("e-stop")&&(i="Intermediate")),i},e.prototype.checkSelect=function(e){var t=(0,y.oq)(this.checkedTarget,"."+te.PO),i=this.parent;this.isMultiCtrlRequest=!0;var n=0;if(this.isHeaderCheckboxClicked=!1,(0,U.MU)(i)){var r=t.parentElement.getAttribute("data-uid");n=this.parent.enableVirtualization&&this.parent.groupSettings.columns.length?parseInt(t.parentElement.getAttribute(te._x),10)-1:i.getRows().map(function(e){return e.getAttribute("data-uid")}).indexOf(r)}else n=parseInt(t.parentElement.getAttribute(te._x),10)-1;this.parent.isPersistSelection&&this.parent.element.getElementsByClassName(te.gY).length>0&&"Top"===this.parent.editSettings.newRowPosition&&!this.parent.editSettings.showAddNewRow&&++n,this.rowCellSelectionHandler(n,parseInt(t.getAttribute(te.qc),10)-1),this.moveIntoUncheckCollection((0,y.oq)(t,"."+te.O7)),this.setCheckAllState(),this.isMultiCtrlRequest=!1,this.triggerChkChangeEvent(e,e.nextElementSibling.classList.contains("e-check"))},e.prototype.moveIntoUncheckCollection=function(e){if("Check"===this.parent.checkAllRows||"Uncheck"===this.parent.checkAllRows){var t=this.getRowObj(e),i=t&&t.data?this.getPkValue(this.primaryKey,t.data):null;i&&(0>this.chkAllCollec.indexOf(i)?this.chkAllCollec.push(i):this.chkAllCollec.splice(this.chkAllCollec.indexOf(i),1))}},e.prototype.triggerChkChangeEvent=function(e,t){this.parent.trigger(Z.ru1,{checked:t,selectedRowIndexes:this.parent.getSelectedRowIndexes(),target:e}),this.parent.isEdit||(this.checkedTarget=null)},e.prototype.updateSelectedRowIndexes=function(){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&this.isPartialSelection&&!(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&this.parent.selectionSettings.persistSelection&&"Uncheck"!==this.parent.checkAllRows)for(var e=this.parent.getRowsObject().filter(function(e){return e.isSelectable}),t=0,i=e;t<i.length;t++){var n=i[t];this.selectedRowIndexes.push(n.index)}if(this.parent.isCheckBoxSelection&&this.parent.enableVirtualization&&!this.isPartialSelection&&(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.parent.isPersistSelection&&"Check"===this.parent.checkAllRows){var e=this.parent.getRowsObject().filter(function(e){return e.isSelectable});if(e.length!==this.selectedRowIndexes.length)for(var r=0,o=e;r<o.length;r++){var n=o[r];-1>=this.selectedRowIndexes.indexOf(n.index)&&this.selectedRowIndexes.push(n.index)}}},e.prototype.updateSelectedRowIndex=function(e){if(this.parent.isCheckBoxSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.isPartialSelection){if("Check"===this.parent.checkAllRows){this.selectedRowIndexes=[];for(var t=this.parent.groupSettings.columns.length?this.getData().records.length:this.getData().length,i=0;i<t;i++)this.selectedRowIndexes.push(i)}else if("Uncheck"===this.parent.checkAllRows)this.selectedRowIndexes=[];else{var n=this.parent.getRowByIndex(e);if(e&&n&&"false"===n.getAttribute("aria-selected")){var r=this.selectedRowIndexes.indexOf(e);this.selectedRowIndexes.splice(r,1)}}}},e.prototype.isAllSelected=function(e){if(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)return this.getAvailableSelectedData(this.persistSelectedData).length===(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling?this.parent.totalDataRecordsCount:this.totalRecordsCount);if(this.isPartialSelection){if(!this.parent.allowPaging||this.selectionSettings.persistSelection||!(this.parent.pageSettings.pageSize<this.parent.pageSettings.totalRecordsCount))return this.isSelectAllRowCount(e);for(var t=this.parent.partialSelectedRecords,i=0;i<t.length;i++){var n=this.getPkValue(this.primaryKey,t[parseInt(i.toString(),10)]);if(!this.selectedRowState[""+n])return!1}return!0}var t=this.getData();this.parent.groupSettings.columns.length&&t.records&&(t=t.records);for(var i=0;i<t.length;i++){var n=this.getPkValue(this.primaryKey,t[parseInt(i.toString(),10)]);if(!this.selectedRowState[""+n])return!1}return!0},e.prototype.someDataSelected=function(){if((this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length))for(var e=this.getAvailableSelectedData(this.persistSelectedData),t=0;t<e.length;t++){var i=this.getPkValue(this.primaryKey,e[parseInt(t.toString(),10)]);if(this.selectedRowState[""+i])return!1}for(var n=this.isPartialSelection?this.getAvailableSelectedData(this.parent.partialSelectedRecords):this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result?[]:this.getData(),t=0;t<n.length;t++){var i=this.getPkValue(this.primaryKey,n[parseInt(t.toString(),10)]);if(this.selectedRowState[""+i])return!1}return!0},e.prototype.setCheckAllState=function(e,t){if(this.parent.isCheckBoxSelection||"ResetOnRowClick"===this.parent.selectionSettings.checkboxMode){var i=!1,n=!1,r=Object.keys(this.selectedRowState).length;this.parent.element.classList.contains("e-treelistgrid")&&this.parent.isPersistSelection&&!this.parent.enableVirtualization&&!this.parent.getDataModule().isRemote()&&Array.isArray(this.parent.dataSource)&&r===this.parent.dataSource.length&&r>this.totalRecordsCount&&(r=this.totalRecordsCount),this.parent.isPersistSelection||(r=this.selectedRowIndexes.length,this.totalRecordsCount=this.getCurrentBatchRecordChanges().length),this.parent.isPersistSelection&&!((this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&this.isPartialSelection)&&(this.parent.searchSettings.key.length||this.parent.filterSettings.columns.length)&&(n=!0,i=this.isAllSelected(r));var o=this.getCheckAllBox();if(o){var s=o.nextElementSibling;(0,y.IV)([s],["e-check","e-stop","e-uncheck"]),(0,U.NB)(o,!1),o.indeterminate=!1;var a=this.parent.getDataModule().isRemote()?[]:this.gridCurrentRecord;this.parent.groupSettings.columns.length&&a.records&&(a=a.records),this.totalRecordsCount=this.checkVirtualCheckBox()?a.length:this.totalRecordsCount,i&&n&&(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result||a.length)||!n&&(r===this.totalRecordsCount&&this.totalRecordsCount&&!this.isPartialSelection&&(!(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)||this.parent.allowPaging)||!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&this.isPartialSelection&&(this.isSelectAllRowCount(r)||this.isHdrSelectAllClicked&&!this.parent.isPersistSelection)||(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&(!(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&a.length&&r===a.length||(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&!this.isPartialSelection&&(r===this.parent.totalDataRecordsCount||(this.isSelectAllRowCount(r)||r===this.totalRecordsCount)&&!this.parent.isPersistSelection)||this.isPartialSelection&&(this.isHdrSelectAllClicked||this.isSelectAllRowCount(r)))||r===this.totalRecordsCount&&this.totalRecordsCount&&!this.isPartialSelection&&!this.parent.allowPaging&&!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling)?((0,y.cn)([s],["e-check"]),(0,U.NB)(o,!0),t&&this.getRenderer().setSelection(null,!0,!0),this.parent.checkAllRows="Check"):(!this.selectedRowIndexes.length&&(!this.parent.enableVirtualization||!this.persistSelectedData.length&&!n||n&&this.someDataSelected())||0===r&&0===this.getCurrentBatchRecordChanges().length)&&!this.parent.allowPaging||this.parent.allowPaging&&(0===r||r&&n&&this.someDataSelected())?((0,y.cn)([s],["e-uncheck"]),t&&this.getRenderer().setSelection(null,!1,!0),this.parent.checkAllRows="Uncheck"):((0,y.cn)([s],["e-stop"]),this.parent.checkAllRows="Intermediate",o.indeterminate=!0),0===r&&0===this.getCurrentBatchRecordChanges().length?(0,y.cn)([s.parentElement],["e-checkbox-disabled"]):(0,y.IV)([s.parentElement],["e-checkbox-disabled"]),this.isPartialSelection&&(0===this.parent.getRowsObject().filter(function(e){return e.isSelectable}).length&&s.parentElement.querySelector(".e-frame").classList.contains("e-uncheck")?(0,y.cn)([s.parentElement],["e-checkbox-disabled"]):(0,y.IV)([s.parentElement],["e-checkbox-disabled"])),(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&!this.parent.allowPaging&&!(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&this.updateSelectedRowIndex(e)}}},e.prototype.checkVirtualCheckBox=function(){return this.parent.enableVirtualization&&!(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result)&&this.parent.isCheckBoxSelection&&!this.isPartialSelection},e.prototype.virtualCheckBoxData=function(){var e=this.getData();return this.parent.groupSettings.columns.length&&e.records&&(e=e.records),e},e.prototype.isSelectAllRowCount=function(e){var t=0,i=this.parent.getRowsObject();if(this.parent.selectionSettings.persistSelection&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling))return(this.parent.getDataModule().isRemote()||!(0,y.le)(this.parent.dataSource)&&this.parent.dataSource.result?this.parent.totalDataRecordsCount:this.getData()&&this.getData().length)===i.length&&(t=i.filter(function(e){return e.isSelectable}).length)&&e===t;if(!this.parent.allowPaging||!this.parent.selectionSettings.persistSelection)return(t=i.filter(function(e){return e.isSelectable}).length)&&e===t;var n=this.getAvailableSelectedData(this.parent.disableSelectedRecords).length,r=this.getAvailableSelectedData(this.parent.partialSelectedRecords).length,o=this.getAvailableSelectedData(this.persistSelectedData).length;return(t=n+r)===this.totalRecordsCount&&0!==o&&o===r},e.prototype.keyDownHandler=function(e){("opera"===y.AR.info.name&&17===e.keyCode||"mozilla"===y.AR.info.name&&224===e.keyCode||("safari"===y.AR.info.name||"chrome"===y.AR.info.name)&&(91===e.keyCode||93===e.keyCode))&&(this.cmdKeyPressed=!0);var t=(0,U.Cf)(e.target,"e-headercell"),i=(0,U.Cf)(e.target,te.PO);(t?t.children[0].classList.contains("e-headerchkcelldiv"):!!i&&i.classList.contains("e-gridchkbox"))&&!this.parent.allowKeyboard&&32===e.keyCode&&e.preventDefault()},e.prototype.keyUpHandler=function(e){("opera"===y.AR.info.name&&17===e.keyCode||"mozilla"===y.AR.info.name&&224===e.keyCode||("safari"===y.AR.info.name||"chrome"===y.AR.info.name)&&(91===e.keyCode||93===e.keyCode))&&(this.cmdKeyPressed=!1)},e.prototype.clickHandler=function(e){var t,i=e.target;this.actualTarget=i,this.isAutoFillSel||e.ctrlKey||e.shiftKey||(this.startAFCell=this.endAFCell=null),this.selectionSettings.persistSelection&&(this.deSelectedData=(0,U.Wn)(this.persistSelectedData)),((0,U.Cf)(i,te.O7)||(0,U.Cf)(i,"e-headerchkcelldiv")||this.selectionSettings.allowColumnSelection&&i.classList.contains("e-headercell"))&&(this.isInteracted=!0),this.cmdKeyPressed=e.metaKey,this.isMultiCtrlRequest=e.ctrlKey||this.enableSelectMultiTouch||this.isMacOS&&this.cmdKeyPressed,this.parent.allowKeyboard?this.isMultiShiftRequest=e.shiftKey:(this.isMultiShiftRequest=!1,this.isMultiCtrlRequest=!1),this.isMultiCtrlRequestCell=this.isMultiCtrlRequest,this.popUpClickHandler(e);var n=!1;this.preventFocus=!0;var r=(0,U.Cf)(i,"e-checkbox-wrapper");if(this.checkSelectAllClicked=!!(r&&r.getElementsByClassName("e-checkselectall")||this.selectionSettings.persistSelection&&(0,U.Cf)(i,te.O7)),this.selectionSettings.persistSelection&&this.isPartialSelection&&(0,U.Cf)(i,"e-headerchkcelldiv")&&!i.querySelector(".e-checkbox-disabled")&&(this.isHdrSelectAllClicked=!0),r&&r.querySelectorAll(".e-checkselect,.e-checkselectall").length>0&&(t=r.querySelector('input[type="checkbox"]'),n=!0),this.drawBorders(),this.updateAutoFillPosition(),i=(0,U.Cf)(i,te.PO),this.parent.isReact&&i&&!i.parentElement&&i.classList.contains("e-rowcell")&&(i=this.parent.getCellFromIndex(parseInt(i.getAttribute("index"),10),parseInt(i.getAttribute("aria-colindex"),10)-1)),this.isRowDragSelected&&(0,y.le)(i)&&this.parent.allowRowDragAndDrop&&this.selectionSettings.persistSelection&&this.checkSelectAllClicked&&(this.isRowDragSelected=!1),(i&&i.parentElement.classList.contains(te.O7)&&!this.parent.selectionSettings.checkboxOnly||n)&&!this.isRowDragSelected){if(this.parent.isCheckBoxSelection&&(this.isMultiCtrlRequest=!0),this.target=i,(0,y.le)(t)){var o=0;o=parseInt(i.parentElement.getAttribute(te._x),10)-1,this.parent.isPersistSelection&&!this.parent.editSettings.showAddNewRow&&this.parent.element.getElementsByClassName(te.gY).length>0&&++o,this.mUPTarget&&this.mUPTarget.isEqualNode(i)||this.rowCellSelectionHandler(o,parseInt(i.getAttribute(te.qc),10)-1),this.parent.isCheckBoxSelection&&(this.moveIntoUncheckCollection((0,y.oq)(i,"."+te.O7)),this.setCheckAllState())}else this.checkedTarget=t,t.classList.contains("e-checkselectall")?this.checkSelectAll(t):this.checkSelect(t);this.parent.isCheckBoxSelection||!y.AR.isDevice||this.isSingleSel()||this.showPopup(e)}else if(e.target.classList.contains("e-headercell")&&!e.target.classList.contains("e-stackedheadercell")){var s=e.target.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");this.headerSelectionHandler(this.parent.getColumnIndexByUid(s))}this.isMultiCtrlRequest=!1,this.isMultiCtrlRequestCell=this.isMultiCtrlRequest,this.isMultiShiftRequest=!1,(0,y.le)((0,y.oq)(e.target,".e-unboundcell"))&&(this.preventFocus=!1)},e.prototype.popUpClickHandler=function(e){var t=e.target;(0,y.oq)(t,".e-headercell")||e.target.classList.contains(te.PO)||(0,y.oq)(t,".e-gridpopup")?t.classList.contains("e-rowselect")&&(t.classList.contains("e-spanclicked")?(t.classList.remove("e-spanclicked"),this.enableSelectMultiTouch=!1,this.parent.element.querySelector(".e-gridpopup").style.display="none"):(t.classList.add("e-spanclicked"),this.enableSelectMultiTouch=!0)):this.parent.element.querySelector(".e-gridpopup").style.display="none"},e.prototype.showPopup=function(e){this.selectionSettings.enableSimpleMultiRowSelection||(0,U.ZJ)(this.parent.element.querySelector(".e-gridpopup"),e,"e-rowselect e-icons e-icon-rowselect"+(!this.isSingleSel()&&(this.selectedRecords.length>1||this.selectedRowCellIndexes.length>1)?" e-spanclicked":""))},e.prototype.rowCellSelectionHandler=function(e,t){if(!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel())this.isDragged||this.selectRow(e,this.selectionSettings.enableToggle),this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle),this.selectedRowCellIndexes.length&&this.updateAutoFillPosition(),this.drawBorders();else if(this.isMultiShiftRequest)!this.parent.isCheckBoxSelection&&(this.parent.isCheckBoxSelection||(0,y.oq)(this.target,"."+te.PO).classList.contains(te.pM))?this.addRowsToSelection([e]):this.selectRowsByRange((0,y.o8)(this.prevRowIndex)?e:this.prevRowIndex,e),this.selectCellsByRange((0,y.o8)(this.prevCIdxs)?{rowIndex:e,cellIndex:t}:this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.updateAutoFillPosition(),this.drawBorders();else{if(this.addRowsToSelection([e]),"Both"===this.selectionSettings.mode){var i=this.parent.getColumns().find(function(e){return"checkbox"===e.type}),n=i&&i.index!==t;n&&!this.isMultiCtrlRequestCell?this.selectCell({rowIndex:e,cellIndex:t},this.selectionSettings.enableToggle):(!i||n)&&this.addCellsToSelection([{rowIndex:e,cellIndex:t}])}else this.addCellsToSelection([{rowIndex:e,cellIndex:t}]);this.showHideBorders("none")}this.isDragged=!1},e.prototype.onCellFocused=function(e){if(this.parent.frozenRows&&e.container.isHeader&&e.byKey){if("upArrow"===e.keyArgs.action)this.parent.allowFiltering?e.isJump="INPUT"===e.element.tagName:e.isJump="TH"===e.element.tagName;else if("downArrow"===e.keyArgs.action){var t=Number(e.element.parentElement.getAttribute(te._x))-1;e.isJump=0===t}else"ctrlHome"===e.keyArgs.action&&(e.isJump=!0)}var i=(e.container.isHeader&&e.isJump||e.container.isContent&&!e.container.isSelectable)&&!(e.byKey&&"space"===e.keyArgs.action)&&!(e.element.classList.contains("e-detailrowexpand")||e.element.classList.contains("e-detailrowcollapse")),n=e.container.isHeader&&"TD"!==e.element.tagName&&!(0,y.oq)(e.element,"."+te.PO)&&!(e.byKey&&"space"===e.keyArgs.action);if(!e.byKey||i){i&&!(this.parent.isCheckBoxSelection||this.selectionSettings.persistSelection&&(e.parent.classList.contains("e-recordplusexpand")||e.parent.classList.contains("e-recordpluscollapse")||e.parent.classList.contains("e-groupcaption")))&&this.clearSelection();return}var r=e.container.isContent?e.container.indexes:e.indexes,o=r[0],s=r[1],a=this.focus.getPrevIndexes();if((e.element.parentElement.querySelector(".e-rowcelldrag")||e.element.parentElement.querySelector(".e-dtdiagonalright")||e.element.parentElement.querySelector(".e-dtdiagonaldown"))&&(a.cellIndex=a.cellIndex-1),this.parent.frozenRows){if(e.container.isHeader&&("TD"===e.element.tagName||(0,y.oq)(e.element,"."+te.PO))){var l=this.parent.getHeaderTable().querySelector("thead").childElementCount;this.parent.editSettings.showAddNewRow&&"Top"===this.parent.editSettings.newRowPosition&&"upArrow"===e.keyArgs.action&&l++,o-=l,a.rowIndex=(0,y.le)(a.rowIndex)?null:a.rowIndex-l}else o+=this.parent.frozenRows,a.rowIndex=0!==a.rowIndex&&(0,y.le)(a.rowIndex)?null:a.rowIndex+this.parent.frozenRows}if(this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache&&(o=parseInt(e.element.parentElement.getAttribute("aria-rowindex"),10)-1),!n&&(-1!==["ctrlPlusA","escape"].indexOf(e.keyArgs.action)||"space"===e.keyArgs.action||o!==a.rowIndex||s!==a.cellIndex)||this.selectionSettings.allowColumnSelection){this.parent.enableVirtualization&&(o=parseInt(e.element.parentElement.getAttribute("aria-rowindex"),10)-1,this.parent.enableColumnVirtualization||this.parent.groupSettings.columns.length||!(this.parent.totalDataRecordsCount>=1)||("ctrlHome"===e.keyArgs.action?(o=0,this.parent.isFocusFirstCell=!0):"ctrlEnd"!==e.keyArgs.action||(o=this.parent.totalDataRecordsCount-1,this.isFocusLastCell=!0))),this.parent.editSettings.showAddNewRow&&"Top"===this.parent.editSettings.newRowPosition&&!this.parent.enableVirtualization&&!this.parent.enableInfiniteScrolling&&"downArrow"===e.keyArgs.action&&o--,this.preventFocus=!0;var h=this.getKeyColIndex(e);if(this.needColumnSelection&&(s=h),this.parent.element.classList.contains("e-gridcell-read")&&("tab"===e.keyArgs.action||"shiftTab"===e.keyArgs.action||"rightArrow"===e.keyArgs.action||"leftArrow"===e.keyArgs.action)){var c=this.target.getAttribute("aria-label");c=this.target.innerHTML+" column header "+this.parent.getColumnByIndex(s).field,this.target.setAttribute("aria-label",c)}switch(e.keyArgs.action){case"downArrow":case"upArrow":case"enter":case"shiftEnter":this.target=e.element,this.isKeyAction=!0,this.applyDownUpKey(o,s);break;case"rightArrow":case"leftArrow":this.applyRightLeftKey(o,s);break;case"shiftDown":case"shiftUp":this.shiftDownKey(o,s);break;case"shiftLeft":case"shiftRight":this.applyShiftLeftRightKey(o,s);break;case"home":case"end":s="end"===e.keyArgs.action?this.getLastColIndex(o):0,this.applyHomeEndKey(o,s);break;case"ctrlHome":case"ctrlEnd":this.applyCtrlHomeEndKey(o,s);break;case"escape":this.clearSelection(),this.parent.clipboardModule&&window.navigator.clipboard.writeText("");break;case"ctrlPlusA":this.ctrlPlusA();break;case"space":this.applySpaceSelection(e.element);break;case"tab":this.parent.editSettings.allowNextRowEdit&&this.selectRow(o)}this.needColumnSelection=!1,this.preventFocus=!1,this.positionBorders(),this.parent.isFrozenGrid()&&(this.showHideBorders("none",!0),this.refreshFrozenBorders()),this.updateAutoFillPosition()}},e.prototype.getKeyColIndex=function(e){var t,i=null,n=e.element.querySelector(".e-stackedheadercelldiv");if(this.selectionSettings.allowColumnSelection&&(0,U.Cf)(e.element,"e-columnheader")){if(this.needColumnSelection=!!e.container.isHeader,n){if("rightArrow"===e.keyArgs.action||"leftArrow"===e.keyArgs.action)return i;t=n.getAttribute("e-mappinguid");var r=this.getstackedColumns(this.parent.getColumnByUid(t).columns),o=this.parent.getColumnIndexByUid(r[r.length-1].uid),s=this.parent.getColumnIndexByUid(r[0].uid);i=this.prevColIndex>=o?s:o}else i=this.parent.getColumnIndexByUid(e.element.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"))}return i},e.prototype.ctrlPlusA=function(){if(this.isRowType()&&!this.isSingleSel()){var e=this.parent.getRowsObject();this.selectRowsByRange(e[0].index,e[e.length-1].index)}this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange({rowIndex:0,cellIndex:0},{rowIndex:this.parent.getRows().length-1,cellIndex:this.parent.getColumns().length-1})},e.prototype.applySpaceSelection=function(e){e.classList.contains("e-checkselectall")?(this.checkedTarget=e,this.checkSelectAll(this.checkedTarget)):e.classList.contains("e-checkselect")&&(this.checkedTarget=e,this.checkSelect(this.checkedTarget))},e.prototype.applyDownUpKey=function(e,t){var i=this.parent;!this.parent.isCheckBoxSelection||"Check"!==this.parent.checkAllRows||this.selectionSettings.persistSelection||this.selectionSettings.checkboxOnly||(this.checkSelectAllAction(!1),this.checkedTarget=null),this.isRowType()&&!this.selectionSettings.checkboxOnly&&(this.parent.frozenRows,this.selectRow(e,!0),this.applyUpDown(i.selectedRowIndex)),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0),this.selectionSettings.allowColumnSelection&&this.needColumnSelection&&this.selectColumn(t)},e.prototype.applyUpDown=function(e){if(!(e<0)){this.target||(this.target=this.parent.getRows()[0].children[this.parent.groupSettings.columns.length||0]);var t=parseInt(this.target.getAttribute(te.qc),10)-1,i=this.contentRenderer.getRowByIndex(e);if(i&&(this.target=i.getElementsByClassName(te.PO)[parseInt(t.toString(),10)]),this.addAttribute(this.target),this.parent.element.classList.contains("e-gridcell-read")){var n=this.target.getAttribute("aria-label");n=this.target.innerHTML,this.target.setAttribute("aria-label",n)}}},e.prototype.applyRightLeftKey=function(e,t){this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumn(t):this.isCellType()&&(this.selectCell({rowIndex:e,cellIndex:t},!0),this.addAttribute(this.target))},e.prototype.applyHomeEndKey=function(e,t){this.isCellType()?this.selectCell({rowIndex:e,cellIndex:t},!0):this.addAttribute(this.parent.getCellFromIndex(e,t))},e.prototype.shiftDownKey=function(e,t){this.isMultiShiftRequest=!0,this.isRowType()&&!this.isSingleSel()&&((0,y.o8)(this.prevRowIndex)?this.isPartialSelection?this.selectRow(e,!0):this.selectRow(0,!0):(this.selectRowsByRange(this.prevRowIndex,e),this.applyUpDown(e))),this.isCellType()&&!this.isSingleSel()&&this.selectCellsByRange(this.prevCIdxs||{rowIndex:0,cellIndex:0},{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},e.prototype.applyShiftLeftRightKey=function(e,t){this.isMultiShiftRequest=!0,this.selectionSettings.allowColumnSelection&&this.needColumnSelection?this.selectColumnsByRange(this.prevColIndex,t):this.selectCellsByRange(this.prevCIdxs,{rowIndex:e,cellIndex:t}),this.isMultiShiftRequest=!1},e.prototype.getstackedColumns=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?this.getstackedColumns(e[parseInt(i.toString(),10)].columns):t.push(e[parseInt(i.toString(),10)]);return t},e.prototype.applyCtrlHomeEndKey=function(e,t){this.isRowType()&&(this.selectRow(e,!0),this.parent.enableVirtualization||this.parent.enableColumnVirtualization||this.addAttribute(this.parent.getCellFromIndex(e,t))),this.isCellType()&&this.selectCell({rowIndex:e,cellIndex:t},!0)},e.prototype.addRemoveClassesForRow=function(e,t,i){for(var n=[],r=3;r<arguments.length;r++)n[r-3]=arguments[r];if(e){var o=[].slice.call(e.getElementsByClassName(te.PO)),s=e.querySelector(".e-detailrowcollapse")||e.querySelector(".e-detailrowexpand"),a=e.querySelector(".e-rowdragdrop");s&&o.push(s),a&&o.push(a),U.xZ.apply(void 0,[o,t].concat(n))}this.getRenderer().setSelection(e?e.getAttribute("data-uid"):null,t,i)},e.prototype.isRowType=function(){return"Row"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode},e.prototype.isCellType=function(){return"Cell"===this.selectionSettings.mode||"Both"===this.selectionSettings.mode},e.prototype.isSingleSel=function(){return"Single"===this.selectionSettings.type},e.prototype.getRenderer=function(){return(0,y.le)(this.contentRenderer)&&(this.contentRenderer=this.factory.getRenderer(r.Content)),this.contentRenderer},e.prototype.getSelectedRecords=function(){var e=[];return e=!this.selectionSettings.persistSelection&&this.selectedRecords.length?this.parent.getRowsObject().filter(function(e){return e.isSelected}).map(function(e){return e.data}):this.persistSelectedData,this.checkVirtualCheckBox()&&!this.parent.isPersistSelection&&(e=this.virtualSelectedData),e},e.prototype.selectColumn=function(e){var t=this.parent;if(!(0,y.le)(t.getColumns()[parseInt(e.toString(),10)])){var i=t.getColumnByIndex(e),n=t.getColumnHeaderByUid(i.uid),r=n.classList.contains("e-columnselection");if(t.selectionSettings.allowColumnSelection){var o=this.selectedColumnsIndexes.length>1&&this.selectedColumnsIndexes.indexOf(e)>-1;if(this.clearColDependency(),!this.selectionSettings.enableToggle||o||!r){var s={columnIndex:e,headerCell:n,column:i,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(s,Z.aUU),s.cancel){this.disableInteracted();return}(o||!(r&&t.selectionSettings.enableToggle&&e===this.prevColIndex))&&this.updateColSelection(n,e);var a={columnIndex:e,headerCell:n,column:i,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(a,Z.JfJ)}this.updateColProps(e)}}},e.prototype.selectColumnsByRange=function(e,t){var i=this.parent;if(!(0,y.le)(i.getColumns()[parseInt(e.toString(),10)])){var n=[];if("Single"===i.selectionSettings.type||(0,y.le)(t))n[0]=e;else for(var r=e<t,o=e;r?o<=t:o>=t;r?o++:o--)n.push(o);this.selectColumns(n)}},e.prototype.selectColumns=function(e){var t=this.parent,i=this.getselectedCols();if("Single"===t.selectionSettings.type&&(e=[e[0]]),t.selectionSettings.allowColumnSelection){this.clearColDependency();var n={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(n,Z.aUU),n.cancel){this.disableInteracted();return}for(var r=0,o=e.length;r<o;r++)this.updateColSelection(t.getColumnHeaderByUid(t.getColumnByIndex(e[parseInt(r.toString(),10)]).uid),e[parseInt(r.toString(),10)]);i=this.getselectedCols();var s={columnIndex:e[0],headerCell:i,columnIndexes:e,column:t.getColumnByIndex(e[0]),target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(s,Z.JfJ),this.updateColProps(e[0])}},e.prototype.selectColumnWithExisting=function(e){var t=this.parent;if(!(0,y.le)(t.getColumns()[parseInt(e.toString(),10)])){var i=t.getColumnHeaderByUid(t.getColumnByIndex(e).uid),n=this.getselectedCols();if("Single"===t.selectionSettings.type&&this.clearColDependency(),t.selectionSettings.allowColumnSelection){if(this.selectedColumnsIndexes.indexOf(e)>-1)this.clearColumnSelection(e);else{var r={columnIndex:e,headerCell:n,columnIndexes:this.selectedColumnsIndexes,column:t.getColumnByIndex(e),cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex,isCtrlPressed:this.isMultiCtrlRequest,isShiftPressed:this.isMultiShiftRequest};if(this.onActionBegin(r,Z.aUU),r.cancel){this.disableInteracted();return}this.updateColSelection(i,e);var o={columnIndex:e,headerCell:n=this.getselectedCols(),column:t.getColumnByIndex(e),columnIndexes:this.selectedColumnsIndexes,target:this.actualTarget,isInteracted:this.isInteracted,previousColumnIndex:this.prevColIndex};this.onActionComplete(o,Z.JfJ)}this.updateColProps(e)}}},e.prototype.clearColumnSelection=function(e){if(this.isColumnSelected){var t=this.parent;if((0,y.le)(e)||-1!==this.selectedColumnsIndexes.indexOf(e)){var i=(0,y.le)(e)?this.selectedColumnsIndexes[this.selectedColumnsIndexes.length-1]:e,n=t.getColumnByIndex(i),r=t.getColumnHeaderByUid(n.uid),o={columnIndex:i,headerCell:r,columnIndexes:this.selectedColumnsIndexes,column:n,cancel:!1,target:this.actualTarget,isInteracted:this.isInteracted};if(this.columnDeselect(o,Z.KtR)){this.disableInteracted();return}for(var s=(0,y.le)(e)?[].slice.call(t.getHeaderContent().getElementsByClassName("e-columnselection")):[r],a=this.getSelectedColumnCells(e),l=0,h=s.length;l<h;l++)(0,U.xZ)([s[parseInt(l.toString(),10)]],!1,"e-columnselection");for(var l=0,h=a.length;l<h;l++)(0,U.xZ)([a[parseInt(l.toString(),10)]],!1,"e-columnselection");(0,y.le)(e)?(this.columnDeselect(o,Z.OJx),this.selectedColumnsIndexes=[],this.isColumnSelected=!1,this.parent.getColumns().filter(function(e){return e.isSelected=!1})):(this.selectedColumnsIndexes.splice(this.selectedColumnsIndexes.indexOf(e),1),this.parent.getColumns()[parseInt(e.toString(),10)].isSelected=!1)}}},e.prototype.getselectedCols=function(){var e,t=this.parent;if(this.selectedColumnsIndexes.length>1){e=[];for(var i=0;i<this.selectedColumnsIndexes.length;i++)e.push(t.getColumnHeaderByUid(t.getColumnByIndex(this.selectedColumnsIndexes[parseInt(i.toString(),10)]).uid))}else e=t.getColumnHeaderByUid(t.getColumnByIndex(this.selectedColumnsIndexes[0]).uid);return e},e.prototype.getSelectedColumnCells=function(e){for(var t=this.parent,i=(0,y.le)(this.parent.rowTemplate)?t.getDataRows():t.getRows(),n=[],r=(0,y.le)(e)?".e-columnselection":'[aria-colindex="'+(e+1)+'"]',o=0,s=i.length;o<s;o++)n=n.concat([].slice.call(i[parseInt(o.toString(),10)].querySelectorAll(r)));return n},e.prototype.columnDeselect=function(e,t){return"columnDeselected"===t&&delete e.cancel,this.onActionComplete(e,t),e.cancel},e.prototype.updateColProps=function(e){this.prevColIndex=e,this.isColumnSelected=this.selectedColumnsIndexes.length&&!0},e.prototype.clearColDependency=function(){this.clearColumnSelection(),this.selectedColumnsIndexes=[]},e.prototype.updateColSelection=function(e,t){if(!(0,y.le)(this.parent.getColumns()[parseInt(t.toString(),10)])){var i=(0,y.le)(this.parent.rowTemplate)?this.parent.getDataRows():this.parent.getRows();this.selectedColumnsIndexes.push(t),this.parent.getColumns()[parseInt(t.toString(),10)].isSelected=!0,t+=this.parent.getIndentCount(),(0,U.xZ)([e],!0,"e-columnselection");for(var n=0,r=i.length;n<r;n++)if(i[parseInt(n.toString(),10)].classList.contains(te.O7)){if((i[parseInt(n.toString(),10)].classList.contains(te.fX)||i[parseInt(n.toString(),10)].classList.contains(te.gY))&&"Normal"===this.parent.editSettings.mode&&!(0,y.le)(i[parseInt(n.toString(),10)].querySelector("tr").childNodes[parseInt(t.toString(),10)]))(0,U.xZ)([i[parseInt(n.toString(),10)].querySelector("tr").childNodes[parseInt(t.toString(),10)]],!0,"e-columnselection");else if(this.parent.isSpan&&this.parent.isFrozenGrid())for(var o=i[parseInt(n.toString(),10)].querySelectorAll(".e-rowcell"),s=0;s<o.length;s++)o[parseInt(s.toString(),10)].getAttribute("aria-colindex")===e.getAttribute("aria-colindex")&&(0,U.xZ)([o[parseInt(s.toString(),10)]],!0,"e-columnselection");else(0,y.le)(i[parseInt(n.toString(),10)].childNodes[parseInt(t.toString(),10)])||(0,U.xZ)([i[parseInt(n.toString(),10)].childNodes[parseInt(t.toString(),10)]],!0,"e-columnselection")}}},e.prototype.headerSelectionHandler=function(e){!this.isMultiCtrlRequest&&!this.isMultiShiftRequest||this.isSingleSel()?this.selectColumn(e):this.isMultiShiftRequest?this.selectColumnsByRange((0,y.o8)(this.prevColIndex)?e:this.prevColIndex,e):this.selectColumnWithExisting(e)},e.prototype.addEventListener_checkbox=function(){var e=this;this.parent.on(Z.mHp,this.dataReady,this),this.onDataBoundFunction=this.onDataBound.bind(this),this.parent.addEventListener(Z.rud,this.onDataBoundFunction),this.parent.on(Z.EOz,this.onDataBoundFunction),this.parent.on(Z.GEE,this.checkBoxSelectionChanged,this),this.parent.on(Z.WOt,this.initPerisistSelection,this),this.parent.on(Z.c$N,this.setCheckAllForEmptyGrid,this),this.actionCompleteFunc=this.actionCompleteHandler.bind(this),this.parent.addEventListener(Z.i8$,this.actionCompleteFunc),this.parent.on(Z.V4S,this.clickHandler,this),this.resizeEndFn=function(){e.updateAutoFillPosition(),e.drawBorders()},this.resizeEndFn.bind(this),this.parent.addEventListener(Z.d$w,this.resizeEndFn)},e.prototype.removeEventListener_checkbox=function(){this.parent.off(Z.mHp,this.dataReady),this.parent.removeEventListener(Z.rud,this.onDataBoundFunction),this.parent.removeEventListener(Z.i8$,this.actionCompleteFunc),this.parent.off(Z.EOz,this.onDataBoundFunction),this.parent.off(Z.c$N,this.setCheckAllForEmptyGrid),this.parent.off(Z.V4S,this.clickHandler),this.parent.removeEventListener(Z.d$w,this.resizeEndFn),this.parent.off(Z.WOt,this.initPerisistSelection)},e.prototype.setCheckAllForEmptyGrid=function(){var e=this.getCheckAllBox();if(e){this.parent.isCheckBoxSelection=!0;var t=e.nextElementSibling;(0,y.IV)([t],["e-check","e-stop","e-uncheck"]),(0,y.cn)([t.parentElement],["e-checkbox-disabled"])}},e.prototype.dataReady=function(e){this.isHeaderCheckboxClicked=!1;var t=this.parent.enableInfiniteScrolling&&"infiniteScroll"===e.requestType;"virtualscroll"===e.requestType||this.parent.isPersistSelection||t||(this.disableUI=!this.parent.enableImmutableMode&&!("save"===e.requestType&&"add"===e.action),this.clearSelection(),this.setCheckAllState(),this.disableUI=!1)},e.prototype.actionCompleteHandler=function(e){"save"===e.requestType&&this.parent.isPersistSelection&&this.refreshPersistSelection()},e.prototype.selectRowIndex=function(e){this.parent.isSelectedRowIndexUpdating=!0,(0,y.le)(this.parent.selectedRowIndex)||-1===this.parent.selectedRowIndex||!this.parent.enablePersistence?this.parent.selectedRowIndex=e:this.parent.selectedRowIndex=-1},e.prototype.disableInteracted=function(){this.isInteracted=!1},e.prototype.activeTarget=function(){this.actualTarget=this.isInteracted?this.actualTarget:null},e}(),t0=function(){function e(e){this.headerFocus=!1,this.parent=e,this.addEventListener()}return e.prototype.hasNonNumericCharacters=function(e){for(var t=!1,i=0;i<e.length;i++){var n=e[i];if((n<"0"||n>"9")&&"."!==n)return!0;if("."===n){if(t)return!0;t=!0}}return!1},e.prototype.search=function(e){var t=this.parent;if(e=(0,y.le)(e)?"":e,(0,U.Wx)(t)){t.notify(Z.hh5,{instance:this,handler:this.search,arg1:e});return}if(e!==t.searchSettings.key){if(this.headerFocus=!1,""===e||this.hasNonNumericCharacters(e))t.searchSettings.key=e.toString();else{var i=e.split(".");"."===e||-1===e.indexOf(".")||i[0].startsWith("0")&&i[0].length>1?t.searchSettings.key=e.toString():t.searchSettings.key=parseFloat(e).toString()}t.dataBind()}else this.refreshSearch?t.refresh():this.headerFocus=!1},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Z.HjP,this.onPropertyChanged,this),this.parent.on(Z.cIP,this.onSearchComplete,this),this.parent.on(Z.ob2,this.destroy,this),this.actionCompleteFunc=this.onActionComplete.bind(this),this.parent.addEventListener(Z.i8$,this.actionCompleteFunc),this.parent.on(Z.lvv,this.cancelBeginEvent,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Z.HjP,this.onPropertyChanged),this.parent.off(Z.cIP,this.onSearchComplete),this.parent.off(Z.ob2,this.destroy),this.parent.removeEventListener(Z.i8$,this.actionCompleteFunc),this.parent.off(Z.lvv,this.cancelBeginEvent))},e.prototype.destroy=function(){this.removeEventListener()},e.prototype.onPropertyChanged=function(e){e.module===this.getModuleName()&&((0,y.le)(e.properties.key)?this.parent.notify(Z.CCe,{requestType:"searching",type:Z.m2U}):this.parent.notify(Z.CCe,{requestType:"searching",type:Z.m2U,searchString:this.parent.searchSettings.key}))},e.prototype.onSearchComplete=function(e){this.parent.trigger(Z.i8$,(0,y.l7)(e,{searchString:this.parent.searchSettings.key,requestType:"searching",type:Z.i8$}))},e.prototype.onActionComplete=function(e){this.refreshSearch&&"refresh"===e.requestType&&this.headerFocus&&(this.headerFocus=!1,this.parent.focusModule.focus(),(0,y.cn)([this.parent.focusModule.currentInfo.element],["e-focused"])),this.refreshSearch="searching"!==e.requestType},e.prototype.cancelBeginEvent=function(e){"searching"===e.requestType&&this.parent.setProperties({searchSettings:{key:""}},!0)},e.prototype.getModuleName=function(){return"search"},e}(),t1=function(){function e(e){this.colName=[],this.isShowHide=!1,this.parent=e,this.addEventListener(),this.widthService=new tV(e)}return e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.evtHandlers=[{event:Z.vCA,handler:this.batchChanges},{event:Z.OTh,handler:this.resetColumnState}],(0,U.aL)(this.parent,this.evtHandlers,!0,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(0,U.aL)(this.parent,this.evtHandlers,!1)},e.prototype.batchChanges=function(){this.isShowHide&&(this.isShowHide=!1,this.setVisible(this.colName,this.changedCol),this.changedCol=this.colName=[])},e.prototype.show=function(e,t){var i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(Z.gaA,{module:"edit"});for(var r=0;r<n.length;r++)n[parseInt(r.toString(),10)].visible=!0;this.setVisible(n)},e.prototype.hide=function(e,t){var i=this.getToggleFields(e),n=this.getColumns(i,t);this.parent.notify(Z.gaA,{module:"edit"});for(var r=0;r<n.length;r++)n[parseInt(r.toString(),10)].visible=!1;this.setVisible(n)},e.prototype.getToggleFields=function(e){return"string"==typeof e?[e]:e},e.prototype.getColumns=function(e,t){var i=this;return(0,U.Eh)(e,function(e){return(0,U.Eh)(i.parent.columnModel,function(i){if(i[""+t]===e)return i})[0]})},e.prototype.batchActionPrevent=function(e,t){return void 0===t&&(t=[]),!(0,U.Wx)(this.parent)||(this.colName=e,this.changedCol=t,this.parent.closeEdit(),!1)},e.prototype.resetColumnState=function(){if(this.isShowHide)for(var e=0;e<this.colName.length;e++)this.colName[parseInt(e.toString(),10)].visible=!this.colName[parseInt(e.toString(),10)].visible},e.prototype.setVisible=function(e,t){var i=this;if(void 0===t&&(t=[]),this.isShowHide=!0,this.batchActionPrevent(e,t)){var n={requestType:"columnstate",cancel:!1,columns:t=t.length>0?t:e};if(this.parent.enableInfiniteScrolling&&this.parent.allowGrouping&&this.parent.groupModule.groupSettings.columns.length>0&&(this.parent.contentModule.visibleRows=[]),this.parent.trigger(Z.m2U,n,function(r){var o=i.parent.getColumns();if(e=(0,y.le)(e)?o:e,r.cancel){i.parent.notify(Z.XxH,{showHideArgs:r}),e.length>0&&(e[0].visible=!0);return}i.parent.notify(Z.s0L,n),(0,U.MU)(i.parent)&&i.parent.contentModule.emptyVcRows();var s=i.parent.element.querySelector(".e-addedrow");i.parent.editSettings.showAddNewRow&&s&&((0,y.Od)(s),(i.parent.enableVirtualization||i.parent.enableInfiniteScrolling)&&(i.parent.isAddNewRow=!0),i.parent.addNewRowFocus=!0,i.parent.isEdit=!1),i.parent.allowSelection&&i.parent.getSelectedRecords().length&&!i.parent.selectionSettings.persistSelection&&i.parent.clearSelection(),i.parent.enableColumnVirtualization?i.parent.notify(Z.r63,{isModeChg:!0}):i.parent.isFrozenGrid()&&e.length?i.parent.notify(Z.r63,{isModeChg:!0}):i.parent.notify(Z.sj6,e);var a={requestType:"columnstate",columns:t};i.parent.trigger(Z.i8$,a);var l=!i.parent.element.querySelector(".e-addedrow");i.parent.editSettings.showAddNewRow&&l&&(i.parent.isEdit=!1,i.parent.addRecord(),i.parent.enableVirtualization||i.parent.enableInfiniteScrolling||i.parent.notify(Z.zeS,{})),"All"!==i.parent.columnQueryMode&&i.parent.refresh()}),!this.parent.groupSettings.columns.length){if(this.parent.autoFit)this.parent.preventAdjustColumns();else if(this.parent.allowResizing&&"Normal"===this.parent.resizeSettings.mode){var r=-1===this.parent.getHeaderTable().style.width.indexOf("px");this.widthService.setWidthToTable(r)}}}},e}(),t2=function(){function e(e){this.previousValues={top:0,left:0},this.oneTimeReady=!0,this.parent=e,this.widthService=new tV(e),this.addEventListener()}return e.prototype.getModuleName=function(){return"scroll"},e.prototype.setWidth=function(e){if(this.parent.element.style.width=(0,y.Ac)(this.parent.width),e&&this.widthService.setWidthToColumns(),this.parent.toolbarModule&&this.parent.toolbarModule.toolbar&&this.parent.toolbarModule.toolbar.element){var t=this.parent.toolbarModule.toolbar.element,i=t.querySelector(".e-toolbar-left"),n=t.querySelector(".e-toolbar-center"),r=t.querySelector(".e-toolbar-right"),o=t.querySelector(".e-toolbar-items"),s=i?i.clientWidth:0,a=n?n.clientWidth:0,l=r?r.clientWidth:0,h=o?o.clientWidth:0,c=t?t.clientWidth:0;(!this.parent.enableAdaptiveUI||s>c||a>c||l>c||h>c)&&this.parent.toolbarModule.toolbar.refreshOverflow()}},e.prototype.setHeight=function(){var t=0,i=this.parent.getContent().querySelector("."+te.kQ),n=this.parent.height;if(this.parent.enableColumnVirtualization&&this.parent.isFrozenGrid()&&"auto"!==this.parent.height&&0>this.parent.height.toString().indexOf("%")&&(n=parseInt(n,10)-e.getScrollBarWidth()),!this.parent.enableVirtualization&&this.parent.frozenRows&&"auto"!==this.parent.height&&"100%"!==this.parent.height){var r=this.parent.getHeaderContent().querySelector(te.gE+":not(.e-masked-tbody)");t=r?r.offsetHeight:0,r&&t?t-=r.getElementsByClassName(te.gY).length*this.parent.getRowHeight():!this.parent.isInitialLoad&&"Shimmer"===this.parent.loadingIndicator.indicatorType&&this.parent.getHeaderContent().querySelector(".e-masked-table")&&(n=parseInt(n,10)-this.parent.frozenRows*this.parent.getRowHeight()),i.style.height=(0,y.Ac)(parseInt(n,10)-t)}else i.style.height=(0,y.Ac)(n);this.ensureOverflow(i),this.parent.isFrozenGrid()&&this.refresh()},e.prototype.setPadding=function(){var t=this.parent.getHeaderContent(),i=e.getScrollBarWidth()-this.getThreshold(),n=this.getCssProperties();t.querySelector("."+te.Vd).style[n.border]=i>0?"1px":"0px",t.style[n.padding]=i>0?i+"px":"0px"},e.prototype.removePadding=function(e){var t=this.getCssProperties(e),i=this.parent.getHeaderContent().querySelector("."+te.Vd);i.style[t.border]="",i.parentElement.style[t.padding]="";var n=this.parent.getFooterContent();n&&n.classList.contains("e-footerpadding")&&n.classList.remove("e-footerpadding")},e.prototype.refresh=function(){if("100%"===this.parent.height){var e=this.parent.getContent();this.parent.element.style.height="100%";var t=this.widthService.getSiblingsHeight(e);e.style.height="calc(100% - "+t+"px)"}},e.prototype.getThreshold=function(){return"mozilla"===y.AR.info.name?.5:1},e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Z.c$N,this.wireEvents,this),this.parent.on(Z.GEE,this.wireEvents,this),this.parent.on(Z.vxT,this.onPropertyChanged,this),this.parent.on(Z.BzD,this.wireEvents,this),this.parent.on(Z.lxn,this.setScrollLeft,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Z.c$N,this.wireEvents),this.parent.off(Z.GEE,this.wireEvents),this.parent.off(Z.vxT,this.onPropertyChanged),this.parent.off(Z.BzD,this.wireEvents),this.parent.off(Z.lxn,this.setScrollLeft),this.unwireEvents())},e.prototype.unwireEvents=function(){this.parent.frozenRows&&this.header&&(y.bi.remove(this.header,"touchstart pointerdown",this.setPageXY),y.bi.remove(this.header,"touchmove pointermove",this.onTouchScroll));var e=this.parent.getContent()?this.parent.getContent().querySelector(".e-movablescrollbar"):null;this.parent.isFrozenGrid()&&this.parent.enableColumnVirtualization&&(e&&y.bi.remove(e,"scroll",this.onCustomScrollbarScroll),this.content&&(y.bi.remove(this.content,"scroll",this.onCustomScrollbarScroll),y.bi.remove(this.content,"touchstart pointerdown",this.setPageXY),/macintosh|ipad/.test(y.AR.userAgent.toLowerCase())&&y.AR.isDevice||y.bi.remove(this.content,"touchmove pointermove",this.onTouchScroll)),this.header&&(y.bi.remove(this.header,"scroll",this.onCustomScrollbarScroll),y.bi.remove(this.header,"touchstart pointerdown",this.setPageXY),y.bi.remove(this.header,"touchmove pointermove",this.onTouchScroll))),this.content&&y.bi.remove(this.content,"scroll",this.contentScrollHandler),this.header&&y.bi.remove(this.header,"scroll",this.headerScrollHandler),this.contentScrollHandler=null,this.headerScrollHandler=null,this.parent.aggregates.length&&this.parent.getFooterContent()&&y.bi.remove(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll)},e.prototype.setScrollLeft=function(){this.parent.getHeaderContent().querySelector("."+te.Vd).scrollLeft=this.previousValues.left},e.prototype.onContentScroll=function(e){var t=this,i=e.classList.contains(te.Vd);return function(n){if(null!==t.content.querySelector(te.gE)&&!t.parent.isPreventScrollEvent){var r=n.target;if(t.parent.frozenRows&&(t.content.scrollTop>0&&t.parent.frozenRows?(0,y.cn)([t.parent.element],"e-top-shadow"):(0,y.IV)([t.parent.element],"e-top-shadow")),t.parent.element.querySelectorAll(".e-leftfreeze,.e-fixedfreeze,.e-rightfreeze").length){var o=t.parent.getContent().querySelectorAll('.e-freezeerror:not([style*="display: none"])'),s=t.parent.getContent().querySelectorAll('.e-fixederror:not([style*="display: none"])');!((t.parent.enableRtl?Math.abs(r.scrollLeft):r.scrollLeft)<=1)&&t.parent.getVisibleFrozenLeftCount()?(0,y.cn)([t.parent.element],"e-left-shadow"):(0,y.IV)([t.parent.element],"e-left-shadow"),Math.round((t.parent.enableRtl?Math.abs(r.scrollLeft):r.scrollLeft)+r.clientWidth)>=r.scrollWidth-1&&t.parent.getVisibleFrozenRightCount()?(0,y.IV)([t.parent.element],"e-right-shadow"):(0,y.cn)([t.parent.element],"e-right-shadow");var a=[].slice.call(t.parent.getContent().querySelectorAll(".e-row:not(.e-hiddenrow)"));if((1===a.length&&o.length||t.parent.element.querySelector('.e-freeze-autofill:not([style*="display: none"])')||s.length)&&r.scrollLeft!==t.previousValues.left){r.scrollLeft=t.previousValues.left;return}if(1!==a.length&&(o.length||s.length)&&r.scrollTop!==t.previousValues.top){r.scrollTop=t.previousValues.top;return}}var l=r.scrollLeft;if((0,y.le)(t.parent.infiniteScrollModule)||!t.parent.enableInfiniteScrolling||t.parent.isEdit&&(!t.parent.editSettings.showAddNewRow||t.parent.element.querySelector(".e-editedrow"))||t.parent.notify(Z.LjL,{target:n.target,isLeft:t.previousValues.left!==l}),t.parent.groupSettings.columns.length&&t.parent.groupSettings.enableLazyLoading){var h=t.previousValues.top<t.parent.getContent().firstElementChild.scrollTop;t.parent.notify(Z.xx5,{scrollDown:h})}t.parent.notify(Z.lwO,{});var c=r.classList.contains("e-summarycontent");if(t.previousValues.left===l){t.previousValues.top=i?r.scrollTop:t.previousValues.top;return}t.parent.notify(Z.qfA,n),e.scrollLeft=l,c&&(t.header.scrollLeft=l),t.previousValues.left=l,t.parent.notify(Z.ARY,{left:l})}}},e.prototype.onCustomScrollbarScroll=function(e,t){var i=this;return function(n){if(null!==i.content.querySelector(te.gE)){var r=n.target.scrollLeft;if(i.previousValues.left!==r&&(e.scrollLeft=r,t.scrollLeft=r,i.previousValues.left=r,i.parent.notify(Z.ARY,{left:r}),i.parent.isDestroyed))return}}},e.prototype.onTouchScroll=function(e){var t=this;return function(i){if("mouse"!==i.pointerType){var n=t.parent.isFrozenGrid(),r=t.getPointXY(i),o=e.scrollLeft+(t.pageXY.x-r.x),s=t.parent.getHeaderContent().querySelector("."+te.Vd),a=t.parent.getContent().querySelector("."+te.kQ);t.previousValues.left===o||o<0||s.scrollWidth-s.clientWidth<o||(i.preventDefault(),s.scrollLeft=o,a.scrollLeft=o,n&&t.parent.enableColumnVirtualization&&(t.parent.getContent().querySelector(".e-movablescrollbar").scrollLeft=o),t.pageXY.x=r.x,t.previousValues.left=o)}}},e.prototype.setPageXY=function(){var e=this;return function(t){"mouse"!==t.pointerType&&(e.pageXY=e.getPointXY(t))}},e.prototype.getPointXY=function(e){var t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t},e.prototype.getScrollbleParent=function(e){if(null===e)return null;var t=(0,y.le)(e.tagName)?e.scrollingElement:e,i=document.defaultView.getComputedStyle(t,null).overflowY;return t.scrollHeight>t.clientHeight&&"hidden"!==i&&"visible"!==i||"HTML"===e.tagName||"BODY"===e.tagName?e:this.getScrollbleParent(e.parentNode)},e.prototype.addStickyListener=function(e){this.parentElement=this.getScrollbleParent(this.parent.element.parentElement),e&&this.parentElement?(this.eventElement="HTML"===this.parentElement.tagName||"BODY"===this.parentElement.tagName?document:this.parentElement,y.bi.add(this.eventElement,"scroll",this.makeStickyHeader,this)):this.eventElement&&(y.bi.remove(this.eventElement,"scroll",this.makeStickyHeader),this.eventElement=null)},e.prototype.resizeFrozenRowBorder=function(){this.parent.element.querySelector(".e-frozenrow-border")?t=this.parent.element.querySelector(".e-frozenrow-border"):(t=this.parent.createElement("div",{className:"e-frozenrow-border"}),this.parent.element.insertBefore(t,this.parent.element.querySelector(".e-gridcontent")));var t,i="auto"!==this.parent.height?e.getScrollBarWidth():0;t.style.width=this.parent.element.offsetWidth-i-.5+"px"},e.prototype.wireEvents=function(){var e,t,i,n=this;if(this.oneTimeReady){var r=this.parent.isFrozenGrid();this.content=this.parent.getContent().querySelector("."+te.kQ),this.header=this.parent.getHeaderContent().querySelector("."+te.Vd);var o=this.parent.getContent().querySelector(".e-movablescrollbar");this.parent.frozenRows&&this.header&&this.content&&(y.bi.add(this.header,"touchstart pointerdown",this.setPageXY(),this),y.bi.add(this.header,"touchmove pointermove",this.onTouchScroll(this.content),this)),r&&o&&this.parent.enableColumnVirtualization&&(y.bi.add(o,"scroll",this.onCustomScrollbarScroll(this.content,this.header),this),y.bi.add(this.content,"scroll",this.onCustomScrollbarScroll(o,this.header),this),y.bi.add(this.header,"scroll",this.onCustomScrollbarScroll(o,this.content),this),y.bi.add(this.header,"touchstart pointerdown",this.setPageXY(),this),y.bi.add(this.header,"touchmove pointermove",this.onTouchScroll(this.content),this),y.bi.add(this.content,"touchstart pointerdown",this.setPageXY(),this),/macintosh|ipad/.test(y.AR.userAgent.toLowerCase())&&y.AR.isDevice||y.bi.add(this.content,"touchmove pointermove",this.onTouchScroll(this.header),this)),this.contentScrollHandler=this.onContentScroll(this.header),this.headerScrollHandler=this.onContentScroll(this.content),y.bi.add(this.content,"scroll",this.contentScrollHandler,this),y.bi.add(this.header,"scroll",this.headerScrollHandler,this),this.parent.aggregates.length&&y.bi.add(this.parent.getFooterContent().firstChild,"scroll",this.onContentScroll(this.content),this),this.parent.enableStickyHeader&&this.addStickyListener(!0),this.refresh(),this.oneTimeReady=!1}var s=this.parent.getContentTable();(0,U.G9)(function(){e=n.header.scrollLeft,t=s.scrollHeight,i=n.parent.getContent().clientHeight},function(){var r={cancel:!1};n.parent.notify(Z.BZ_,r),t<i&&"auto"!==n.parent.height&&(n.setLastRowCell(),n.parent.notify(Z.eFh,r)),n.parent.frozenRows&&n.resizeFrozenRowBorder(),n.parent.enableVirtualization||n.parent.enableInfiniteScrolling||r.cancel||(n.header.scrollLeft=n.previousValues.left,n.content.scrollLeft=n.previousValues.left,n.content.scrollTop=n.previousValues.top),!n.parent.enableColumnVirtualization&&(n.content.scrollLeft=e,n.parent.isFrozenGrid()&&(n.previousValues.left=e))}),this.parent.isPreventScrollEvent=!1},e.prototype.setLastRowCell=function(){var e=this.parent.getContentTable();(0,y.IV)(e.querySelectorAll("td"),"e-lastrowcell"),e.querySelector("tr:nth-last-child(2)")&&this.parent.editSettings.showAddNewRow&&"Bottom"===this.parent.editSettings.newRowPosition&&(0,y.cn)(e.querySelector("tr:nth-last-child(2)").querySelectorAll("td"),"e-lastrowcell"),(0,y.cn)(e.querySelectorAll("tr:last-child td"),"e-lastrowcell"),this.parent.isSpan&&(0,y.cn)(e.querySelectorAll(".e-row-span-lastrowcell"),"e-lastrowcell")},e.prototype.getCssProperties=function(e){var t={},i=(0,y.le)(e)?this.parent.enableRtl:e;return t.border=i?"borderLeftWidth":"borderRightWidth",t.padding=i?"paddingLeft":"paddingRight",t},e.prototype.ensureOverflow=function(e){e.style.overflowY="auto"===this.parent.height?"auto":"scroll"},e.prototype.onPropertyChanged=function(e){e.module===this.getModuleName()&&(this.setPadding(),this.oneTimeReady=!0,"auto"===this.parent.height&&this.removePadding(),this.wireEvents(),this.setHeight(),this.setWidth(!(0,y.le)(e.properties.width)))},e.prototype.makeStickyHeader=function(){if(this.parent.enableStickyHeader&&this.parent.element&&this.parent.getContent()){var e=this.parent.getContent().getClientRects()[0];if(e){var t=window.devicePixelRatio,i=this.parent.getHeaderContent(),n=this.parent.element.querySelector(".e-toolbar"),r=this.parent.element.querySelector(".e-groupdroparea"),o=i.offsetHeight+(n?n.offsetHeight:0)+(r?r.offsetHeight:0),s=this.parentElement.getClientRects()[0].top,a=e.top-(s<0?0:s),l=e.left,h=document.body.querySelector("#"+this.parent.element.id+"_columnmenu");if(1!==t&&(a=Math.ceil(a)),a<o&&e.bottom>0){i.classList.add("e-sticky");var c=0;r&&this.parent.groupSettings.showDropArea&&(this.setSticky(r,c,e.width,l,!0),c+=r.getClientRects()[0].height),n&&(this.setSticky(n,c,e.width,l,!0),c+=n.getClientRects()[0].height),this.setSticky(i,c,e.width,l,!0),(0,y.le)(h)||(h.style.position="fixed",h.style.top=o+"px")}else if(i.classList.contains("e-sticky")){this.setSticky(i,null,null,null,!1),n&&this.setSticky(n,null,null,null,!1),r&&this.setSticky(r,null,null,null,!1);var p=this.parent.element.querySelector(".e-ccdlg");if(p&&p.classList.remove("e-sticky"),!(0,y.le)(h)){h.style.position="absolute";var d=e.top-s;h.style.top=d+"px"}}this.parent.notify(Z.Y9J,{})}}},e.prototype.setSticky=function(e,t,i,n,r){r?e.classList.add("e-sticky"):e.classList.remove("e-sticky"),e.style.width=null!=i?i+"px":"",e.style.top=null!=t?t+"px":"",e.style.left=null!==n?parseInt(e.style.left,10)!==n?n+"px":e.style.left:""},e.prototype.destroy=function(){var e=this.parent.element;if(e&&(e.querySelector("."+te.uD)||e.querySelector("."+te.ci))){this.removeEventListener();var t=this.parent.getContent().querySelector("."+te.kQ);y.bi.remove(t,"scroll",this.onContentScroll),this.parent.enableStickyHeader&&this.addStickyListener(!1),this.removePadding(),(0,y.IV)([this.parent.getHeaderContent().querySelector("."+te.Vd)],te.Vd),(0,y.IV)([t],te.kQ),t.style.height="",this.parent.element.style.width=""}},e.getScrollBarWidth=function(){return(0,U.Iz)()},e}(),t9=i(2217),t3=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),t7=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},t4=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateFn={},t}return t3(t,e),t.prototype.setFormatter=function(e){this.formatFn=e},t.prototype.getFormatter=function(){return this.formatFn},t.prototype.setTemplate=function(e){void 0===e&&(e={}),void 0!==this.footerTemplate&&(this.templateFn[(0,y.I$)(n,n.Summary)]={fn:(0,y.MY)(this.footerTemplate,e),property:"footerTemplate"}),void 0!==this.groupFooterTemplate&&(this.templateFn[(0,y.I$)(n,n.GroupSummary)]={fn:(0,y.MY)(this.groupFooterTemplate,e),property:"groupFooterTemplate"}),void 0!==this.groupCaptionTemplate&&(this.templateFn[(0,y.I$)(n,n.CaptionSummary)]={fn:(0,y.MY)(this.groupCaptionTemplate,e),property:"groupCaptionTemplate"})},t.prototype.getTemplate=function(e){return this.templateFn[(0,y.I$)(n,e)]},t.prototype.setPropertiesSilent=function(e){this.setProperties(e,!0)},t7([(0,y.Z9)()],t.prototype,"type",void 0),t7([(0,y.Z9)()],t.prototype,"field",void 0),t7([(0,y.Z9)()],t.prototype,"columnName",void 0),t7([(0,y.Z9)()],t.prototype,"format",void 0),t7([(0,y.Z9)()],t.prototype,"footerTemplate",void 0),t7([(0,y.Z9)()],t.prototype,"groupFooterTemplate",void 0),t7([(0,y.Z9)()],t.prototype,"groupCaptionTemplate",void 0),t7([(0,y.Z9)()],t.prototype,"customAggregate",void 0),t}(y.rt),t5=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return t3(t,e),t7([(0,y.FE)([],t4)],t.prototype,"columns",void 0),t}(y.rt),t8=function(){function e(e,t){this.copyContent="",this.isSelect=!1,this.parent=e,this.serviceLocator=t,this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.isDestroyed||(this.parent.on(Z.GEE,this.initialEnd,this),this.parent.on(Z.$G9,this.keyDownHandler,this),this.parent.on(Z.V4S,this.clickHandler,this),this.parent.on(Z.c$N,this.initialEnd,this),y.bi.add(this.parent.element,"keydown",this.pasteHandler,this))},e.prototype.removeEventListener=function(){this.parent.isDestroyed||(this.parent.off(Z.$G9,this.keyDownHandler),this.parent.off(Z.GEE,this.initialEnd),this.parent.off(Z.V4S,this.clickHandler),this.parent.off(Z.c$N,this.initialEnd),y.bi.remove(this.parent.element,"keydown",this.pasteHandler))},e.prototype.clickHandler=function(e){var t=e.target;(0,U.Cf)(t,"e-rowcell")},e.prototype.pasteHandler=function(e){var t=this,i=this.parent,n=/(Mac)/i.test(navigator.platform),r=this.parent.getSelectedRowCellIndexes();if(!i.isEdit&&67===e.keyCode&&n&&e.metaKey&&this.copy(),r.length&&86===e.keyCode&&(!n&&e.ctrlKey||n&&e.metaKey)&&!i.isEdit){var o=(0,y.oq)(document.activeElement,"."+te.PO);if(!this.clipBoardTextArea||!o||!i.editSettings.allowEditing||"Batch"!==i.editSettings.mode||"Cell"!==i.selectionSettings.mode||"Flow"===i.selectionSettings.cellSelectionMode)return;this.activeElement=document.activeElement;var s=window.scrollX,a=window.scrollY;this.clipBoardTextArea.focus(),setTimeout(function(){t.activeElement.focus(),window.scrollTo(s,a),t.paste(t.clipBoardTextArea.value,r[0].rowIndex,r[0].cellIndexes[0])},n?100:10)}},e.prototype.paste=function(e,t,i){for(var n,r,o,s=this.parent,a=i,l=t,h=e.split("\n"),c=0;c<h.length;c++){if(o=h[parseInt(c.toString(),10)].split("	"),a=i,c===h.length-1&&""===h[parseInt(c.toString(),10)]||(0,y.o8)(s.getRowByIndex(l))){a++;break}for(var p=0;p<o.length;p++){if(!s.getCellFromIndex(l,a)){a++;break}if(r=(n=s.getColumnByIndex(a)).getParser()?n.getParser()(o[parseInt(p.toString(),10)]):o[parseInt(p.toString(),10)],n.allowEditing&&!n.isPrimaryKey){var d={column:n,data:r,rowIndex:l};this.parent.trigger(Z.xOR,d),l=d.rowIndex,!d.cancel&&s.editModule&&("number"===n.type?this.parent.editModule.updateCell(l,n.field,parseFloat(d.data)):s.editModule.updateCell(l,n.field,d.data))}a++}l++}s.selectionModule.selectCellsByRange({rowIndex:t,cellIndex:i},{rowIndex:l-1,cellIndex:a-1});var u=this.parent.getCellFromIndex(l-1,a-1);u&&(0,y.s1)(u,["e-focus","e-focused"],[]),this.clipBoardTextArea.value=""},e.prototype.initialEnd=function(){this.l10n=this.serviceLocator.getService("localization"),this.parent.off(Z.GEE,this.initialEnd),this.clipBoardTextArea=this.parent.createElement("textarea",{className:"e-clipboard",attrs:{tabindex:"-1","aria-label":this.l10n.getConstant("ClipBoard")}}),this.clipBoardTextArea.style.opacity="0",this.parent.element.appendChild(this.clipBoardTextArea)},e.prototype.keyDownHandler=function(e){"ctrlPlusC"===e.action?this.copy():"ctrlShiftPlusH"===e.action&&this.copy(!0)},e.prototype.setCopyData=function(e){if(""===window.getSelection().toString()){this.clipBoardTextArea.value=this.copyContent="";var t=this.parent.getDataRows();if(this.parent.selectionSettings&&this.parent.selectionSettings.allowColumnSelection&&this.parent.selectionModule&&this.parent.selectionModule.selectedColumnsIndexes.length){if(e){for(var i=this.parent.selectionModule.selectedColumnsIndexes,n=[],r=0;r<i.length;r++){var o=i[parseInt(r.toString(),10)],s=this.parent.getColumnHeaderByIndex(o);s&&!s.classList.contains("e-hide")&&n.push(s)}this.getCopyData(n,!1,"	",e),this.copyContent+="\n"}for(var a=0;a<t.length;a++){var l=[];a>0&&(this.copyContent+="\n"),l.push.apply(l,[].slice.call(t[parseInt(a.toString(),10)].querySelectorAll(".e-columnselection:not(.e-hide)"))),this.getCopyData(l,!1,"	",e)}}else if("Cell"!==this.parent.selectionSettings.mode){var h=this.parent.getSelectedRowIndexes().sort(function(e,t){return e-t});if(e){for(var c=[],r=0;r<this.parent.getVisibleColumns().length;r++)c[parseInt(r.toString(),10)]=this.parent.getVisibleColumns()[parseInt(r.toString(),10)].headerText;this.getCopyData(c,!1,"	",e),this.copyContent+="\n"}if((this.parent.enableVirtualization||this.parent.enableInfiniteScrolling)&&h.length>t.length){h=[];for(var r=0;r<t.length;r++){var p=t[parseInt(r.toString(),10)];"true"===p.getAttribute("aria-selected")&&h.push(parseInt(p.getAttribute("data-rowindex"),10))}}for(var r=0;r<h.length;r++){r>0&&(this.copyContent+="\n");var d=[],u=h[parseInt(r.toString(),10)];!(0,U.MU)(this.parent)&&(this.parent.enableVirtualization||this.parent.enableInfiniteScrolling&&this.parent.infiniteScrollSettings.enableCache||this.parent.groupSettings.columns.length&&this.parent.groupSettings.enableLazyLoading)&&(u=t.map(function(e){return e.getAttribute("data-rowindex")}).indexOf(h[parseInt(r.toString(),10)].toString()));var g=t[parseInt(u.toString(),10)];(0,y.le)(g)||(d.push.apply(d,[].slice.call(g.querySelectorAll(".e-rowcell:not(.e-hide)"))),this.getCopyData(d,!1,"	",e))}}else if(this.parent.selectionModule&&this.parent.selectionModule.selectedRowCellIndexes.length){var f=this.checkBoxSelection();if(f.status){if(e){for(var m=[],r=0;r<f.colIndexes.length;r++){var v=this.parent.getColumnHeaderByIndex(f.colIndexes[parseInt(r.toString(),10)]);v.classList.contains("e-hide")||m.push(v)}this.getCopyData(m,!1,"	",e),this.copyContent+="\n"}for(var r=0;r<f.rowIndexes.length;r++){r>0&&(this.copyContent+="\n");var S=[].slice.call(t[f.rowIndexes[parseInt(r.toString(),10)]].querySelectorAll(".e-cellselectionbackground:not(.e-hide)"));this.getCopyData(S,!1,"	",e)}}else this.getCopyData([].slice.call(this.parent.element.getElementsByClassName("e-cellselectionbackground")),!0,"\n",e)}var C={data:this.copyContent,cancel:!1};this.parent.trigger(Z.p0D,C),C.cancel||(this.clipBoardTextArea.value=this.copyContent=C.data,y.AR.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0)}},e.prototype.getCopyData=function(e,t,i,n){for(var r="string"!=typeof e[0],o=0;o<e.length;o++){if(n&&t){var s=parseInt(e[parseInt(o.toString(),10)].getAttribute(te.qc),10)-1;this.copyContent+=this.parent.getColumns()[parseInt(s.toString(),10)].headerText+"\n"}r?e[parseInt(o.toString(),10)].classList.contains("e-hide")||(this.copyContent+=e[parseInt(o.toString(),10)].innerText):this.copyContent+=e[parseInt(o.toString(),10)],o<e.length-1&&(this.copyContent+=i)}},e.prototype.copy=function(e){document.queryCommandSupported("copy")&&this.clipBoardTextArea&&(this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur()),this.isSelect&&(window.getSelection().removeAllRanges(),this.isSelect=!1)},e.prototype.getModuleName=function(){return"clipboard"},e.prototype.destroy=function(){this.removeEventListener(),this.clipBoardTextArea&&((0,y.Od)(this.clipBoardTextArea),this.clipBoardTextArea=null)},e.prototype.checkBoxSelection=function(){var e=this.parent,t={status:!1};if("Cell"===e.selectionSettings.mode){var i=e.getSelectedRowCellIndexes(),n=void 0,r=[],o=void 0;for(o=0;o<i.length&&(i[parseInt(o.toString(),10)].cellIndexes.length&&r.push(i[parseInt(o.toString(),10)].rowIndex),!i[parseInt(o.toString(),10)].cellIndexes.length||(n||(n=JSON.stringify(i[parseInt(o.toString(),10)].cellIndexes.sort())),n===JSON.stringify(i[parseInt(o.toString(),10)].cellIndexes.sort())));o++);r.sort(function(e,t){return e-t}),o===i.length&&(t={status:!0,rowIndexes:r,colIndexes:i[0].cellIndexes})}return t},e}(),t6="https://ej2.syncfusion.com/documentation/grid",ie="https://ej2.syncfusion.com/documentation/",it="[EJ2Grid.Warning]",ii="[EJ2Grid.Error]",ir="[EJ2Grid.Info]",io=function(){function e(e){this.parent=e,this.parent.on("initial-end",this.patchadaptor,this)}return e.prototype.getModuleName=function(){return"logger"},e.prototype.log=function(e,t){e instanceof Array||(e=[e]);for(var i=e,n=0;n<i.length;n++){var r=is[i[parseInt(n.toString(),10)]],o=r.check(t,this.parent);o.success&&console[r.logType](r.generateMessage(t,this.parent,o.options))}},e.prototype.patchadaptor=function(){var e=this.parent.getDataModule().dataManager.adaptor,t=e.beforeSend;t&&(e.beforeSend=function(i,n,r){t.call(e,i,n,r)})},e.prototype.destroy=function(){this.parent.isDestroyed||this.parent.off("initial-end",this.patchadaptor)},e}(),is={module_missing:{type:"module_missing",logType:"warn",check:function(e,t){var i=t.getInjectedModules().map(function(e){return e.prototype.getModuleName()}),n=t.requiredModules().map(function(e){return e.member}).filter(function(e){return -1===i.indexOf(e)});return{success:n.filter(function(e){return"resize"!==e}).length>0,options:n}},generateMessage:function(e,t,i){return it+": MODULES MISSING\nThe following modules are not injected:.\n"+(i=i.filter(function(e){return"resize"!==e}).reduce(function(e,t){return e+"* "+t+"\n"},""))+"Refer to "+t6+"/module.html for documentation on importing feature modules."}},promise_enabled:{type:"promise_enabled",logType:"error",check:function(){return{success:"undefined"==typeof Promise}},generateMessage:function(){return ii+": PROMISE UNDEFINED\nPromise object is not present in the global environment,please use polyfil to support Promise object in your environment.\nRefer to "+ie+"/base/browser.html?#required-polyfills for more information."}},primary_column_missing:{type:"primary_column_missing",logType:"warn",check:function(e,t){return{success:t.enableColumnVirtualization?0===t.getPrimaryKeyFieldNames().length:0===t.getColumns().filter(function(e){return e.isPrimaryKey}).length}},generateMessage:function(){return it+": PRIMARY KEY MISSING\nEditing is enabled but primary key column is not specified.\nRefer to "+t6+"/api-column.html?#isprimarykey for documentation on providing primary key columns."}},selection_key_missing:{type:"selection_key_missing",logType:"warn",check:function(e,t){return{success:t.selectionSettings.persistSelection&&0===t.getColumns().filter(function(e){return e.isPrimaryKey}).length}},generateMessage:function(){return it+": PRIMARY KEY MISSING\nselectionSettings.persistSelection property is enabled. It requires one primary key column to persist selection.\nRefer to "+t6+"/api-column.html?#isprimarykey for documentation on providing primary key columns."}},actionfailure:{type:"actionfailure",logType:"error",check:function(){return{success:!0}},generateMessage:function(e,t){var i=ia(e,t),n=il(e,t);return it+": "+(""!==n?n:""!==i?i:e.error)}},locale_missing:{type:"locale_missing",logType:"warn",check:function(e,t){var i=S.j.getObject("locale."+t.locale+".grid",y.E7);return{success:"en-US"!==t.locale&&(0,y.le)(i)}},generateMessage:function(e,t){return it+": LOCALE CONFIG MISSING\nLocale configuration for '"+t.locale+"' is not provided.\nRefer to "+t6+"/globalization-and-localization.html?#localization \n             for documentation on setting locale configuration."}},limitation:{type:"limitation",logType:"warn",check:function(e,t){var i;switch(e){case"freeze":i={success:!(0,y.o8)(t.detailTemplate)||!(0,y.o8)(t.childGrid),options:{name:"freeze"}};break;case"virtualization":i={success:!(0,y.o8)(t.detailTemplate)||!(0,y.o8)(t.childGrid),options:{name:"virtualization"}};break;default:i={success:!1}}return i},generateMessage:function(e,t,i){var n,r=i.name;switch(r){case"freeze":n="Frozen rows and columns do not support the following features:\n* Details Template\n* Hierarchy Grid\n";break;case"virtualization":n="Virtualization does not support the following features.\n* Details Template.\n* Hierarchy Grid.\n";break;default:n=""}return it+": "+r.toUpperCase()+" LIMITATIONS\n"+n}},check_datasource_columns:{type:"check_datasource_columns",logType:"warn",check:function(e,t){return{success:!(t.columns.length||t.dataSource instanceof v.h||!(0,y.le)(t.dataSource)&&t.dataSource.length)}},generateMessage:function(){return it+": GRID CONFIG MISSING\ndataSource and columns are not provided in the grid. At least one of either must be provided for grid configuration.\nRefer to "+t6+"/columns.html for documentation on configuring the grid data and columns."}},virtual_height:{type:"virtual_height",logType:"error",check:function(e,t){return{success:(0,y.le)(t.height)||"auto"===t.height}},generateMessage:function(){return ii+": GRID HEIGHT MISSING \nheight property is required to use virtualization.\nRefer to "+t6+"/virtual.html for documentation on configuring the virtual grid."}},grid_remote_edit:{type:"grid_remote_edit",logType:"error",check:function(e){return{success:Array.isArray(e)||Array.isArray(e.result)}},generateMessage:function(){return ii+": RETRUN VALUE MISSING  \nRemote service returns invalid data. \nRefer to "+t6+"/edit.html for documentation on configuring editing with remote data."}},grid_sort_comparer:{type:"grid_sort_comparer",logType:"warn",check:function(e,t){return{success:t.getDataModule().isRemote()}},generateMessage:function(){return it+": SORT COMPARER NOT WORKING  \nSort comparer will not work with remote data.Refer to "+t6+"/sorting/#custom-sort-comparer for documentation on using the sort comparer."}},resize_min_max:{type:"resize_min_max",logType:"info",check:function(e){return{success:e.column.minWidth&&e.column.minWidth>=e.width||e.column.maxWidth&&e.column.maxWidth<=e.width}},generateMessage:function(){return ir+": RESIZING COLUMN REACHED MIN OR MAX  \nThe column resizing width is at its min or max."}},action_disabled_column:{type:"action_disabled_column",logType:"info",check:function(e){var t;switch(e.moduleName){case"reorder":t=(0,y.le)(e.destColumn)?"reordering action is disabled for the "+e.column.headerText+" column":"reordering action is disabled for the "+(e.column.allowReordering?e.destColumn.headerText:e.column.headerText)+" column";break;case"group":t="grouping action is disabled for the "+e.columnName+" column.";break;case"filter":t="filtering action is disabled for the "+e.columnName+" column.";break;case"sort":t="sorting action is disabled for the "+e.columnName+" column."}return{success:!0,options:{fn:t}}},generateMessage:function(e,t,i){return ir+": ACTION DISABLED \n "+i.fn}},exporting_begin:{type:"exporting_begin",logType:"info",check:function(e){return{success:!0,options:{args:e}}},generateMessage:function(e,t,i){return ir+": EXPORTING INPROGRESS \n Grid "+i.args+"ing is in progress"}},exporting_complete:{type:"exporting_complete",logType:"info",check:function(e){return{success:!0,options:{args:e}}},generateMessage:function(e,t,i){return ir+": EXPORTING COMPLETED \n Grid "+i.args+"ing is complete"}},foreign_key_failure:{type:"foreign_key_failure",logType:"error",check:function(){return{success:!0}},generateMessage:function(){return ii+": FOREIGNKEY CONFIG \n  Grid foreign key column needs a valid data source/service.Refer to "+t6+"/columns/#foreign-key-column for documentation on configuring foreign key columns."}},initial_action:{type:"initial_action",logType:"error",check:function(e){var t;switch(e.moduleName){case"group":t="The "+e.columnName+" column is not available in the grid's column model.Please provide a valid field name to group the column";break;case"filter":t="The "+e.columnName+" column is not available in the grid's column model.Please provide a valid field name to filter the column.";break;case"sort":t="The "+e.columnName+" column is not available in the grid's column model.Please provide a valid field name to sort the column."}return{success:!0,options:{fn:t}}},generateMessage:function(e,t,i){return ii+": INITIAL ACTION FAILURE \n "+i.fn}},frozen_rows_columns:{type:"frozen_rows_columns",logType:"error",check:function(e,t){return{success:t.getColumns().length<=t.frozenColumns||t.currentViewData.length&&t.frozenRows>=t.currentViewData.length}},generateMessage:function(e,t){return ii+": OUT OF RANGE ERROR-\n "+(t.getColumns().length<=t.frozenColumns?"FROZEN COLUMNS,":"")+(t.frozenRows>=t.currentViewData.length?"FROZEN ROWS":"")+" invalid"}},column_type_missing:{type:"column_type_missing",logType:"error",check:function(e){return{success:(0,y.le)(e.column.type),options:e.column.headerText}},generateMessage:function(e,t,i){return ii+": COLUMN TYPE MISSING-\n  "+i+" column type was invalid or not defined.Please go through below help link: "+ie+"/grid/columns/#column-type"}},datasource_syntax_mismatch:{type:"datasource_syntax_mismatch",logType:"warn",check:function(e){return{success:e.dataState.dataSource&&!(e.dataState.dataSource instanceof v.h||"result"in e.dataState.dataSource||e.dataState.dataSource instanceof Array)&&!(0,y.le)(e.dataState.dataStateChange)}},generateMessage:function(){return it+": DATASOURCE SYNTAX WARNING\nDataSource should be in the form of {result: Object[], count: number}when dataStateChangeEvent used"}}},ia=function(e){var t=e.error;return t.indexOf&&0!==t.indexOf("Format options")?"":"INVALID FORMAT\nFor more information, refer to the following documentation links:\nNumber format: "+ie+"/common/internationalization#supported-format-string\nDate format: "+ie+"/common/internationalization#manipulating-datetime\nMessage: "+t},il=function(e){var t=S.j.getObject("error.error",e);if((0,y.le)(t))return"";var i="";try{i=JSON.parse(t.responseText)}catch(e){i=""}return"XMLHTTPREQUEST FAILED\nUrl: "+t.responseURL+"\n"+("Status: "+t.status)+" - "+t.statusText+"\n"+(""!==i?"Message: "+i:"")},ih=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ic=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)()],t.prototype,"field",void 0),ic([(0,y.Z9)()],t.prototype,"direction",void 0),ic([(0,y.Z9)(!1)],t.prototype,"isFromGroup",void 0),t}(y.rt),id=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.FE)([],ip)],t.prototype,"columns",void 0),ic([(0,y.Z9)(!0)],t.prototype,"allowUnsort",void 0),t}(y.rt),iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)()],t.prototype,"field",void 0),ic([(0,y.Z9)()],t.prototype,"operator",void 0),ic([(0,y.Z9)()],t.prototype,"value",void 0),ic([(0,y.Z9)()],t.prototype,"matchCase",void 0),ic([(0,y.Z9)(!1)],t.prototype,"ignoreAccent",void 0),ic([(0,y.Z9)()],t.prototype,"predicate",void 0),ic([(0,y.Z9)({})],t.prototype,"actualFilterValue",void 0),ic([(0,y.Z9)({})],t.prototype,"actualOperator",void 0),ic([(0,y.Z9)()],t.prototype,"type",void 0),ic([(0,y.Z9)()],t.prototype,"ejpredicate",void 0),ic([(0,y.Z9)()],t.prototype,"uid",void 0),ic([(0,y.Z9)()],t.prototype,"isForeignKey",void 0),ic([(0,y.Z9)()],t.prototype,"condition",void 0),t}(y.rt),ig=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)(!1)],t.prototype,"enableCache",void 0),ic([(0,y.Z9)(3)],t.prototype,"maxBlocks",void 0),ic([(0,y.Z9)(3)],t.prototype,"initialBlocks",void 0),t}(y.rt),im=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.FE)([],iu)],t.prototype,"columns",void 0),ic([(0,y.Z9)("FilterBar")],t.prototype,"type",void 0),ic([(0,y.Z9)("OnEnter")],t.prototype,"mode",void 0),ic([(0,y.Z9)(!0)],t.prototype,"showFilterBarStatus",void 0),ic([(0,y.Z9)(1500)],t.prototype,"immediateModeDelay",void 0),ic([(0,y.Z9)()],t.prototype,"operators",void 0),ic([(0,y.Z9)(!1)],t.prototype,"ignoreAccent",void 0),ic([(0,y.Z9)(!1)],t.prototype,"enableInfiniteScrolling",void 0),ic([(0,y.Z9)(50)],t.prototype,"itemsCount",void 0),ic([(0,y.Z9)("Shimmer")],t.prototype,"loadingIndicator",void 0),ic([(0,y.Z9)(!1)],t.prototype,"enableCaseSensitivity",void 0),ic([(0,y.Z9)(!1)],t.prototype,"showFilterBarOperator",void 0),t}(y.rt),iy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)("Row")],t.prototype,"mode",void 0),ic([(0,y.Z9)("Flow")],t.prototype,"cellSelectionMode",void 0),ic([(0,y.Z9)("Single")],t.prototype,"type",void 0),ic([(0,y.Z9)(!1)],t.prototype,"checkboxOnly",void 0),ic([(0,y.Z9)(!1)],t.prototype,"persistSelection",void 0),ic([(0,y.Z9)("Default")],t.prototype,"checkboxMode",void 0),ic([(0,y.Z9)(!1)],t.prototype,"enableSimpleMultiRowSelection",void 0),ic([(0,y.Z9)(!0)],t.prototype,"enableToggle",void 0),ic([(0,y.Z9)(!1)],t.prototype,"allowColumnSelection",void 0),t}(y.rt),iv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)([])],t.prototype,"fields",void 0),ic([(0,y.Z9)("")],t.prototype,"key",void 0),ic([(0,y.Z9)("contains")],t.prototype,"operator",void 0),ic([(0,y.Z9)(!0)],t.prototype,"ignoreCase",void 0),ic([(0,y.Z9)(!1)],t.prototype,"ignoreAccent",void 0),t}(y.rt),iS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)()],t.prototype,"targetID",void 0),t}(y.rt),iC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)("Both")],t.prototype,"wrapMode",void 0),t}(y.rt),ib=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)("Normal")],t.prototype,"mode",void 0),t}(y.rt),iw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)(!0)],t.prototype,"showDropArea",void 0),ic([(0,y.Z9)(!1)],t.prototype,"allowReordering",void 0),ic([(0,y.Z9)(!1)],t.prototype,"showToggleButton",void 0),ic([(0,y.Z9)(!1)],t.prototype,"showGroupedColumn",void 0),ic([(0,y.Z9)(!0)],t.prototype,"showUngroupButton",void 0),ic([(0,y.Z9)(!1)],t.prototype,"disablePageWiseAggregates",void 0),ic([(0,y.Z9)([])],t.prototype,"columns",void 0),ic([(0,y.Z9)()],t.prototype,"captionTemplate",void 0),ic([(0,y.Z9)(!1)],t.prototype,"enableLazyLoading",void 0),t}(y.rt),iI=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)(!1)],t.prototype,"allowAdding",void 0),ic([(0,y.Z9)(!1)],t.prototype,"allowEditing",void 0),ic([(0,y.Z9)(!1)],t.prototype,"allowDeleting",void 0),ic([(0,y.Z9)("Normal")],t.prototype,"mode",void 0),ic([(0,y.Z9)(!0)],t.prototype,"allowEditOnDblClick",void 0),ic([(0,y.Z9)(!0)],t.prototype,"showConfirmDialog",void 0),ic([(0,y.Z9)(!1)],t.prototype,"showDeleteConfirmDialog",void 0),ic([(0,y.Z9)()],t.prototype,"template",void 0),ic([(0,y.Z9)()],t.prototype,"headerTemplate",void 0),ic([(0,y.Z9)()],t.prototype,"footerTemplate",void 0),ic([(0,y.Z9)("Top")],t.prototype,"newRowPosition",void 0),ic([(0,y.Z9)({})],t.prototype,"dialog",void 0),ic([(0,y.Z9)(!1)],t.prototype,"allowNextRowEdit",void 0),ic([(0,y.Z9)(!1)],t.prototype,"showAddNewRow",void 0),t}(y.rt),ix=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ih(t,e),ic([(0,y.Z9)("Spinner")],t.prototype,"indicatorType",void 0),t}(y.rt),iR=function(e){var t;function i(i,n){var r=e.call(this,i,n)||this;return r.isPreventScrollEvent=!1,r.inViewIndexes=[],r.keyA=!1,r.frozenRightCount=0,r.freezeColumnRefresh=!0,r.rightcount=0,r.frozenLeftCount=0,r.leftcount=0,r.tablesCount=1,r.movableCount=0,r.movablecount=0,r.fixedcount=0,r.fixedCount=0,r.visibleFrozenLeft=0,r.visibleFrozenFixed=0,r.isPreparedFrozenColumns=!1,r.visibleFrozenRight=0,r.visibleMovable=0,r.frozenLeftColumns=[],r.frozenRightColumns=[],r.movableColumns=[],r.fixedColumns=[],r.stackedLeft=[],r.stackedRight=[],r.stackedFixed=[],r.stackedMovable=[],r.stackedarrayLeft=[],r.stackedarrayRight=[],r.stackedarrayFixed=[],r.stackedarrayMovable=[],r.media={},r.autoFitColumnsResize=!1,r.tableIndex=0,r.componentRefresh=y.wA.prototype.refresh,r.isChangeDataSourceCall=!1,r.mergedColumns=!1,r.isVirtualAdaptive=!1,r.requireTemplateRef=!0,r.vRows=[],r.vcRows=[],r.vGroupOffsets={},r.rowUid=0,r.translateX=0,r.isManualRefresh=!1,r.isAutoFitColumns=!1,r.enableDeepCompare=!1,r.totalDataRecordsCount=0,r.disableSelectedRecords=[],r.partialSelectedRecords=[],r.isSpan=!1,r.islazyloadRequest=!1,r.isAddNewRow=!1,r.addNewRowFocus=!0,r.selectVirtualRowOnAdd=!1,r.lockcolPositionCount=0,r.prevPageMoving=!1,r.pageTemplateChange=!1,r.isAutoGen=!1,r.isAutoGenerateColumns=!1,r.pageRequireRefresh=!0,r.mediaBindInstance={},r.commandDelIndex=void 0,r.preventAutoFit=!1,r.asyncTimeOut=50,r.isExportGrid=!1,r.isWidgetsDestroyed=!1,r.enableLogger=!1,r.needsID=!0,t.Inject(tJ),(0,y.sO)("mergePersistData",r.mergePersistGridData,r),r}return ih(i,e),t=i,i.prototype.getPersistData=function(){for(var e=["pageSettings","sortSettings","filterSettings","groupSettings","columns","searchSettings","selectedRowIndex","scrollPosition"],t={pageSettings:["template","pageSizes","enableQueryString","totalRecordsCount","pageCount"],filterSettings:["type","mode","showFilterBarStatus","immediateModeDelay","ignoreAccent"],groupSettings:["showDropArea","showToggleButton","showGroupedColumn","showUngroupButton","disablePageWiseAggregates","hideCaptionCount"],searchSettings:["fields","operator","ignoreCase"],sortSettings:[],columns:[],selectedRowIndex:[],scrollPosition:[]},i=0;i<e.length;i++)for(var n=this[e[parseInt(i.toString(),10)]],r=0,o=t[e[parseInt(i.toString(),10)]];r<o.length;r++){var s=o[r];delete n[""+s]}var a=this.pageSettings.template,l=Object.assign({template:void 0},this.pageSettings);this.enableVirtualization&&this.enablePersistence&&this.contentModule&&this.contentModule.getPageFromTop&&!(0,y.le)(this.scrollPosition)&&!(0,y.le)(this.scrollPosition.top)&&(l.properties.currentPage=this.contentModule.getPageFromTop(this.scrollPosition.top,{block:1})),this.setProperties({pageSettings:l},!0);var h=this.groupSettings.captionTemplate,c=h&&this.isAngular;c&&delete this.groupSettings.properties.captionTemplate,this.pageTemplateChange=!(0,y.le)(this.pagerTemplate);var p=this.addOnPersist(e);return l.template=a,this.setProperties({pageSettings:l},!0),c&&(this.groupSettings.captionTemplate=h),p},i.prototype.requiredModules=function(){this.setFrozenCount(),this.enableInfiniteAggrgate();var e=[];return this.isDestroyed||(this.allowFiltering&&e.push({member:"filter",args:[this,this.filterSettings,this.serviceLocator],name:"Filter"}),this.allowExcelExport&&e.push({member:"ExcelExport",args:[this,this.serviceLocator],name:"ExcelExport"}),this.allowPdfExport&&e.push({member:"PdfExport",args:[this],name:"PdfExport"}),this.allowSorting&&e.push({member:"sort",args:[this,this.sortSettings,this.sortedColumns,this.serviceLocator],name:"Sort"}),this.allowPaging&&e.push({member:"pager",args:[this,this.pageSettings],name:"Page"}),this.allowSelection&&e.push({member:"selection",args:[this,this.selectionSettings,this.serviceLocator],name:"Selection"}),this.resizeCheck()&&e.push({member:"resize",args:[this],name:"Resize"}),this.allowReordering&&e.push({member:"reorder",args:[this],name:"Reorder"}),this.allowRowDragAndDrop&&e.push({member:"rowDragAndDrop",args:[this],name:"RowDD"}),this.allowGrouping&&e.push({member:"group",args:[this,this.groupSettings,this.sortedColumns,this.serviceLocator],name:"Group"}),this.aggregates.length&&e.push({member:"aggregate",args:[this,this.serviceLocator],name:"Aggregate"}),this.isDetail()&&e.push({member:"detailRow",args:[this,this.serviceLocator],name:"DetailRow"}),(this.toolbar||this.toolbarTemplate)&&e.push({member:"toolbar",args:[this,this.serviceLocator],name:"Toolbar"}),(this.enableVirtualization||this.enableColumnVirtualization)&&e.push({member:"virtualscroll",args:[this,this.serviceLocator],name:"VirtualScroll"}),(this.getFrozenColumns()||this.frozenRows||this.frozenRightCount||this.frozenLeftCount)&&e.push({member:"freeze",args:[this,this.serviceLocator],name:"Freeze"}),!(0,y.le)(this.columns)&&this.isCommandColumn(this.columns)&&e.push({member:"commandColumn",args:[this,this.serviceLocator],name:"CommandColumn"}),(this.editSettings.allowAdding||this.editSettings.allowDeleting||this.editSettings.allowEditing)&&e.push({member:"edit",args:[this,this.serviceLocator],name:"Edit"}),this.extendRequiredModules(e)),e},i.prototype.extendRequiredModules=function(e){this.enableInfiniteScrolling&&e.push({member:"infiniteScroll",args:[this,this.serviceLocator],name:"InfiniteScroll"}),this.groupSettings.enableLazyLoading&&e.push({member:"lazyLoadGroup",args:[this,this.serviceLocator],name:"LazyLoadGroup"}),this.contextMenuItems&&e.push({member:"contextMenu",args:[this,this.serviceLocator],name:"ContextMenu"}),this.showColumnMenu&&e.push({member:"columnMenu",args:[this,this.serviceLocator],name:"ColumnMenu"}),this.showColumnChooser&&e.push({member:"columnChooser",args:[this,this.serviceLocator],name:"ColumnChooser"}),!(0,y.le)(this.columns)&&this.isForeignKeyEnabled(this.columns)&&e.push({member:"foreignKey",args:[this,this.serviceLocator],name:"ForeignKey"}),this.enableLogger&&e.push({member:"logger",args:[this],name:"Logger"})},i.prototype.resizeCheck=function(){var e=!!this.getColumns().filter(function(e){return!0===e.autoFit}).length;(0,y.le)(this.columnModel)||!this.columnModel.length||this.columnModel[0]instanceof e4.sg||(this.columnModel=[]);var t=!!this.showColumnMenu&&(!this.columnMenuItems||!!this.columnMenuItems.filter(function(e){return"AutoFit"===e||"AutoFitAll"===e}).length),i=!!this.contextMenuItems&&!!this.contextMenuItems.filter(function(e){return"AutoFit"===e||"AutoFitAll"===e}).length;return this.allowResizing||this.autoFitColumnsResize||e||t||i},i.prototype.preRender=function(){this.serviceLocator=new tH,this.initProperties(),this.initializeServices()},i.prototype.initProperties=function(){this.isInitial=!0,this.sortedColumns=[],this.inViewIndexes=[],this.mediaCol=[],this.isInitialLoad=!1,this.allowServerDataBinding=!1,this.ignoreCollectionWatch=!0,this.mergeCells={},this.isEdit=!1,this.checkAllRows="None",this.isCheckBoxSelection=!1,this.isPersistSelection=!1,this.componentRefresh=y.wA.prototype.refresh,this.freezeColumnRefresh=!0,this.filterOperators={contains:"contains",endsWith:"endswith",equal:"equal",greaterThan:"greaterthan",greaterThanOrEqual:"greaterthanorequal",lessThan:"lessthan",lessThanOrEqual:"lessthanorequal",notEqual:"notequal",startsWith:"startswith",wildCard:"wildcard",isNull:"isnull",notNull:"notnull",like:"like"},this.defaultLocale={EmptyRecord:"No records to display",True:"true",False:"false",InvalidFilterMessage:"Invalid Filter Data",GroupDropArea:"Drag a column header here to group its column",UnGroup:"Click here to ungroup",UnGroupButton:"Click here to ungroup",GroupDisable:"Grouping is disabled for this column",FilterbarTitle:"'s filter bar cell",EmptyDataSourceError:"DataSource must not be empty at initial load since columns are generated from dataSource in AutoGenerate Column Grid",Add:"Add",Edit:"Edit",Cancel:"Cancel",Update:"Update",Delete:"Delete",Print:"Print",Pdfexport:"PDF Export",Excelexport:"Excel Export",Wordexport:"Word Export",Csvexport:"CSV Export",Search:"Search",Columnchooser:"Columns",Save:"Save",Item:"item",Items:"items",EditOperationAlert:"No records selected for edit operation",DeleteOperationAlert:"No records selected for delete operation",SaveButton:"Save",OKButton:"OK",CancelButton:"Cancel",EditFormTitle:"Details of ",AddFormTitle:"Add New Record",BatchSaveConfirm:"Are you sure you want to save changes?",BatchSaveLostChanges:"Unsaved changes will be lost. Are you sure you want to continue?",ConfirmDelete:"Are you sure you want to Delete Record?",CancelEdit:"Are you sure you want to Cancel the changes?",ChooseColumns:"Choose Column",ColumnMenu:"Column Menu",SearchColumns:"search columns",Matchs:"No matches found",FilterButton:"Filter",FilterTitle:"Filter",FilterIcon:"Filter",ClearButton:"Clear",StartsWith:"Starts With",NotStartsWith:"Does Not Start With",Like:"Like",EndsWith:"Ends With",NotEndsWith:"Does Not End With",Contains:"Contains",NotContains:"Does Not Contain",IsNull:"Null",NotNull:"Not Null",IsEmpty:"Empty",IsNotEmpty:"Not Empty",Equal:"Equal",NotEqual:"Not Equal",LessThan:"Less Than",LessThanOrEqual:"Less Than Or Equal",GreaterThan:"Greater Than",GreaterThanOrEqual:"Greater Than Or Equal",In:"In",NotIn:"Not In",ChooseDate:"Choose a Date",EnterValue:"Enter the value",Copy:"Copy",Group:"Group by this column",Ungroup:"Ungroup by this column",GroupButton:"Group button",UnGroupAria:"ungroup button",GroupSeperator:"Separator for the grouped columns",UnGroupIcon:"ungroup the grouped column ",GroupedSortIcon:"sort the grouped column ",GroupedDrag:"Drag the grouped column",GroupCaption:" is groupcaption cell",CheckBoxLabel:"checkbox",SelectAllCheckbox:"Select all checkbox",SelectRow:"Select row",autoFitAll:"Autofit all columns",autoFit:"Autofit this column",AutoFitAll:"Autofit all columns",AutoFit:"Autofit this column",Export:"Export",FirstPage:"First Page",LastPage:"Last Page",PreviousPage:"Previous Page",NextPage:"Next Page",SortAscending:"Sort Ascending",SortDescending:"Sort Descending",EditRecord:"Edit Record",DeleteRecord:"Delete Record",FilterMenu:"Filter",SelectAll:"Select All",AddCurrentSelection:"Add current selection to filter",Blanks:"Blanks",FilterTrue:"True",FilterFalse:"False",NoResult:"No matches found",ClearFilter:"Clear Filter",Clear:"Clear",NumberFilter:"Number Filters",TextFilter:"Text Filters",DateFilter:"Date Filters",DateTimeFilter:"DateTime Filters",MatchCase:"Match Case",Between:"Between",CustomFilter:"Custom Filter",CustomFilterPlaceHolder:"Enter the value",CustomFilterDatePlaceHolder:"Choose a date",AND:"AND",OR:"OR",ShowRowsWhere:"Show rows where:",ToolbarMenuDialogARIA:"Toolbar menu dialog",FilterMenuDialogARIA:"Filter menu",ExcelFilterDialogARIA:"Excel filter",CheckBoxFilterDialogARIA:"Checkbox filter",DialogEditARIA:"Edit dialog",ColumnMenuDialogARIA:"Column menu dialog",CustomFilterDialogARIA:"Customer filter dialog",SortAtoZ:"Sort A to Z",SortZtoA:"Sort Z to A",SortByOldest:"Sort by Oldest",SortByNewest:"Sort by Newest",SortSmallestToLargest:"Sort Smallest to Largest",SortLargestToSmallest:"Sort Largest to Smallest",Sort:"Sort",SortIcon:"Sort",FilterDescription:"Press Alt Down to open filter Menu",SortDescription:"Press Enter to sort",ColumnMenuDescription:"Press Alt Down to open Column Menu",GroupDescription:"Press Ctrl space to group",ColumnHeader:" column header ",TemplateCell:" is template cell",CommandColumnAria:"is Command column column header ",DialogEdit:"Dialog edit",ClipBoard:"clipboard",AscendingText:"Ascending",DescendingText:"Descending",NoneText:"None",Expanded:"Expanded",Collapsed:"Collapsed"},this.keyConfigs={downArrow:"downarrow",upArrow:"uparrow",rightArrow:"rightarrow",leftArrow:"leftarrow",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftRight:"shift+rightarrow",shiftLeft:"shift+leftarrow",home:"home",end:"end",escape:"escape",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",pageUp:"pageup",pageDown:"pagedown",ctrlAltPageUp:"ctrl+alt+pageup",ctrlAltPageDown:"ctrl+alt+pagedown",altPageUp:"alt+pageup",altPageDown:"alt+pagedown",altDownArrow:"alt+downarrow",altUpArrow:"alt+uparrow",ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlPlusA:"ctrl+A",ctrlPlusP:"ctrl+P",insert:"insert",delete:"delete",f2:"f2",enter:"enter",ctrlEnter:"ctrl+enter",shiftEnter:"shift+enter",tab:"tab",shiftTab:"shift+tab",space:"space",ctrlPlusC:"ctrl+C",ctrlShiftPlusH:"ctrl+shift+H",ctrlSpace:"ctrl+space",ctrlLeftArrow:"ctrl+leftarrow",ctrlRightArrow:"ctrl+rightarrow"}},i.prototype.render=function(){if(this.log(["module_missing","promise_enabled","locale_missing","check_datasource_columns"]),this.ariaService.setOptions(this.element,{role:"grid"}),(0,b.rj)({target:this.element,cssClass:this.cssClass?this.cssClass:null},this.createElement),this.renderModule=new tB(this,this.serviceLocator),this.searchModule=new t0(this),this.scrollModule=new t2(this),this.notify(Z.T5y,{}),this.pageSettings.enableQueryString){var e=new URL(window.location.href).searchParams.get("page");if(!(0,y.le)(e)&&window.location.href.indexOf("?page=")>0){var t=parseInt(e,10);this.setProperties({pageSettings:{currentPage:t}},!0),this.pageSettings.currentPage=t}}if(!0!==this.getDataModule().dataManager.dataSource.offline&&void 0!==this.getDataModule().dataManager.dataSource.url||!(0,y.le)(this.dataSource)&&this.dataSource.result||(this.isVirtualAdaptive=!0),this.aggregateModule&&this.aggregates.length)for(var i=0;i<this.aggregates.length;i++)for(var n=0;n<this.aggregates[parseInt(i.toString(),10)].columns.length;n++){var r=this.aggregates[parseInt(i.toString(),10)].columns[parseInt(n.toString(),10)];r.types&&(r.type=r.types)}if(this.isReact){var o={requireTemplateRef:this.requireTemplateRef};this.trigger(Z.zDl,o),o.requireTemplateRef||(this.requireTemplateRef=o.requireTemplateRef)}else this.trigger(Z.zDl);(0,U.l_)(this.columns,this.enableColumnVirtualization,this),this.enableColumnVirtualization&&this.isChangeDataSourceCall&&this.columnModel&&(this.columnModel=[],this.updateColumnModel(this.columns)),this.isPreparedFrozenColumns=!0,this.enablePersistence&&this.notify(Z.Tku,{}),this.getMediaColumns(),(0,U.iO)(this.columns),this.isFrozenGrid()&&!this.mergedColumns&&this.setInitialFrozenColumnIndex(this.columns),this.checkLockColumns(this.columns),this.getColumns(),this.processModel(),this.gridRender(),this.wireEvents(),this.addListener(),this.updateDefaultCursor(),this.updateStackedFilter(),"Spinner"===this.loadingIndicator.indicatorType&&this.showSpinner(),this.notify(Z.XrU,{}),"Shimmer"===this.loadingIndicator.indicatorType&&this.refreshMaskRow(),this.refreshing&&this.trigger("created")},i.prototype.setInitialFrozenColumnIndex=function(e){for(var t=0;t<e.length;t++){var i=e[parseInt(t.toString(),10)];i[""+te.iN]=i.index,i.columns&&this.setInitialFrozenColumnIndex(i.columns)}},i.prototype.showSpinner=function(){this.isExportGrid||(0,b.yh)(this.element)},i.prototype.hideSpinner=function(){this.isExportGrid||(0,b.v3)(this.element)},i.prototype.showMaskRow=function(e,t){if(!((0,y.le)(this.headerModule)||(0,y.le)(this.contentModule))){var i=this.getHeaderContent().firstChild,n=this.getContent().firstChild,r=this.getFooterContent();if(t){var o=t.querySelector(".e-checkboxlist"),s=Math.floor(o.getBoundingClientRect().height/this.getRowHeight()),a='<div class="e-ftrchk e-mask-ftrchk"><div class="e-checkbox-wrapper"><input class="e-chk-hidden">'+this.getShimmerTemplate()+this.getShimmerTemplate()+"</div></div>";o.innerHTML="";for(var l=0;l<s;l++){o.innerHTML+=a,o.querySelector(".e-ftrchk.e-mask-ftrchk").style.width="100%",o.querySelector(".e-checkbox-wrapper").style.width="100%";var h=[].slice.call(o.querySelectorAll(".e-mask:not(.e-mask-checkbox-filter-intent):not(.e-mask-checkbox-filter-span-intent)"));h[0].classList.add("e-mask-checkbox-filter-intent"),h[1].classList.add("e-mask-checkbox-filter-span-intent")}return}if((this.enableRtl||this.getHeaderContent().style.paddingRight)&&(!this.enableRtl||this.getHeaderContent().style.paddingLeft)||(n.style.overflowY="hidden"),!this.isInitialLoad&&!this.getColumns().length){var c=n.getBoundingClientRect().height,p=Math.ceil((0===c?this.allowPaging?this.pageSettings.pageSize*this.getRowHeight():window.innerHeight:c)/this.getRowHeight());"Vertical"!==this.rowRenderingMode&&(this.headerMaskTable=this.createEmptyMaskTable(i,1)),this.contentMaskTable=this.createEmptyMaskTable(n,p);return}if(this.maskRowContentScroll=(!!this.enableVirtualization||!!this.enableColumnVirtualization)&&!!e,!this.contentMaskTable){var d=n;(this.enableVirtualization||this.enableColumnVirtualization)&&(d=d.querySelector(".e-virtualtable")),(0,y.le)(d.querySelector("tbody"))||(this.contentMaskTable=this.createMaskTable(d,this.getContentMaskColumns(),e))}if(!this.headerMaskTable&&(this.isFrozenGrid()||this.enableColumnVirtualization&&"X"===e)){var d=i;this.enableColumnVirtualization&&"X"===e&&(d=d.querySelector(".e-virtualtable")),this.headerMaskTable=this.createMaskTable(d,this.getContentMaskColumns(),e)}if(r&&r.querySelector(".e-summaryrow")){var u=r.firstChild;this.footerContentMaskTable||(this.footerContentMaskTable=this.createMaskTable(u))}this.enableVirtualization&&e||y.bi.add(n,"scroll",this.translateMaskRow,this)}},i.prototype.getContentMaskColumns=function(){return this.getColumns()},i.prototype.createEmptyMaskTable=function(e,t){var i=this.createElement("table",{className:"e-table e-masked-table"}),n=this.createElement("tbody",{className:"e-masked-tbody"}),r=this.createElement("tr",{className:"e-masked-row e-row"});r.style.height=this.getRowHeight()+"px";var o=this.createElement("td",{className:"e-masked-cell e-rowcell"});o.innerHTML=this.getShimmerTemplate(),r.appendChild(o);for(var s=0;s<t;s++)n.appendChild(r.cloneNode(!0));return i.appendChild(n),e.appendChild(i),i},i.prototype.createMaskTable=function(e,t,i){var n=!!(0,y.oq)(e,".e-gridheader"),r=!!(0,y.oq)(e,".e-gridcontent"),o=!!(0,y.oq)(e,".e-gridfooter"),s=this.getContent().firstChild,a=s.scrollHeight,l=e.querySelector("table"),h=l.cloneNode();h.removeAttribute("role"),h.removeAttribute("id"),(0,y.a5)(h,"position: absolute; z-index: 5; width: "+l.getBoundingClientRect().width+"px;"),n&&!(this.enableColumnVirtualization&&"X"===i)&&(h.style.transform="translate(0px,"+l.querySelector("thead").getBoundingClientRect().height+"px)"),h.setAttribute("class","e-table e-masked-table");var c=l.querySelector("colgroup").cloneNode(!0);if(c.removeAttribute("id"),c.setAttribute("class","e-masked-colgroup"),h.appendChild(c),n&&this.enableColumnVirtualization&&"X"===i){var p=this.createMaskRow(c,t);if(this.isFrozenGrid())for(var d=[].slice.call(p.querySelectorAll(".e-rowcell")),u=0;u<d.length;u++)u<this.frozenLeftCount?(this.frozenLeftCount-1===u&&d[parseInt(u.toString(),10)].classList.add("e-freezeleftborder"),d[parseInt(u.toString(),10)].classList.add("e-leftfreeze"),d[parseInt(u.toString(),10)].setAttribute("aria-colindex",(u+1).toString()),d[parseInt(u.toString(),10)].style.left=t[parseInt(u.toString(),10)].valueX-this.translateX+"px"):d.length-this.frozenRightCount<=u&&t[parseInt(u.toString(),10)]&&(d.length-this.frozenRightCount===u&&d[parseInt(u.toString(),10)].classList.add("e-freezerightborder"),d[parseInt(u.toString(),10)].classList.add("e-rightfreeze"),d[parseInt(u.toString(),10)].setAttribute("aria-colindex",(u+1).toString()),d[parseInt(u.toString(),10)].style.right=this.translateX+t[parseInt(u.toString(),10)].valueX+"px");var g=l.querySelector("thead"),f=[].slice.call(g.querySelectorAll("tr")),m=g.cloneNode();m.removeAttribute("role"),m.setAttribute("class","e-masked-thead");for(var v=f.length,u=0;u<v;u++)m.appendChild(p.cloneNode(!0)),m.childNodes[parseInt(u.toString(),10)].style.height=f[parseInt(u.toString(),10)].getBoundingClientRect().height+"px";h.appendChild(m)}var S=l.querySelector("tbody").cloneNode();S.removeAttribute("role"),S.setAttribute("class","e-masked-tbody");var C=l.querySelector("tbody");if(r||n){var v=Math.ceil(s.getBoundingClientRect().height/this.getRowHeight());if(this.allowPaging&&this.pageSettings.pageSize!==this.currentViewData.length&&this.pagerModule.pagerObj.totalPages!==this.pageSettings.currentPage){var p=this.createMaskRow(c,t),b=p.cloneNode(!0);b.classList.add("e-altrow");for(var u=0;u<this.pageSettings.pageSize-this.currentViewData.length;u++)S.appendChild(u%2==1?b.cloneNode(!0):p.cloneNode(!0))}if(C.querySelector(".e-emptyrow")||!C.childNodes.length||r&&this.childGrid){var p=this.createMaskRow(c,t),b=p.cloneNode(!0);b.classList.add("e-altrow");for(var u=0;u<v;u++)S.appendChild((u+1)%2==0?b.cloneNode(!0):p.cloneNode(!0))}else{var f=[].slice.call(C.querySelectorAll('tr:not(.e-hide):not([style*="display:none"]):not([style*="display: none"])')),w=C.querySelector(".e-addedrow, .e-editedrow"),I=void 0;if(w){if(I=f.indexOf(w),this.isFrozenGrid()&&this.enableColumnVirtualization)for(var d=[].slice.call(f[I+1].querySelectorAll(".e-rowcell")),u=0;u<d.length;u++)u<this.frozenLeftCount?(d[parseInt(u.toString(),10)].classList.add("e-leftfreeze"),d[parseInt(u.toString(),10)].setAttribute("aria-colindex",(u+1).toString()),d[parseInt(u.toString(),10)].style.left=t[parseInt(u.toString(),10)].valueX-this.translateX+"px"):d.length-this.frozenRightCount<=u&&t[parseInt(u.toString(),10)]&&(d[parseInt(u.toString(),10)].classList.add("e-rightfreeze"),d[parseInt(u.toString(),10)].setAttribute("aria-colindex",(u+1).toString()),d[parseInt(u.toString(),10)].style.right=this.translateX+t[parseInt(u.toString(),10)].valueX+"px");w.classList.contains("e-addedrow")?f.splice(I,2):f.splice(I,1)}v=(this.enableVirtualization||this.enableColumnVirtualization)&&i?f.length:v<=f.length?v:f.length;for(var u=0;u<v;u++)S.appendChild(this.applyMaskRow(f[parseInt(u.toString(),10)].cloneNode(!0),f[parseInt(u.toString(),10)].getBoundingClientRect().height));if(w&&w.classList.contains("e-editedrow")&&I<v){var x=S.childNodes[parseInt(I.toString(),10)];x.style.height=this.getRowHeight()+"px",x.classList.add("e-row"),w.classList.contains("e-altrow")&&x.classList.add("e-altrow")}}}if(h.appendChild(S),o){var R=l.querySelector("tfoot"),k=R.cloneNode();k.setAttribute("class","e-masked-tfoot");for(var f=[].slice.call(R.querySelectorAll("tr")),u=0;u<f.length;u++)k.appendChild(this.applyMaskRow(f[parseInt(u.toString(),10)].cloneNode(!0),f[parseInt(u.toString(),10)].getBoundingClientRect().height));h.appendChild(k)}if(n&&this.isFrozenGrid()&&!this.enableColumnVirtualization&&(this.getHeaderContent().querySelector("."+te.Vd).style.position="relative"),e.insertBefore(h,e.firstChild),r&&!(this.enableVirtualization&&i)){var A=a-h.getBoundingClientRect().height;A=A<0?0:A;var T=s.scrollTop<=A?s.scrollTop:A;this.enableVirtualization&&(T-=(0,U.pl)((0,y.oq)(e,".e-virtualtable")).height),h.style.transform="translate(0px,"+T+"px)"}return h},i.prototype.applyMaskRow=function(e,t){e.removeAttribute("role"),e.removeAttribute("aria-rowindex"),e.removeAttribute("data-uid"),e.classList.add("e-masked-row"),e.style.height=t+"px";for(var i=[].slice.call(e.childNodes),n=0;n<i.length;n++){var r=i[parseInt(n.toString(),10)],o=r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("e-checkbox-wrapper");r.removeAttribute("role"),r.removeAttribute("tabindex"),r.removeAttribute("aria-label"),this.enableColumnVirtualization&&r.classList.contains("e-fixedfreeze")&&((0,y.IV)([r],["e-fixedfreeze","e-freezeleftborder","e-freezerightborder"]),(0,y.cn)([r],["e-unfreeze"])),r.removeAttribute("aria-colindex"),r.removeAttribute("index"),r.removeAttribute("ej-mappingname"),r.removeAttribute("ej-mappingvalue"),r.removeAttribute("e-mappinguid"),r.removeAttribute("aria-expanded"),r.classList.add("e-masked-cell"),r.innerHTML=this.getShimmerTemplate(),r.classList.contains("e-recordplusexpand")||r.classList.contains("e-recordpluscollapse")?r.firstChild.classList.add("e-mask-group-intent"):r.classList.contains("e-gridchkbox")||o?r.firstChild.classList.add("e-mask-checkbox-intent"):r.classList.contains("e-rowdragdrop")?r.firstChild.classList.add("e-mask-drag-intent"):r.classList.contains("e-indentcell")&&(r.innerHTML="")}return e},i.prototype.createMaskRow=function(e,t){var i=this.createElement("tr",{className:"e-masked-row e-row"});"Vertical"!==this.rowRenderingMode&&(i.style.height=this.getRowHeight()+"px");for(var n=this.createElement("td",{className:"e-masked-cell e-rowcell"}),r=0,o=0;r<e.childNodes.length;r++){var s=e.childNodes[parseInt(r.toString(),10)],a=n.cloneNode();a.innerHTML=this.getShimmerTemplate(),s.classList.contains("e-group-intent")||s.classList.contains("e-detail-intent")||s.classList.contains("e-drag-intent")?s.classList.contains("e-group-intent")?a.firstChild.classList.add("e-mask-group-intent"):s.classList.contains("e-detail-intent")?a.firstChild.classList.add("e-mask-detail-intent"):s.classList.contains("e-drag-intent")&&a.firstChild.classList.add("e-mask-drag-intent"):("Vertical"===this.rowRenderingMode&&t[parseInt(o.toString(),10)]&&a.setAttribute("data-cell",t[parseInt(o.toString(),10)].headerText?t[parseInt(o.toString(),10)].headerText:t[parseInt(o.toString(),10)].field),"none"===s.style.display?a.classList.add("e-hide"):(a.style.textAlign=t[parseInt(o.toString(),10)]&&t[parseInt(o.toString(),10)].textAlign?t[parseInt(o.toString(),10)].textAlign.toLowerCase():this.enableRtl?"right":"left",t[parseInt(o.toString(),10)]&&("checkbox"===t[parseInt(o.toString(),10)].type||t[parseInt(o.toString(),10)].displayAsCheckBox)&&a.firstChild.classList.add("e-mask-checkbox-intent")),o++),i.appendChild(a)}return i},i.prototype.getShimmerTemplate=function(){return this.maskRowContentScroll?'<span class="e-mask e-skeleton e-skeleton-text"></span>':'<span class="e-mask e-skeleton e-skeleton-text e-shimmer-wave"></span>'},i.prototype.addShimmerEffect=function(){this.maskRowContentScroll=!1;for(var e=[].slice.call(this.element.querySelectorAll(".e-mask:not(.e-shimmer-wave)")),t=0;t<e.length;t++)e[parseInt(t.toString(),10)]&&e[parseInt(t.toString(),10)].classList.add("e-shimmer-wave")},i.prototype.translateMaskRow=function(e){for(var t=e.target,i=t.querySelectorAll(".e-masked-table"),n=0;n<i.length;n++){var r=i[parseInt(n.toString(),10)];if(r){var o=t.scrollHeight-r.getBoundingClientRect().height;o=o<0?0:o;var s=t.scrollTop<=o?t.scrollTop:o;this.enableVirtualization&&(s-=(0,U.pl)((0,y.oq)(r,".e-virtualtable")).height),r.style.transform="translate(0px,"+s+"px)"}}},i.prototype.removeMaskRow=function(){if(!(0,y.le)(this.contentModule)){var e=this.getContent().firstChild;y.bi.remove(e,"scroll",this.translateMaskRow)}this.headerMaskTable&&this.isFrozenGrid()&&!this.enableColumnVirtualization&&(this.getHeaderContent().querySelector("."+te.Vd).style.position="");for(var t=[this.headerMaskTable,this.contentMaskTable,this.footerContentMaskTable],i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];n&&(0,y.Od)(n)}this.headerMaskTable=null,this.contentMaskTable=null,this.footerContentMaskTable=null},i.prototype.refreshMaskRow=function(){var e=this.getContent().firstChild;if((this.isInitialLoad||this.getColumns().length)&&this.contentMaskTable&&e.querySelector(".e-masked-table")){var t=e;this.enableVirtualization&&(t=t.querySelector(".e-virtualtable")),this.refreshMaskRowColgroupWidth(t)}},i.prototype.refreshMaskRowColgroupWidth=function(e){var t=e.querySelector("table:not(.e-masked-table)"),i=t.querySelector(te.Iz).cloneNode(!0),n=e.querySelector(".e-masked-table");i.removeAttribute("id"),i.setAttribute("class","e-masked-colgroup");for(var r=0;r<i.childNodes.length;r++)i.childNodes[parseInt(r.toString(),10)].removeAttribute("class");(0,y.Od)(n.querySelector(".e-masked-colgroup")),n.insertBefore(i,n.firstChild),n.style.width=t.getBoundingClientRect().width+"px"},i.prototype.updateStackedFilter=function(){this.allowFiltering&&"FilterBar"===this.filterSettings.type&&this.getHeaderContent().getElementsByClassName("e-stackedheadercell").length?this.getHeaderContent().classList.add("e-stackedfilter"):this.getHeaderContent().classList.remove("e-stackedfilter")},i.prototype.getMediaColumns=function(){if(!this.enableColumnVirtualization){var e=this.getColumns();if(this.getShowHideService=this.serviceLocator.getService("showHideService"),!(0,y.le)(e))for(var t=0;t<e.length;t++)!(0,y.le)(e[parseInt(t.toString(),10)].hideAtMedia)&&((0,y.le)(e[parseInt(t.toString(),10)].visible)||e[parseInt(t.toString(),10)].visible)&&this.pushMediaColumn(e[parseInt(t.toString(),10)],t)}this.updateFrozenColumnsWidth()},i.prototype.pushMediaColumn=function(e,t){this.mediaCol.push(e),this.media[e.uid]=window.matchMedia(e.hideAtMedia),this.mediaQueryUpdate(t,this.media[e.uid]),this.mediaBindInstance[parseInt(t.toString(),10)]=this.mediaQueryUpdate.bind(this,t),this.media[e.uid].addListener(this.mediaBindInstance[parseInt(t.toString(),10)])},i.prototype.updateMediaColumns=function(e){if(!this.enableColumnVirtualization){for(var t=this.getColumnIndexByUid(e.uid),i=0;i<this.mediaCol.length;i++)if(e.uid===this.mediaCol[parseInt(i.toString(),10)].uid){this.mediaCol.splice(i,1);return}this.pushMediaColumn(e,t)}},i.prototype.mediaQueryUpdate=function(e,t){var i=this.getColumns()[parseInt(e.toString(),10)];this.mediaCol.some(function(e){return e.uid===i.uid})&&(i.visible=t.matches,this.isInitialLoad&&(this.invokedFromMedia=!0,i.visible?this.showHider.show(i.headerText,"headerText"):this.showHider.hide(i.headerText,"headerText")))},i.prototype.refreshMediaCol=function(){this.isInitialLoad=!0;var e=this.element.querySelector("."+te.Jv);this.aggregates.length&&this.element.scrollHeight>parseInt(this.height.toString(),10)&&e&&(0,y.cn)([e],["e-footerpadding"]);var t=this.getColumns().filter(function(e){return"checkbox"===e.type});(0===t.length||t.length&&"ResetOnRowClick"===this.selectionSettings.checkboxMode)&&(this.isCheckBoxSelection=!1),"Vertical"===this.rowRenderingMode&&this.enableHover&&(this.setProperties({enableAdaptiveUI:!0,enableHover:!1},!0),(0,y.IV)([this.element],"e-gridhover")),this.enableAdaptiveUI&&this.scrollModule&&this.scrollModule.refresh(),this.isFrozenGrid()&&this.isAutoGenerateColumns&&(this.widthService.setWidthToColumns(),this.isAutoGenerateColumns=!1)},i.prototype.removeMediaListener=function(){for(var e=0;e<this.mediaCol.length;e++)this.media[this.mediaCol[parseInt(e.toString(),10)].uid].removeListener(this.mediaBindInstance[this.mediaCol[parseInt(e.toString(),10)].index])},i.prototype.eventInitializer=function(){},i.prototype.destroy=function(){var t=this.element;if(t){var i=!!(t.querySelector("."+te.uD)&&t.querySelector("."+te.ci));i&&this.unwireEvents(),this.removeListener(),this.removeMediaListener(),this.notify(Z.ob2,{}),this.destroyDependentModules(),this.isReact&&this.destroyTemplate(["template"]),this.isVue&&this.destroyTemplate(),i&&e.prototype.destroy.call(this),this.toolTipObj.destroy(),this.isReact&&!y.AR.isIE&&(this.element.innerHTML="");for(var n=["renderModule","headerModule","contentModule","valueFormatterService","serviceLocator","ariaService","keyboardModule","widthService","searchModule","showHider","scrollModule","printModule","clipboardModule","focusModule"],r=0;r<n.length;r++)this[n[parseInt(r.toString(),10)]]&&(this[n[parseInt(r.toString(),10)]]=null);this.element.innerHTML="",(0,y.s1)(this.element,[],["e-rtl","e-gridhover","e-responsive","e-default","e-device","e-grid-min-height"])}},i.prototype.destroyDependentModules=function(){var e=this.element;e&&(e.querySelector("."+te.uD)||e.querySelector("."+te.ci))&&(this.scrollModule.destroy(),this.keyboardModule.destroy(),this.focusModule.destroy(),this.clipboardModule.destroy(),this.printModule.destroy())},i.prototype.getModuleName=function(){return"grid"},i.prototype.enableBoxSelection=function(){this.enableAutoFill?(this.selectionSettings.cellSelectionMode="BoxWithBorder",this.element.classList.add("e-afenabled")):(this.element.classList.remove("e-afenabled"),this.notify(Z.CMe,{}))},i.prototype.setCSSClass=function(e){this.cssClass&&(0,y.cn)([this.element],this.cssClass.split(" ")),e&&(0,y.IV)([this.element],e.split(" "))},i.prototype.onPropertyChanged=function(e,t){var i,n=!1,r=!1,o=!1,s=null,a=null;if(!this.isDestroyed){this.log("module_missing"),this.isEllipsisTooltip()&&this.toolTipObj.close();var l=Object.keys(e);l.indexOf("columns")>-1&&(this.enableColumnVirtualization&&(this.columnModel=[]),this.updateColumnObject(),r=!0);for(var h=0;h<l.length;h++){var c=l[h];switch(c){case"allowPaging":this.notify(Z.vxT,{module:"pager",enable:this.allowPaging}),n=!0,"100%"===this.height&&this.scrollModule.refresh();break;case"pageSettings":if(this.pageTemplateChange){this.pageTemplateChange=!1,this.notify(Z.HjP,{module:"pager",properties:e.pageSettings});break}if(this.pagerModule&&this.pagerModule.isCancel){this.pagerModule.isCancel=!1;return}this.notify(Z.HjP,{module:"pager",properties:e.pageSettings}),((0,y.le)(e.pageSettings.currentPage)&&(0,y.le)(e.pageSettings.pageSize)&&(0,y.le)(e.pageSettings.totalRecordsCount)||!(0,y.le)(t.pageSettings)&&e.pageSettings.currentPage!==t.pageSettings.currentPage&&!this.enableColumnVirtualization&&!this.enableVirtualization&&this.pageRequireRefresh&&this.pageSettings.totalRecordsCount<=this.pageSettings.pageSize)&&(n=!0),this.pageRequireRefresh||(this.pageRequireRefresh=!0),this.pagerModule&&this.pagerModule.isCancel&&(this.pagerModule.isCancel=!1);break;case"allowSorting":this.notify(Z.vxT,{module:"sort",enable:this.allowSorting}),n=!0,i=!0;break;case"allowFiltering":this.updateStackedFilter(),this.notify(Z.vxT,{module:"filter",enable:this.allowFiltering}),n=!0,"FilterBar"!==this.filterSettings.type||this.editSettings.showAddNewRow&&"FilterBar"===this.filterSettings.type?this.refreshHeader():"100%"===this.height&&this.scrollModule.refresh();break;case"height":case"width":this.notify(Z.vxT,{module:"scroll",properties:{width:e.width,height:e.height}}),this.allowPaging&&this.pagerModule.refresh();break;case"allowReordering":this.headerModule.refreshUI(),i=!0;break;case"allowRowDragAndDrop":this.notify(Z.vxT,{module:"rowDragAndDrop",enable:this.allowRowDragAndDrop}),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"allowSelection":this.notify(Z.vxT,{module:"selection",enable:this.allowSelection}),this.renderModule.refresh();break;case"cssClass":this.setCSSClass(t.cssClass);break;case"enableAutoFill":this.selectionModule&&(this.enableBoxSelection(),this.selectionModule.updateAutoFillPosition());break;case"rowTemplate":this.rowTemplateFn=(0,U.cK)(this.rowTemplate),n=!0;break;case"emptyRecordTemplate":this.emptyRecordTemplateFn=(0,U.cK)(this.emptyRecordTemplate),n=!0;break;case"detailTemplate":this.detailTemplateFn=(0,U.cK)(this.detailTemplate),n=!0;break;case"allowGrouping":this.notify(Z.vxT,{module:"group",enable:this.allowGrouping}),this.headerModule.refreshUI(),n=!0,i=!0,"100%"===this.height&&this.scrollModule.refresh();break;case"enableInfiniteScrolling":case"childGrid":if(n=!0,a=(s=this.parentDetails?document.querySelector("#"+this.parentDetails.parentID):null)?s.ej2_instances[0]:null,this.childGrid&&a&&(0,y.le)(a.childGrid.childGrid)){var p=Object.assign({},a.childGrid,{childGrid:e.childGrid});for(a.setProperties({childGrid:p},!0);!(0,y.le)(a.parentDetails);){var d=document.querySelector("#"+a.parentDetails.parentID),u=d?d.ej2_instances[0]:null;if(u){var g=Object.assign({},u.childGrid);g.childGrid=a.childGrid,u.setProperties({childGrid:g},!0)}a=u}}this.headerModule.refreshUI();break;case"toolbar":this.notify(Z.vxT,{module:"toolbar"}),"100%"===this.height&&this.scrollModule.refresh();break;case"groupSettings":this.notify(Z.HjP,{module:"group",properties:e.groupSettings,oldProperties:t.groupSettings});break;case"aggregates":!this.aggregates.length&&this.allowGrouping&&this.groupSettings.columns.length&&(n=!0),this.notify(Z.vxT,{module:"aggregate",properties:e}),"100%"===this.height&&this.scrollModule.refresh();break;case"frozenColumns":case"frozenRows":case"enableVirtualization":case"enableColumnVirtualization":case"currencyCode":case"locale":this.isFrozenGrid()&&this.log("frozen_rows_columns"),o=!0,r=!0,this.addNewRowFocus=!0;break;case"query":this.getDataModule().isQueryInvokedFromData||(n=!0),this.getDataModule().isQueryInvokedFromData=!1;break;case"autoFit":this.autoFit?this.preventAdjustColumns():this.restoreAdjustColumns();break;default:this.extendedPropertyChange(c,e,r)}}i&&this.updateDefaultCursor(),r?o||this.getFrozenColumns()||this.frozenRows||this.frozenLeftColumns.length||this.frozenRightColumns.length?this.freezeRefresh():this.refresh():n&&(this.notify(Z.CCe,{requestType:"refresh"}),n=!1,this.maintainSelection(e.selectedRowIndex))}},i.prototype.extendedPropertyChange=function(e,t,i){switch(e){case"enableRtl":this.updateRTL(),this.allowPaging&&(this.element.querySelector(".e-gridpager").ej2_instances[0].enableRtl=t.enableRtl,this.element.querySelector(".e-gridpager").ej2_instances[0].dataBind()),"auto"!==this.height&&(this.scrollModule.removePadding(!t.enableRtl),this.scrollModule.setPadding()),this.toolbar&&this.toolbarModule&&(this.toolbarModule.getToolbar().ej2_instances[0].enableRtl=t.enableRtl,this.toolbarModule.getToolbar().ej2_instances[0].dataBind()),this.contextMenuItems&&this.contextMenuModule&&(this.contextMenuModule.getContextMenu().ej2_instances[0].enableRtl=t.enableRtl,this.contextMenuModule.getContextMenu().ej2_instances[0].dataBind()),this.showColumnMenu&&this.columnMenuModule&&!this.enableAdaptiveUI&&(this.columnMenuModule.getColumnMenu().ej2_instances[0].enableRtl=t.enableRtl,this.columnMenuModule.getColumnMenu().ej2_instances[0].dataBind()),"FilterBar"===this.filterSettings.type&&this.filterSettings.showFilterBarOperator&&this.refreshHeader(),this.notify(Z.JUM,{});break;case"enableAltRow":this.renderModule.refresh();break;case"allowResizing":this.resizeModule&&this.resizeModule.render(),this.headerModule.refreshUI(),this.updateResizeLines();break;case"rowHeight":this.rowHeight?(0,y.cn)([this.element],"e-grid-min-height"):(0,y.IV)([this.element],"e-grid-min-height"),this.renderModule.refresh(),this.headerModule.refreshUI();break;case"gridLines":this.updateGridLines();break;case"showColumnMenu":this.headerModule.refreshUI(),this.notify(Z.vxT,{module:"columnMenu",enable:!0});break;case"columnMenuItems":this.notify(Z.vxT,{module:"columnMenu",enable:this.columnMenuItems});break;case"contextMenuItems":this.notify(Z.vxT,{module:"contextMenu",enable:this.contextMenuItems});break;case"showColumnChooser":this.toolbarModule&&this.toolbarModule.refreshToolbarItems(),this.notify(Z.vxT,{module:"columnChooser",enable:this.showColumnChooser});break;case"filterSettings":this.updateStackedFilter(),this.notify(Z.HjP,{module:"filter",properties:t.filterSettings});break;case"searchSettings":this.notify(Z.HjP,{module:"search",properties:t.searchSettings});break;case"sortSettings":this.notify(Z.HjP,{module:"sort"});break;case"selectionSettings":this.notify(Z.HjP,{module:"selection",properties:t.selectionSettings});break;case"editSettings":this.notify(Z.HjP,{module:"edit",properties:t.editSettings});break;case"allowTextWrap":case"textWrapSettings":this.allowTextWrap?this.applyTextWrap():this.removeTextWrap(),this.notify(Z.bxM,{case:"textwrap",isModeChg:"textWrapSettings"===e}),this.refreshHeader(),"100%"===this.height&&this.scrollModule.refresh();break;case"dataSource":var n=this.getDataModule().getState();if(this.allowPaging&&this.pageSettings.pageSizes&&!this.getDataModule().isRemote()&&!(n&&n.isPending)&&this.pagerModule.pagerObj.isAllPage){var r=this.dataSource instanceof v.h?this.dataSource.dataSource.json.length:"result"in this.dataSource?this.dataSource.count:this.dataSource.length;Array.isArray(this.pageSettings.pageSizes)&&this.pageSettings.pageSizes.indexOf("All")>-1||this.pageSettings.pageSizes||this.pageSettings.pageSize===r?(this.setProperties({pageSettings:{pageSize:r}},!0),this.pagerModule.pagerObj.setProperties({pageSize:r},!0)):this.pagerModule.pagerObj.isAllPage=!1}if(this.allowSelection&&this.isPersistSelection&&!(n&&n.isPending)&&this.clearSelection(),!(0,y.le)(this.dataSource)&&this.dataSource.result&&(this.isVirtualAdaptive=!1),Object.getPrototypeOf(t).deepWatch)for(var o=this.getPrimaryKeyFieldNames()[0],s=0,a=Object.keys(t.dataSource);s<a.length;s++)this.setRowData((0,y.NA)(o,this.dataSource[a[parseInt(s.toString(),10)]]),this.dataSource[a[parseInt(s.toString(),10)]]);else if(n.isPending){var l=(0,y.le)(this.dataSource)?[]:this.dataSource.result,h=n.group||[];if(h.length&&!this.groupSettings.enableLazyLoading&&!(l.length&&l[0].field))for(var s=0;s<h.length;s++)l=S.j.group(l,h[parseInt(s.toString(),10)],n.aggregates||[]);this.dataSource={result:l,count:this.dataSource.count,aggregates:this.dataSource.aggregates},this.getDataModule().setState({}),n.resolver(this.dataSource)}else{if(!(0,y.le)(this.dataSource)&&this.dataSource.result&&this.dataSource.count&&this.groupSettings.columns.length){var l=this.dataSource.result,h=this.groupSettings.columns;if(h.length&&!(l.length&&l[0].field))for(var s=0;s<h.length;s++)l=S.j.group(l,h[parseInt(s.toString(),10)]);this.dataSource={result:l,count:this.dataSource.count}}this.getDataModule().setState({isDataChanged:!1}),this.notify(Z.mVO,{}),!i&&(this.renderModule.refresh(),this.isCheckBoxSelection&&this.notify(Z.WOt,{}))}this.scrollRefresh();break;case"enableHover":(t.enableHover?y.cn:y.IV)([this.element],"e-gridhover");break;case"selectedRowIndex":this.isSelectedRowIndexUpdating||this.selectRow(t.selectedRowIndex),this.isSelectedRowIndexUpdating=!1;break;case"resizeSettings":this.widthService.setWidthToTable();break;case"enableAdaptiveUI":this.notify(Z.j0B,{});break;case"rowRenderingMode":this.enableVerticalRendering(),this.notify(Z.uW0,{}),this.refresh();break;case"enableStickyHeader":this.scrollModule.addStickyListener(t.enableStickyHeader);break;case"allowPdfExport":case"allowExcelExport":this.toolbarModule&&this.toolbarModule.refreshToolbarItems()}},i.prototype.maintainSelection=function(e){var t=this;if(-1!==e){var i=function(){t.selectRow(e),t.off(Z.GEE,i)};this.on(Z.GEE,i,this)}},i.prototype.setProperties=function(t,i){e.prototype.setProperties.call(this,t,i),t.filterSettings&&this.filterModule&&i&&this.filterModule.refreshFilter()},i.prototype.getTablesCount=function(){return this.tablesCount},i.prototype.updateDefaultCursor=function(){for(var e=[].slice.call(this.getHeaderContent().querySelectorAll(".e-headercell:not(.e-stackedheadercell)")),t=[].slice.call(this.getHeaderContent().getElementsByClassName("e-stackedheadercell")),i=this.getColumns(),n=0;n<e.length;n++){var r=e[parseInt(n.toString(),10)];(this.allowGrouping||this.allowReordering||this.allowSorting)&&(i[parseInt(n.toString(),10)].allowReordering&&i[parseInt(n.toString(),10)].allowSorting&&i[parseInt(n.toString(),10)].allowGrouping?r.classList.add("e-mousepointer"):r.classList.add("e-defaultcursor"))}for(var o=0;o<t.length;o++)this.allowReordering&&t[parseInt(o.toString(),10)].classList.add("e-mousepointer")},i.prototype.updateColumnModel=function(e,t){for(var i=0,n=(0,y.le)(e)?0:e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?this.updateColumnModel(e[parseInt(i.toString(),10)].columns,!0):this.columnModel.push(e[parseInt(i.toString(),10)]);((0,y.le)(t)||!t)&&this.updateLockableColumns()},i.prototype.getFrozenLeftCount=function(){return this.getFrozenColumns()||this.getFrozenLeftColumnsCount()},i.prototype.isFrozenGrid=function(){return 0!==this.getFrozenColumns()||0!==this.frozenLeftColumns.length||0!==this.frozenRightColumns.length||0!==this.fixedColumns.length},i.prototype.getFrozenMode=function(){return this.frozenName},i.prototype.updateLockableColumns=function(){for(var e=this.columnModel,t=0,i=0,n=this.getFrozenColumns(),r=0;r<e.length;r++)e[parseInt(r.toString(),10)].lockColumn&&(r<n?(e.splice(t,0,e.splice(r,1)[0]),t++):(e.splice(n+i,0,e.splice(r,1)[0]),i++))},i.prototype.checkLockColumns=function(e){for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].columns?this.checkLockColumns(e[parseInt(t.toString(),10)].columns):e[parseInt(t.toString(),10)].lockColumn&&this.lockcolPositionCount++},i.prototype.leftrightColumnWidth=function(e){var t="left"===e?this.getFrozenLeftColumns():"right"===e?this.getFrozenRightColumns():[],i=0;return t.filter(function(e){e.visible&&(i+=parseInt(e.width.toString(),10))}),i},i.prototype.getColumns=function(e){var t=this,i=this.inViewIndexes.map(function(e){return e-t.groupSettings.columns.length}).filter(function(e){return e>-1}),n=i.length;(!this.enableColumnVirtualization||(0,y.le)(this.columnModel)||0===this.columnModel.length||e)&&(this.columnModel=[],this.updateColumnModel(this.columns));var r=0===n?this.columnModel:this.getVisibleColumns().slice(i[0],i[n-1]+1),o=[],s=[],a=[],l=this.enableColumnVirtualization&&this.isPreparedFrozenColumns&&0===n;l&&(this.frozenRightColumns=[],this.frozenLeftColumns=[]);for(var h=0;h<r.length;h++)"Left"===r[parseInt(h.toString(),10)].freeze||r[parseInt(h.toString(),10)].isFrozen?(o.push(r[parseInt(h.toString(),10)]),l&&this.frozenLeftColumns.push(r[parseInt(h.toString(),10)])):"Right"===r[parseInt(h.toString(),10)].freeze?(s.push(r[parseInt(h.toString(),10)]),l&&this.frozenRightColumns.push(r[parseInt(h.toString(),10)])):a.push(r[parseInt(h.toString(),10)]);return this.enableColumnVirtualization&&this.isFrozenGrid()&&(this.frozenLeftColumns.length&&(o=this.frozenLeftColumns),this.frozenRightColumns.length&&(s=this.frozenRightColumns)),o.concat(a).concat(s)},i.prototype.getStackedHeaderColumnByHeaderText=function(e,t){for(var i=0;i<t.length;i++){var n=t[parseInt(i.toString(),10)];if(n.field===e||n.headerText===e){this.stackedColumn=n;break}n.columns&&this.getStackedHeaderColumnByHeaderText(e,n.columns)}return this.stackedColumn},i.prototype.getColumnIndexesInView=function(){return this.inViewIndexes},i.prototype.getQuery=function(){return this.query},i.prototype.getLocaleConstants=function(){return this.defaultLocale},i.prototype.setColumnIndexesInView=function(e){this.inViewIndexes=e},i.prototype.getVisibleColumns=function(){return this.getCurrentVisibleColumns()},i.prototype.getHeaderContent=function(){return this.headerModule.getPanel()},i.prototype.setGridHeaderContent=function(e){this.headerModule.setPanel(e)},i.prototype.getContentTable=function(){return this.contentModule.getTable()},i.prototype.setGridContentTable=function(e){this.contentModule.setTable(e)},i.prototype.getContent=function(){return this.contentModule.getPanel()},i.prototype.setGridContent=function(e){this.contentModule.setPanel(e)},i.prototype.getHeaderTable=function(){return this.headerModule.getTable()},i.prototype.setGridHeaderTable=function(e){this.headerModule.setTable(e)},i.prototype.getFooterContent=function(){return this.footerElement=this.element.getElementsByClassName(te.Jv)[0],this.footerElement},i.prototype.getFooterContentTable=function(){return this.footerElement=this.element.getElementsByClassName(te.Jv)[0],this.footerElement.firstChild.firstChild},i.prototype.getPager=function(){return this.gridPager},i.prototype.setGridPager=function(e){this.gridPager=e},i.prototype.getRowByIndex=function(e){return this.enableVirtualization&&this.groupSettings.enableLazyLoading?this.lazyLoadRender.getRowByIndex(e):this.contentModule.getRowByIndex(e)},i.prototype.getMovableRowByIndex=function(e){return this.contentModule.getRowByIndex(e)},i.prototype.getFrozenRowByIndex=function(e){return this.contentModule.getRowByIndex(e)},i.prototype.getRows=function(){return this.contentModule.getRowElements()},i.prototype.getFrozenRightRowByIndex=function(e){return this.contentModule.getRowByIndex(e)},i.prototype.getRowInfo=function(e){var t={target:e};if(!(0,y.le)(e)&&(0,y.le)((0,U.Cf)(e,"e-detailrowcollapse")&&(0,y.le)((0,U.Cf)(e,"e-recordplusexpand")))){var i=(0,y.oq)(e,"."+te.PO);if(!i){var n=(0,y.oq)(e,"."+te.O7);if(!(0,y.le)(n)&&!n.classList.contains("e-addedrow")){var r=this.getRowObjectFromUID(n.getAttribute("data-uid")),o=parseInt(n.getAttribute(te._x),10)-1;t={row:n,rowData:r.data,rowIndex:o}}return t}var s=parseInt(i.getAttribute(te.qc),10)-1,a=(0,y.oq)(i,"."+te.O7);if(!(0,y.le)(i)&&!isNaN(s)&&!(0,y.le)(a)){var o=parseInt(a.getAttribute(te._x),10)-1,l=this.contentModule.getRows(),h=s+this.getIndentCount(),c=l.filter(function(e){return e.uid===a.getAttribute("data-uid")}),p={},d=void 0;Object.keys(c).length&&(p=c[0].data,d=c[0].cells[parseInt(h.toString(),10)].column),t={cell:i,cellIndex:s,row:a,rowIndex:o,rowData:p,column:d,target:e}}}return t},i.prototype.getMovableRows=function(){return this.contentModule.getRowElements()},i.prototype.getFrozenRightRows=function(){return this.contentModule.getRowElements()},i.prototype.getDataRows=function(){return this.getAllDataRows()},i.prototype.getAllDataRows=function(e){if((0,y.le)(this.getContentTable().querySelector(te.gE)))return[];var t=this.getContentTable().querySelector(te.gE),i=[].slice.call(t.children);if(this.editSettings.showAddNewRow&&(i[0].classList.contains("e-addedrow")?i.shift():i[i.length-1].classList.contains("e-addedrow")&&i.pop()),this.frozenRows){var n=this.getHeaderTable().querySelector(te.gE),r=[].slice.call(n.children);i=this.addMovableRows(r,i),this.editSettings.showAddNewRow&&r[0].classList.contains("e-addedrow")&&r.shift()}return this.generateDataRows(i,e)},i.prototype.addMovableRows=function(e,t){for(var i=0,n=t.length;i<n;i++)e.push(t[parseInt(i.toString(),10)]);return e},i.prototype.generateDataRows=function(e,t){for(var i=[],n=0,r=e.length;n<r;n++)e[parseInt(n.toString(),10)].classList.contains(te.O7)&&(!e[parseInt(n.toString(),10)].classList.contains("e-hiddenrow")||t)&&(this.isCollapseStateEnabled()?i[parseInt(e[parseInt(n.toString(),10)].getAttribute("aria-rowindex"),10)-1]=e[parseInt(n.toString(),10)]:i.push(e[parseInt(n.toString(),10)]));return i},i.prototype.getMovableDataRows=function(){return this.getAllMovableDataRows()},i.prototype.getAllMovableDataRows=function(e){return this.getAllDataRows(e)},i.prototype.getFrozenDataRows=function(){return this.getAllFrozenDataRows()},i.prototype.getAllFrozenDataRows=function(e){return this.getAllDataRows(e)},i.prototype.getFrozenRightDataRows=function(){return this.getAllFrozenRightDataRows()},i.prototype.getAllFrozenRightDataRows=function(e){return this.getAllDataRows(e)},i.prototype.setCellValue=function(e,t,i){var n="data",r="index",o=this.getPrimaryKeyFieldNames()[0],s=new tp(this,this.serviceLocator),a=this.getColumnIndexByField(t),l=this.getColumnByField(t),h=this.contentModule.getRows().filter(function(t){return(0,y.NA)(o,t.data)===e})[0],c=h?this.element.querySelector("[data-uid="+h.uid+"]"):null;if(!(0,y.le)(c)){"string"==typeof i&&(i=this.sanitize(i)),(0,y.sO)(t,i,h[""+n]);var p=this.enableVirtualization?c.children[parseInt(a.toString(),10)]:this.getCellFromIndex(h[""+r],a);if(!(0,y.le)(p)){this.groupSettings.columns.length&&(a+=this.groupSettings.columns.length),(this.childGrid||this.detailTemplate)&&a++,this.isRowDragable()&&a++;var d=h.cells[a-0];s.refreshTD(p,d,h[""+n],{index:h[""+r]}),this.isReact&&(p=this.enableVirtualization?c.children[parseInt(a.toString(),10)]:this.getCellFromIndex(h[""+r],a)),this.aggregates.length>0&&(this.notify(Z.d6W,{}),this.groupSettings.columns.length>0&&this.notify(Z.Zjj,{})),(0,y.le)(h)||(0,y.le)(h.changes)||(h.changes[""+t]=i),this.trigger(Z.EXN,{cell:p,column:l,data:h[""+n]}),this.isReact&&"0"===p.getAttribute("tabindex")&&p.classList.contains("e-focused")&&p.focus()}}},i.prototype.refreshReactColumnTemplateByUid=function(e,t){var i=this;this.isReact&&this.clearTemplate(["columnTemplate"],void 0,function(){var e=!!i.childGrid&&!!i.element.querySelectorAll(".e-childgrid").length,n=e?i.getContentTable().querySelectorAll(".e-row"):i.getDataRows();i.refreshReactTemplateTD(n,e),t&&i.renderTemplates()})},i.prototype.refreshReactTemplateTD=function(e,t,i){for(var n="cells",r=this.getIndentCount(),o=0,s=!1,a=0;a<e.length;a++){var l=this.getRowObjectFromUID(e[parseInt(a.toString(),10)].getAttribute("data-uid"));if(t&&!l&&(0,U.Cf)(e[parseInt(a.toString(),10)],"e-childgrid")){var h=(0,U.Cf)(e[parseInt(a.toString(),10)],"e-childgrid").ej2_instances[0];l=h.getRowObjectFromUID(e[parseInt(a.toString(),10)].getAttribute("data-uid")),o=h.getIndentCount(),s=!0}if(l&&l.isDataRow&&!(0,y.le)(l.index)&&!e[parseInt(a.toString(),10)].classList.contains("e-editedrow"))for(var c=0;c<l[""+n].length;c++){var p=l[""+n][parseInt(c.toString(),10)];if(p.isTemplate){var d=new tp(this,this.serviceLocator),u=t?e[parseInt(a.toString(),10)].children[p.index+(s?o:r)]:this.getCellFromIndex(a,i?p.index:c-r);d.refreshTD(u,p,l.data,{index:l.index})}}s=!1}},i.prototype.refreshGroupCaptionFooterTemplate=function(){for(var e=!!this.childGrid&&!!this.element.querySelectorAll(".e-childgrid").length,t=this.getContentTable().querySelectorAll(".e-groupcaptionrow, .e-groupfooterrow"),i=0;i<t.length;i++){var n=this,r=this.getRowObjectFromUID(t[parseInt(i.toString(),10)].getAttribute("data-uid"));if(e&&!r&&(0,U.Cf)(t[parseInt(i.toString(),10)],"e-childgrid")&&(r=(n=(0,U.Cf)(t[parseInt(i.toString(),10)],"e-childgrid").ej2_instances[0]).getRowObjectFromUID(t[parseInt(i.toString(),10)].getAttribute("data-uid"))),r){var o={cells:r.cells.filter(function(e){return e.isDataCell}),data:r.data,dataUid:r.uid};n.notify(Z.J9,o)}}},i.prototype.refreshReactHeaderTemplateByUid=function(e){if(this.isReact)for(var t=this.headerModule.rows,i=this.getNormalizedColumnIndex(e),n=this,r=0;r<t.length;r++)!function(r){var o=t[parseInt(r.toString(),10)].cells[parseInt(i.toString(),10)];if(o&&o.column.uid===e){var s=new tm(n,n.serviceLocator),a=(0,U.Cf)(n.element.querySelectorAll("[e-mappinguid="+e+"]")[0],"e-templatecell");s.refresh(o,a);var l=n.sortSettings.columns,h=l.findIndex(function(e){return e.field===o.column.field});if(-1!==h){var c=n.getColumnHeaderByField(o.column.field);n.ariaService.setSort(c,l[parseInt(h.toString(),10)].direction.toLowerCase()),l.length>1&&c.querySelector(".e-headercelldiv").insertBefore(n.createElement("span",{className:"e-sortnumber",innerHTML:(h+1).toString()}),c.querySelector(".e-headertext"));var p=c.querySelector(".e-sortfilterdiv");"Ascending"===l[parseInt(h.toString(),10)].direction?(0,y.s1)(p,["e-ascending","e-icon-ascending"],[]):(0,y.s1)(p,["e-descending","e-icon-descending"],[])}}}(r)},i.prototype.setRowData=function(e,t){var i=this.contentModule.getRows(),n=this.getPrimaryKeyFieldNames()[0];this.groupSettings.columns.length>0&&this.aggregates.length>0&&(i=i.filter(function(e){return e.isDataRow}));var r=i.filter(function(t){return(0,y.NA)(n,t.data)===e})[0],o=r?[].slice.call(this.element.querySelectorAll("[data-uid="+r.uid+"]")):void 0;if(!(0,y.le)(r)&&o.length){if(r.changes=t,this.frozenRows){var s=this.getRowsObject()[r.index];this.setFrozenRowData(s,t)}else this.setFrozenRowData(r,t);this.aggregates.length>0&&(this.notify(Z.d6W,{}),this.groupSettings.columns.length>0&&this.notify(Z.Zjj,{}))}},i.prototype.setFrozenRowData=function(e,t){var i=new tt(this.serviceLocator,null,this);e.changes=t,(0,U.rX)(e,this.getForeignKeyColumns(),e.changes),i.refresh(e,this.getColumns(),!0)},i.prototype.getCellFromIndex=function(e,t){var i=this.getColumnByIndex(t);return(0,U.EU)(this,i,e,t)},i.prototype.getMovableCellFromIndex=function(e,t){return this.getCellFromIndex(e,t)},i.prototype.getFrozenRightCellFromIndex=function(e,t){return this.getCellFromIndex(e,t)},i.prototype.getColumnHeaderByIndex=function(e){return this.getHeaderTable().getElementsByClassName("e-headercell")[parseInt(e.toString(),10)]},i.prototype.getMovableColumnHeaderByIndex=function(e){return this.getColumnHeaderByIndex(e)},i.prototype.getFrozenRightColumnHeaderByIndex=function(e){return this.getColumnHeaderByIndex(e)},i.prototype.getFrozenLeftColumnHeaderByIndex=function(e){return this.getColumnHeaderByIndex(e)},i.prototype.getRowObjectFromUID=function(e){var t=this.contentModule.getRows(),i=this.rowObject(t,e);return(0,y.le)(i)&&this.enableVirtualization&&this.groupSettings.columns.length>0&&(i=this.rowObject(this.vRows,e)),i},i.prototype.rowObject=function(e,t){if(e)for(var i=0;i<e.length;i++){var n=e[i];if(n.uid===t)return n}return null},i.prototype.getRowsObject=function(){return this.contentModule.getRows()},i.prototype.getMovableRowsObject=function(){return this.contentModule.getRows()},i.prototype.getFrozenRightRowsObject=function(){return this.contentModule.getRows()},i.prototype.getColumnHeaderByField=function(e){var t=this.getColumnByField(e);return t?this.getColumnHeaderByUid(t.uid):void 0},i.prototype.getColumnHeaderByUid=function(e){var t=this.getHeaderContent().querySelector("[e-mappinguid="+e+"]");return t?t.parentElement:void 0},i.prototype.getColumnByIndex=function(e){var t;return this.getColumns().some(function(i,n){return t=i,n===e}),t},i.prototype.getColumnByField=function(e){return(0,U.Eh)(this.getColumns(),function(t){if(t.field===e)return t})[0]},i.prototype.getColumnIndexByField=function(e){for(var t=this.getColumns(),i=0;i<t.length;i++)if(t[parseInt(i.toString(),10)].field===e)return i;return -1},i.prototype.getColumnByUid=function(e,t){var i=t?this.columns:this.getColumns();return(0,U.Eh)(i.concat(this.getStackedColumns(this.columns)),function(t){if(t.uid===e)return t})[0]},i.prototype.getStackedColumns=function(e,t){void 0===t&&(t=[]);for(var i=0;i<e.length;i++){var n=e[i];n.columns&&(t.push(n),this.getStackedColumns(n.columns,t))}return t},i.prototype.getColumnIndexByUid=function(e){var t=(0,U.Eh)(this.getColumns(),function(t,i){if(t.uid===e)return i})[0];return(0,y.le)(t)?-1:t},i.prototype.getUidByColumnField=function(e){return(0,U.Eh)(this.getColumns(),function(t){if(t.field===e)return t.uid})[0]},i.prototype.getNormalizedColumnIndex=function(e){return this.getColumnIndexByUid(e)+this.getIndentCount()},i.prototype.getIndentCount=function(){var e=0;return this.allowGrouping&&(e+=this.groupSettings.columns.length),this.isDetail()&&e++,this.isRowDragable()&&(0,y.le)(this.rowDropSettings.targetID)&&e++,e},i.prototype.getColumnFieldNames=function(){for(var e,t=[],i=0,n=this.getColumns().length;i<n;i++)(e=this.getColumns()[parseInt(i.toString(),10)]).visible&&t.push(e.field);return t},i.prototype.getRowTemplate=function(){return this.rowTemplateFn},i.prototype.getEmptyRecordTemplate=function(){return this.emptyRecordTemplateFn},i.prototype.getDetailTemplate=function(){return this.detailTemplateFn},i.prototype.getEditTemplate=function(){return this.editTemplateFn},i.prototype.getEditHeaderTemplate=function(){return this.editHeaderTemplateFn},i.prototype.getEditFooterTemplate=function(){return this.editFooterTemplateFn},i.prototype.getColumnChooserTemplate=function(){return this.columnChooserTemplateFn},i.prototype.getColumnChooserHeaderTemplate=function(){return this.columnChooserHeaderTemplateFn},i.prototype.getColumnChooserFooterTemplate=function(){return this.columnChooserFooterTemplateFn},i.prototype.getPrimaryKeyFieldNames=function(){for(var e=[],t=0;t<this.columnModel.length;t++)this.columnModel[parseInt(t.toString(),10)].isPrimaryKey&&e.push(this.columnModel[parseInt(t.toString(),10)].field);return e},i.prototype.refresh=function(){this.isDestroyed||(this.isManualRefresh=!0,this.headerModule.refreshUI(),this.updateStackedFilter(),this.renderModule.refresh())},i.prototype.refreshHeader=function(){this.headerModule.refreshUI()},i.prototype.getSelectedRows=function(){return this.selectionModule?this.selectionModule.selectedRecords:[]},i.prototype.getSelectedRowIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowIndexes:[]},i.prototype.getSelectedRowCellIndexes=function(){return this.selectionModule?this.selectionModule.selectedRowCellIndexes:[]},i.prototype.getSelectedRecords=function(){return this.selectionModule?this.selectionModule.getSelectedRecords():[]},i.prototype.getSelectedColumnsUid=function(){var e=this,t=[];return this.selectionModule&&this.selectionModule.selectedColumnsIndexes.filter(function(i){return t.push(e.getColumns()[parseInt(i.toString(),10)].uid)}),t},i.prototype.getDataModule=function(){return this.renderModule.data},i.prototype.showColumns=function(e,t){t=t||"headerText",this.showHider.show(e,t)},i.prototype.hideColumns=function(e,t){t=t||"headerText",this.showHider.hide(e,t)},i.prototype.getFrozenColumns=function(){return this.frozenColumns+this.getFrozenCount(this.columns,0,0)},i.prototype.getFrozenRightColumnsCount=function(){return this.frozenRightCount||this.rightcount},i.prototype.getFrozenLeftColumnsCount=function(){return this.frozenLeftCount||this.leftcount},i.prototype.getMovableColumnsCount=function(){return this.movableCount||this.movablecount},i.prototype.updateFrozenColumnsWidth=function(){if(this.isFrozenGrid()&&!this.enableColumnVirtualization)for(var e=this.getColumns(),t=!0,i=0,n=0,r=0,o=e.some(function(e){return("Left"===e.freeze||"Right"===e.freeze||"Fixed"===e.freeze||e.isFrozen)&&"auto"===e.width}),s=this,a=0;a<e.length;a++)!function(a){var l=e[parseInt(a.toString(),10)];if((0,y.le)(l.width)&&("Left"===l.freeze||"Right"===l.freeze||"Fixed"===l.freeze||l.isFrozen)&&(l.width=Math.max(200,l.minWidth?parseFloat(l.minWidth.toString()):0),!(0,y.le)(l.maxWidth)&&parseFloat(l.maxWidth.toString())<l.width&&(l.width=l.maxWidth)),"auto"===l.width&&o){var h=0;if(t){e.filter(function(e){if(e.visible&&("auto"===e.width&&i++,"auto"!==e.width)){var t=(0,y.le)(e.width)?Math.max(200,e.minWidth?parseFloat(e.minWidth.toString()):0):parseFloat(e.width.toString());h+=t}});var c=s.isPercentageWidthGrid()||"auto"===s.width?s.element.getBoundingClientRect().width:parseFloat(s.width.toString());(n="auto"===s.height?c-h:c-h-(0,U.Iz)())<0&&(n=0),r=parseFloat((n/i).toString()),e.filter(function(e){e.visible&&e.minWidth&&parseFloat(e.minWidth.toString())>r&&(n-=parseFloat(e.minWidth.toString()),i--)}),t=!1}l.minWidth&&parseFloat(l.minWidth.toString())>r?l.width=parseFloat(l.minWidth.toString()):l.width=n/i}}(a)},i.prototype.refreshSplitFrozenColumn=function(){this.splitFrozenCount(this.columns),this.updateFrozenColumnsWidth(),this.isAutoGenerateColumns=!0},i.prototype.setFrozenCount=function(){this.frozenLeftCount=this.frozenRightCount=this.movableCount=0,this.visibleFrozenLeft=this.visibleFrozenRight=this.visibleMovable=0,this.frozenLeftColumns=[],this.frozenRightColumns=[],this.movableColumns=[],this.fixedColumns=[],this.splitFrozenCount(this.columns),this.leftcount=this.frozenLeftCount,this.rightcount=this.frozenRightCount,this.movablecount=this.movableCount,this.frozenLeftCount&&!this.frozenRightCount?this.frozenName="Left":this.frozenRightCount&&!this.frozenLeftCount?this.frozenName="Right":this.frozenLeftCount&&this.frozenRightCount?this.frozenName="Left-Right":this.frozenColumns||this.frozenRows?this.frozenName="Left":this.frozenName=void 0},i.prototype.getVisibleFrozenLeftCount=function(){return this.visibleFrozenLeft},i.prototype.getVisibleFrozenRightCount=function(){return this.visibleFrozenRight},i.prototype.getVisibleMovableCount=function(){return this.visibleMovable},i.prototype.getFrozenRightColumns=function(){return this.frozenRightColumns},i.prototype.getFrozenLeftColumns=function(){return this.frozenLeftColumns},i.prototype.getMovableColumns=function(){return this.movableColumns},i.prototype.splitStackedColumns=function(e){for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].columns?this.splitStackedColumns(e[parseInt(t.toString(),10)].columns):"Left"===e[parseInt(t.toString(),10)].freeze||e[parseInt(t.toString(),10)].isFrozen?(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleFrozenLeft++,this.leftcount++):"Right"===e[parseInt(t.toString(),10)].freeze?(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleFrozenRight++,this.rightcount++):"Fixed"===e[parseInt(t.toString(),10)].freeze?(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleFrozenFixed++,this.fixedcount++):(!1!==e[parseInt(t.toString(),10)].visible&&this.visibleMovable++,this.movablecount++)},i.prototype.pushStackedColumns=function(e,t,i,n,r){i[parseInt(t.toString(),10)]={headerText:n.headerText},n.textAlign&&(i[parseInt(t.toString(),10)].textAlign=n.textAlign),n.customAttributes&&(i[parseInt(t.toString(),10)].customAttributes=n.customAttributes);for(var o=0;o<e.length;o++)if(e[parseInt(o.toString(),10)].columns)t+=1,this.pushStackedColumns(e[parseInt(o.toString(),10)].columns,t,i,e[parseInt(o.toString(),10)],r),t-=1;else{var s=[];s=i.slice().slice(0,t+1),"Left"===e[parseInt(o.toString(),10)].freeze||e[parseInt(o.toString(),10)].isFrozen?(this.stackedLeft.push(s),this.stackedarrayLeft.push(e[parseInt(o.toString(),10)])):"Right"===e[parseInt(o.toString(),10)].freeze?(this.stackedRight.push(s),this.stackedarrayRight.push(e[parseInt(o.toString(),10)])):"Fixed"===e[parseInt(o.toString(),10)].freeze?(this.stackedFixed.push(s),this.stackedarrayFixed.push(e[parseInt(o.toString(),10)])):(this.stackedMovable.push(s),this.stackedarrayMovable.push(e[parseInt(o.toString(),10)]))}},i.prototype.pushallcol=function(e,t,i,n,r){if(i.headerText===t.headerText){if(r)i.columns.push(n);else{var o={headerText:e.headerText,columns:[]};e.textAlign&&(o.textAlign=e.textAlign),e.customAttributes&&(o.customAttributes=e.customAttributes),i.columns.push(o)}}else if(i.columns&&i.columns.length)for(var s=0;s<i.columns.length;s++)this.pushallcol(e,t,i.columns[parseInt(s.toString(),10)],n,r)},i.prototype.resetStackedColumns=function(e,t,i){for(var n={},r=[],o=1;o<=e.length;o++)for(var s=e[o-1],a=0;a<s.length;a++)if(n.columns||1!==o?-1===r.indexOf(s[parseInt(a.toString(),10)])&&(this.pushallcol(s[parseInt(a.toString(),10)],s[a-1],n),r.push(s[parseInt(a.toString(),10)])):(n={headerText:s[parseInt(a.toString(),10)].headerText,textAlign:s[parseInt(a.toString(),10)].textAlign,customAttributes:s[parseInt(a.toString(),10)].customAttributes,columns:[]},r.push(s[parseInt(a.toString(),10)])),a===s.length-1){this.pushallcol(null,s[parseInt(a.toString(),10)],n,t[o-1],!0);for(var l=0;l!==e.length-1&&o!==e.length;)s.map(function(e){return e.headerText}).join(", ")===e[parseInt(o.toString(),10)].map(function(e){return e.headerText}).join(", ")&&(o++,this.pushallcol(null,s[parseInt(a.toString(),10)],n,t[o-1],!0)),l++}"Left"===i?this.frozenLeftColumns.push(n):"Right"===i?this.frozenRightColumns.push(n):this.movableColumns.push(n)},i.prototype.splitFrozenCount=function(e){if(this.frozenColumns||this.changedProperties&&0===this.changedProperties.frozenColumns){var t=!this.enableColumnVirtualization||this.enableColumnVirtualization&&this.isPreparedFrozenColumns?this.enableColumnVirtualization&&this.columnModel&&this.columnModel.length?this.columnModel:this.getColumns():this.columns;if(!this.changedProperties||this.changedProperties&&!this.changedProperties.frozenColumns)for(var i=0;i<t.length;i++)this.frozenColumns>i?t[parseInt(i.toString(),10)].freeze="Left":"Right"===t[parseInt(i.toString(),10)].freeze||"Fixed"===t[parseInt(i.toString(),10)].freeze?t[parseInt(i.toString(),10)].freeze=t[parseInt(i.toString(),10)].freeze:t[parseInt(i.toString(),10)].freeze=void 0}for(var i=0;i<((0,y.le)(e)?0:e.length);i++)if(e[parseInt(i.toString(),10)].columns){this.leftcount=0,this.rightcount=0,this.movablecount=0,this.fixedcount=0;var n=[];this.splitStackedColumns(e[parseInt(i.toString(),10)].columns),!this.leftcount||this.rightcount||this.movablecount||this.fixedcount?!this.rightcount||this.leftcount||this.movablecount||this.fixedcount?!this.movablecount||this.leftcount||this.rightcount||this.fixedcount?!this.fixedcount||this.leftcount||this.rightcount||this.movablecount?(this.frozenLeftCount+=this.leftcount,this.frozenRightCount+=this.rightcount,this.movableCount+=this.movablecount,this.fixedCount+=this.fixedcount,this.leftcount=0,this.rightcount=0,this.movablecount=0,this.fixedcount=0,this.stackedLeft=[],this.stackedRight=[],this.stackedFixed=[],this.stackedMovable=[],this.stackedarrayLeft=[],this.stackedarrayRight=[],this.stackedarrayFixed=[],this.stackedarrayMovable=[],this.pushStackedColumns(e[parseInt(i.toString(),10)].columns,0,n,e[parseInt(i.toString(),10)],{headerText:e[parseInt(i.toString(),10)].headerText,textAlign:e[parseInt(i.toString(),10)].textAlign,customAttributes:e[parseInt(i.toString(),10)].customAttributes,columns:[]}),this.stackedarrayLeft.length&&this.resetStackedColumns(this.stackedLeft,this.stackedarrayLeft,"Left"),this.stackedarrayRight.length&&this.resetStackedColumns(this.stackedRight,this.stackedarrayRight,"Right"),this.stackedarrayFixed.length&&this.resetStackedColumns(this.stackedFixed,this.stackedarrayFixed,"Fixed"),this.stackedarrayMovable.length&&this.resetStackedColumns(this.stackedMovable,this.stackedarrayMovable,"Movable"),this.stackedLeft=[],this.stackedRight=[],this.stackedMovable=[],this.stackedFixed=[],this.stackedarrayLeft=[],this.stackedarrayRight=[],this.stackedarrayMovable=[],this.stackedarrayFixed=[]):(this.fixedCount+=this.fixedcount,this.fixedColumns.push(e[parseInt(i.toString(),10)]),this.movableCount+=this.movablecount,this.movableColumns.push(e[parseInt(i.toString(),10)])):(this.movableCount+=this.movablecount,this.movableColumns.push(e[parseInt(i.toString(),10)])):(this.frozenRightCount+=this.rightcount,this.frozenRightColumns.push(e[parseInt(i.toString(),10)])):(this.frozenLeftCount+=this.leftcount,this.frozenLeftColumns.push(e[parseInt(i.toString(),10)]))}else"Right"===e[parseInt(i.toString(),10)].freeze?(!1!==e[parseInt(i.toString(),10)].visible&&this.visibleFrozenRight++,this.frozenRightColumns.push(e[parseInt(i.toString(),10)]),this.frozenRightCount++):"Left"===e[parseInt(i.toString(),10)].freeze||e[parseInt(i.toString(),10)].isFrozen?(!1!==e[parseInt(i.toString(),10)].visible&&this.visibleFrozenLeft++,this.frozenLeftColumns.push(e[parseInt(i.toString(),10)]),this.frozenLeftCount++):("Fixed"===e[parseInt(i.toString(),10)].freeze?(this.fixedColumns.push(e[parseInt(i.toString(),10)]),this.fixedCount++):!1!==e[parseInt(i.toString(),10)].visible&&this.visibleMovable++,this.movableColumns.push(e[parseInt(i.toString(),10)]),this.movableCount++);if(this.frozenLeftColumns.length){var t=this.frozenLeftColumns[this.frozenLeftColumns.length-1];this.removeBorder(this.frozenLeftColumns),this.frozenLeftBorderColumns(t instanceof e4.sg?this.lastVisibleLeftCol(this.frozenLeftColumns):t)}if(this.frozenRightColumns.length){var t=this.frozenRightColumns[0];this.removeBorder(this.frozenRightColumns),this.frozenRightBorderColumns(t instanceof e4.sg?this.firstVisibleRightCol(this.frozenRightColumns):t)}if((this.frozenLeftColumns.length||this.frozenRightColumns.length)&&this.freezeColumnRefresh){var t=this.frozenLeftColumns.concat(this.movableColumns).concat(this.frozenRightColumns);this.setProperties({columns:t},!0),this.freezeColumnRefresh=!1}},i.prototype.removeBorder=function(e){for(var t=0;t<e.length;t++)e[parseInt(t.toString(),10)].columns&&e[parseInt(t.toString(),10)].columns.length?(("Right"===e[parseInt(t.toString(),10)].border||"Left"===e[parseInt(t.toString(),10)].border)&&(e[parseInt(t.toString(),10)].border=void 0),this.removeBorder(e[parseInt(t.toString(),10)].columns)):("Right"===e[parseInt(t.toString(),10)].border||"Left"===e[parseInt(t.toString(),10)].border)&&(e[parseInt(t.toString(),10)].border=void 0)},i.prototype.isVisibleColumns=function(e,t){if(e.columns&&e.columns.length)for(var i=0;i<e.columns.length;i++)this.isVisibleColumns(e.columns[parseInt(i.toString(),10)],t),e.columns[parseInt(i.toString(),10)].visible&&(0,y.le)(e.columns[parseInt(i.toString(),10)].columns)&&(!(0,y.le)(e.columns[parseInt(i.toString(),10)].freeze)||e.columns[parseInt(i.toString(),10)].isFrozen)&&t.push("true");else e.visible&&(!(0,y.le)(e.freeze)||e.isFrozen)&&t.push("true")},i.prototype.lastVisibleLeftCol=function(e){for(var t,i=e.length-1;i>=0;i--){var n=[];if(this.isVisibleColumns(e[parseInt(i.toString(),10)],n),e[parseInt(i.toString(),10)].visible&&-1!==n.indexOf("true")){t=e[parseInt(i.toString(),10)];break}}return t},i.prototype.firstVisibleRightCol=function(e){for(var t,i=0;i<e.length;i++){var n=[];if(this.isVisibleColumns(e[parseInt(i.toString(),10)],n),e[parseInt(i.toString(),10)].visible&&-1!==n.indexOf("true")){t=e[parseInt(i.toString(),10)];break}}return t},i.prototype.frozenLeftBorderColumns=function(e){if(!(0,y.le)(e)){if(e.columns&&e.columns.length){e.border="Left";var t=e.columns[e.columns.length-1];this.frozenLeftBorderColumns(t instanceof e4.sg&&t.columns?this.lastVisibleLeftCol(e.columns):t)}else e.border="Left"}},i.prototype.frozenRightBorderColumns=function(e){if(!(0,y.le)(e)){if(e.columns&&e.columns.length){e.border="Right";var t=e.columns[0];this.frozenRightBorderColumns(t instanceof e4.sg&&t.columns?this.firstVisibleRightCol(e.columns):t)}else e.border="Right"}},i.prototype.getVisibleFrozenColumns=function(){return this.getVisibleFrozenColumnsCount()+this.getVisibleFrozenCount(this.columns,0)},i.prototype.getFilterUIInfo=function(){return this.filterModule?this.filterModule.getFilterUIInfo():{}},i.prototype.getVisibleFrozenColumnsCount=function(){for(var e=0,t=this.columnModel,i=0;i<this.frozenColumns;i++)t[parseInt(i.toString(),10)].visible&&e++;if(this.frozenLeftCount||this.leftcount||this.frozenRightCount||this.rightcount)for(var i=0;i<t.length;i++)t[parseInt(i.toString(),10)].visible&&("Left"===t[parseInt(i.toString(),10)].freeze||"Right"===t[parseInt(i.toString(),10)].freeze)&&e++;return e},i.prototype.getVisibleFrozenCount=function(e,t){if(!this.frozenLeftCount&&!this.leftcount&&(!this.frozenRightCount||!this.rightcount))for(var i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].columns?t=this.getVisibleFrozenCount(e[parseInt(i.toString(),10)].columns,t):e[parseInt(i.toString(),10)].isFrozen&&e[parseInt(i.toString(),10)].visible&&t++;return t},i.prototype.getFrozenCount=function(e,t,i){for(var n=0,r=(0,y.le)(e)?0:e.length;n<r;n++)e[parseInt(n.toString(),10)].columns?t=this.getFrozenCount(e[parseInt(n.toString(),10)].columns,t,i):(e[parseInt(n.toString(),10)].isFrozen&&i>this.frozenColumns-1&&t++,i++);return t},i.prototype.goToPage=function(e){this.pagerModule&&this.pagerModule.goToPage(e)},i.prototype.updateExternalMessage=function(e){this.pagerModule&&!this.pagerTemplate&&this.pagerModule.updateExternalMessage(e)},i.prototype.sortColumn=function(e,t,i){this.sortModule&&this.sortModule.sortColumn(e,t,i)},i.prototype.changeDataSource=function(e,t){this.isChangeDataSourceCall=!0,this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping&&this.setProperties({groupSettings:{columns:[]}},!0),t&&t.length&&this.setProperties({columns:t},!0),e&&((0,y.le)(t)&&this.setProperties({columns:[]},!0),this.setProperties({dataSource:e},!0)),this.freezeRefresh(),this.isChangeDataSourceCall=!1},i.prototype.clearSorting=function(){this.sortModule&&this.sortModule.clearSorting()},i.prototype.removeSortColumn=function(e){this.sortModule&&this.sortModule.removeSortColumn(e)},i.prototype.clearGridActions=function(){this.setProperties({sortSettings:{columns:[]}},!0),this.setProperties({filterSettings:{columns:[]}},!0),this.setProperties({searchSettings:{key:""}},!0),this.allowGrouping?this.setProperties({groupSettings:{columns:[]}},!1):this.freezeRefresh()},i.prototype.filterByColumn=function(e,t,i,n,r,o,s,a){this.filterModule&&this.filterModule.filterByColumn(e,t,i,n,r,o,s,a)},i.prototype.clearFiltering=function(e){this.filterModule&&this.filterModule.clearFiltering(e)},i.prototype.removeFilteredColsByField=function(e,t){this.filterModule&&this.filterModule.removeFilteredColsByField(e,t)},i.prototype.selectRow=function(e,t){this.selectionModule&&this.selectionModule.selectRow(e,t)},i.prototype.selectRows=function(e){this.selectionModule&&this.selectionModule.selectRows(e)},i.prototype.clearSelection=function(){this.selectionModule&&this.selectionModule.clearSelection()},i.prototype.selectCell=function(e,t){this.selectionModule&&this.selectionModule.selectCell(e,t)},i.prototype.selectCellsByRange=function(e,t){this.selectionModule.selectCellsByRange(e,t)},i.prototype.search=function(e){this.searchModule&&this.searchModule.search(e)},i.prototype.print=function(){this.printModule&&this.printModule.print()},i.prototype.deleteRecord=function(e,t){this.editModule&&this.editModule.deleteRecord(e,t)},i.prototype.startEdit=function(){this.editModule&&this.editModule.startEdit()},i.prototype.endEdit=function(){this.editModule&&this.editModule.endEdit()},i.prototype.closeEdit=function(){this.editModule&&this.editModule.closeEdit()},i.prototype.addRecord=function(e,t){this.editModule&&this.editModule.addRecord(e,t)},i.prototype.deleteRow=function(e){this.editModule&&this.editModule.deleteRow(e)},i.prototype.editCell=function(e,t){this.editModule&&this.editModule.editCell(e,t)},i.prototype.saveCell=function(){this.editModule&&this.editModule.saveCell()},i.prototype.updateCell=function(e,t,i){this.editModule&&this.editModule.updateCell(e,t,i)},i.prototype.updateRow=function(e,t){this.editModule&&this.editModule.updateRow(e,t)},i.prototype.getBatchChanges=function(){return this.editModule?this.editModule.getBatchChanges():{}},i.prototype.enableToolbarItems=function(e,t){this.toolbarModule&&this.toolbarModule.enableItems(e,t)},i.prototype.copy=function(e){this.clipboardModule&&this.clipboardModule.copy(e)},i.prototype.recalcIndentWidth=function(){var e=this;if(!(!this.getHeaderTable().querySelector(".e-emptycell")||!this.groupSettings.columns.length&&!this.isDetail()&&!this.isRowDragable()||this.getHeaderTable().querySelector(".e-emptycell.e-indentRefreshed")||!this.getContentTable())){var t=this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth,i=[].slice.call(this.getHeaderTable().querySelector(te.Iz).childNodes),n=[].slice.call(this.getContentTable().querySelector(te.Iz).childNodes),r=t/30,o="Right"===this.getFrozenMode()?this.groupSettings.columns.length+this.getColumns().length:0,s=this.element.offsetWidth,a=function(t,r){if((0,U.QE)(e)){var o=(r/s*100).toFixed(1)+"%";i[parseInt(t.toString(),10)].style.width=o,n[parseInt(t.toString(),10)].style.width=o}else i[parseInt(t.toString(),10)].style.width=r+"px",n[parseInt(t.toString(),10)].style.width=r+"px";e.notify(Z.SFv,{index:t,width:r})};for(r>=1&&(t=30/r),t<1&&(t=1),(this.enableColumnVirtualization||this.isAutoGen||this.columns.length===this.groupSettings.columns.length)&&(t=30);o<this.groupSettings.columns.length;)a(o,t),o++;this.isDetail()&&(a(o,t),o++),this.isRowDragable()&&a(o,t),this.isAutoGen=!1,this.getHeaderTable().querySelector(".e-emptycell").classList.add("e-indentRefreshed")}},i.prototype.resetIndentWidth=function(){if(!this.isDestroyed){if((0,U.QE)(this)&&(this.getHeaderTable().querySelector(".e-emptycell").classList.remove("e-indentRefreshed"),this.widthService.setWidthToColumns(),this.recalcIndentWidth(),this.autoFit&&this.preventAdjustColumns()),("auto"===this.width||"string"==typeof this.width&&-1!==this.width.indexOf("%"))&&this.getColumns().filter(function(e){return(!e.width||"auto"===e.width)&&e.minWidth}).length>0){var e=this.widthService.getTableWidth(this.getColumns(),!0);this.widthService.setMinwidthBycalculation(e)}this.isFrozenGrid()&&this.enableColumnVirtualization&&this.widthService&&this.widthService.refreshFrozenScrollbar(),this.allowTextWrap&&"Content"!==this.textWrapSettings.wrapMode&&this.notify(Z.Yp2,{}),this.frozenRows&&this.scrollModule&&this.scrollModule.resizeFrozenRowBorder(),this.enableStickyHeader&&this.scrollModule.makeStickyHeader(),this.enableAutoFill&&"Multiple"===this.selectionSettings.type&&"Cell"===this.selectionSettings.mode&&this.selectionModule.selectedRowCellIndexes.length&&(this.selectionModule.updateAutoFillPosition(),this.selectionModule.drawBorders())}},i.prototype.isRowDragable=function(){return this.allowRowDragAndDrop&&!this.rowDropSettings.targetID},i.prototype.reorderColumns=function(e,t){this.reorderModule&&this.reorderModule.reorderColumns(e,t)},i.prototype.reorderColumnByIndex=function(e,t){this.reorderModule&&this.reorderModule.reorderColumnByIndex(e,t)},i.prototype.reorderColumnByTargetIndex=function(e,t){this.reorderModule&&this.reorderModule.reorderColumnByTargetIndex(e,t)},i.prototype.reorderRows=function(e,t){this.rowDragAndDropModule&&this.rowDragAndDropModule.reorderRows(e,t)},i.prototype.refreshDataSource=function(e){this.notify("refreshdataSource",e)},i.prototype.disableRowDD=function(e){var t=this.getHeaderTable(),i=this.getContentTable(),n=t.querySelectorAll("th.e-rowdragheader, th.e-mastercell"),r=this.getRows(),o=e?"none":"";(0,y.V7)(t.querySelector(te.Iz).childNodes[0],{display:o}),(0,y.V7)(i.querySelector(te.Iz).childNodes[0],{display:o});for(var s=0;s<this.getRows().length;s++){var a=r[parseInt(s.toString(),10)].firstElementChild;e?(0,y.cn)([a],"e-hide"):(0,y.IV)([a],["e-hide"])}for(var l=0;l<t.querySelectorAll("th.e-rowdragheader, th.e-mastercell").length;l++){var a=n[parseInt(l.toString(),10)];e?(0,y.cn)([a],"e-hide"):(0,y.IV)([a],["e-hide"])}},i.prototype.autoFitColumns=function(e,t,i){var n=this.getInjectedModules().find(function(e){return"function"!=typeof e||(0,y.le)(e.prototype)?"Resize"===e.name:"resize"===e.prototype.getModuleName()});!this.resizeModule&&n&&(this.autoFitColumnsResize=!0,this.injectModules()),this.resizeModule&&this.resizeModule.autoFitColumns(e,t,i)},i.prototype.preventAdjustColumns=function(){if((!this.enableAdaptiveUI||"Vertical"!==this.rowRenderingMode)&&(!this.allowResizing||"Auto"!==this.resizeSettings.mode)){for(var e=this.getColumns(),t=this.getHeaderTable(),i=0,n=0;n<e.length;n++)if(e[parseInt(n.toString(),10)].visible){if(this.groupSettings.columns.length&&this.groupSettings.columns.indexOf(e[parseInt(n.toString(),10)].field)>-1&&"none"===[].slice.call(t.querySelector("colgroup").querySelectorAll(":not(.e-group-intent):not(.e-detail-intent):not(.e-drag-intent)"))[parseInt(n.toString(),10)].style.display)continue;if(e[parseInt(n.toString(),10)].width)i+=parseFloat(e[parseInt(n.toString(),10)].width.toString());else{i=0;break}}if(i){var r=this.isPercentageWidthGrid(),o=this.widthUnit(r),s=this.getContentTable();if(this.groupSettings.columns.length||this.isDetail()||this.isRowDragable())for(var a=this.defaultIndentWidth(r),l=a.toString()+o,h=[].slice.call(t.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent")),c=[].slice.call(s.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent")),n=0;n<h.length;n++)h[parseInt(n.toString(),10)].style.setProperty("width",l),c[parseInt(n.toString(),10)].style.setProperty("width",l),i+=a;(r&&i<100||!r&&i<s.parentElement.clientWidth)&&((0,y.le)(s.querySelector(".e-emptyrow"))?(0,y.cn)([t,s],["e-tableborder"]):((0,y.cn)([t],["e-tableborder"]),(0,y.IV)([s],["e-tableborder"])));var p=i.toString()+o;t.style.setProperty("width",p),s.style.setProperty("width",p)}else this.restoreAdjustColumns()}},i.prototype.restoreAdjustColumns=function(){if((!this.enableAdaptiveUI||"Vertical"!==this.rowRenderingMode)&&(!this.allowResizing||"Auto"!==this.resizeSettings.mode)){var e=this.getHeaderTable(),t=this.getContentTable();if((0,y.IV)([e,t],["e-tableborder"]),e.style.removeProperty("width"),t.style.removeProperty("width"),this.groupSettings.columns.length||this.isDetail()||this.isRowDragable()){var i=this.isPercentageWidthGrid(),n=this.defaultIndentWidth(i).toString()+this.widthUnit(i);[].slice.call(e.querySelector("colgroup").querySelectorAll(".e-group-intent, .e-detail-intent, .e-drag-intent")).forEach(function(e){e.style.setProperty("width",n)}),e.querySelector(".e-emptycell").classList.remove("e-indentRefreshed"),this.recalcIndentWidth()}}},i.prototype.widthUnit=function(e){return e?"%":"px"},i.prototype.defaultIndentWidth=function(e){return e?parseFloat((30/this.element.offsetWidth*100).toFixed(1)):30},i.prototype.isPercentageWidthGrid=function(){var e=this.getColumns().find(function(e){return!(0,y.le)(e.width)});return!!e&&e.width.toString().indexOf("%")>-1},i.prototype.createColumnchooser=function(e,t,i){this.columnChooserModule&&this.columnChooserModule.renderColumnChooser(e,t,i)},i.prototype.initializeServices=function(){this.serviceLocator.register("widthService",this.widthService=new tV(this)),this.serviceLocator.register("cellRendererFactory",new tO),this.serviceLocator.register("rendererFactory",new tN),this.serviceLocator.register("localization",this.localeObj=new y.E7(this.getModuleName(),this.defaultLocale,this.locale)),this.serviceLocator.register("valueFormatter",this.valueFormatterService=new Q.K(this.locale)),this.serviceLocator.register("showHideService",this.showHider=new t1(this)),this.serviceLocator.register("ariaService",this.ariaService=new td),this.serviceLocator.register("focus",this.focusModule=new t_(this))},i.prototype.processModel=function(){var e,t,i=this.groupSettings.columns,n=this.sortSettings.columns;if(this.allowGrouping)for(var r=function(r,s){e=!1,t=0;for(var a=n.length;t<a;t++)if(n[parseInt(t.toString(),10)].field===i[parseInt(r.toString(),10)]){e=!0;break}if(e?o.allowSorting?o.sortedColumns.push(n[parseInt(t.toString(),10)].field):n[parseInt(t.toString(),10)].direction="Ascending":n.push({field:i[parseInt(r.toString(),10)],direction:"Ascending",isFromGroup:!0}),!o.groupSettings.showGroupedColumn){var l=o.enableColumnVirtualization?o.columns.filter(function(e){return e.field===i[parseInt(r.toString(),10)]})[0]:o.getColumnByField(i[parseInt(r.toString(),10)]);l?l.visible=!1:o.log("initial_action",{moduleName:"group",columnName:i[parseInt(r.toString(),10)]})}},o=this,s=0,a=i.length;s<a;s++)r(s,a);if(!i.length)for(var s=0;s<n.length;s++)this.sortedColumns.push(n[parseInt(s.toString(),10)].field);if(this.rowTemplateFn=(0,U.cK)(this.rowTemplate),this.emptyRecordTemplateFn=(0,U.cK)(this.emptyRecordTemplate),this.detailTemplateFn=(0,U.cK)(this.detailTemplate),this.editTemplateFn=(0,U.cK)(this.editSettings.template),this.editHeaderTemplateFn=(0,U.cK)(this.editSettings.headerTemplate),this.editFooterTemplateFn=(0,U.cK)(this.editSettings.footerTemplate),this.columnChooserTemplateFn=(0,U.cK)(this.columnChooserSettings.template),this.columnChooserHeaderTemplateFn=(0,U.cK)(this.columnChooserSettings.headerTemplate),this.columnChooserFooterTemplateFn=(0,U.cK)(this.columnChooserSettings.footerTemplate),!(0,y.le)(this.parentDetails)){var l=(0,y.le)(this.parentDetails.parentKeyFieldValue)?"undefined":this.parentDetails.parentKeyFieldValue;this.query.where(this.queryString,"equal",l,!0)}this.initForeignColumn()},i.prototype.initForeignColumn=function(){this.isForeignKeyEnabled(this.getColumns())&&this.notify(Z.Unn,this.getForeignKeyColumns())},i.prototype.enableVerticalRendering=function(){"Vertical"===this.rowRenderingMode?this.element.classList.add("e-row-responsive"):this.element.classList.remove("e-row-responsive")},i.prototype.gridRender=function(){this.updateRTL(),"Vertical"===this.rowRenderingMode&&this.element.classList.add("e-row-responsive"),this.enableHover&&this.element.classList.add("e-gridhover"),(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||y.AR.isSafari())&&this.element.classList.add("e-mac-safari"),y.AR.isDevice&&(this.element.classList.add("e-device"),"Desktop"===this.adaptiveUIMode&&(this.enableAdaptiveUI=!1)),"Mobile"!==this.adaptiveUIMode||y.AR.isDevice||"Vertical"===this.rowRenderingMode||(this.enableAdaptiveUI=!1),this.rowHeight&&this.element.classList.add("e-grid-min-height"),this.cssClass&&(-1!==this.cssClass.indexOf(" ")?(e=this.element.classList).add.apply(e,this.cssClass.split(" ")):this.element.classList.add(this.cssClass)),this.allowRowDragAndDrop&&this.rowDropSettings.targetID&&"mozilla"===y.AR.info.name&&this.element.classList.add("e-disableuserselect"),this.editSettings.showAddNewRow&&(this.enableVirtualization||this.enableInfiniteScrolling)&&(this.editSettings.newRowPosition="Top"),(0,y.s1)(this.element,["e-responsive","e-default"],[]);var e,t=this.serviceLocator.getService("rendererFactory");this.headerModule=t.getRenderer(r.Header),this.contentModule=t.getRenderer(r.Content),this.printModule=new t9.K(this,this.scrollModule),this.clipboardModule=new t8(this,this.serviceLocator),this.renderModule.render(),this.eventInitializer(),this.createGridPopUpElement(),this.widthService.setWidthToColumns(),this.updateGridLines(),this.applyTextWrap(),this.createTooltip(),this.enableBoxSelection()},i.prototype.dataReady=function(){this.scrollModule.setWidth(),this.scrollModule.setHeight(),"auto"!==this.height&&this.scrollModule.setPadding()},i.prototype.updateRTL=function(){this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},i.prototype.createGridPopUpElement=function(){var e=this.createElement("div",{className:"e-gridpopup"});e.style.display="none";var t=this.createElement("div",{className:te.kQ,attrs:{tabIndex:"-1"}});(0,y.R3)([t,this.createElement("div",{className:"e-uptail e-tail"})],e),t.appendChild(this.createElement("span")),(0,y.R3)([t,this.createElement("div",{className:"e-downtail e-tail"})],e),this.element.appendChild(e)},i.prototype.updateGridLines=function(){switch((0,y.s1)(this.element,[],["e-verticallines","e-horizontallines","e-hidelines","e-bothlines"]),this.gridLines){case"Horizontal":this.element.classList.add("e-horizontallines");break;case"Vertical":this.element.classList.add("e-verticallines");break;case"None":this.element.classList.add("e-hidelines");break;case"Both":this.element.classList.add("e-bothlines")}this.updateResizeLines()},i.prototype.updateResizeLines=function(){this.allowResizing&&!("Vertical"===this.gridLines||"Both"===this.gridLines)?this.element.classList.add("e-resize-lines"):this.element.classList.remove("e-resize-lines")},i.prototype.applyTextWrap=function(){if(this.allowTextWrap){var e=[].slice.call(this.element.getElementsByClassName("e-columnheader"));switch(this.textWrapSettings.wrapMode){case"Header":(0,U.re)(this.element,!1),(0,U.re)(this.getContent(),!1),(0,U.re)(e,!0);break;case"Content":(0,U.re)(this.getContent(),!0),(0,U.re)(this.element,!1),(0,U.re)(e,!1);break;default:(0,U.re)(this.element,!0),(0,U.re)(this.getContent(),!1),(0,U.re)(e,!1)}"Content"!==this.textWrapSettings.wrapMode&&this.notify(Z.Yp2,{})}},i.prototype.removeTextWrap=function(){(0,U.re)(this.element,!1);var e=[].slice.call(this.element.getElementsByClassName("e-columnheader"));(0,U.re)(e,!1),(0,U.re)(this.getContent(),!1),"Content"!==this.textWrapSettings.wrapMode&&this.notify(Z.Yp2,{})},i.prototype.createTooltip=function(){this.toolTipObj=new K({opensOn:"custom",content:"",cssClass:this.cssClass?this.cssClass:null},this.element)},i.prototype.freezeRefresh=function(){(this.enableVirtualization||this.enableInfiniteScrolling)&&(this.pageSettings.currentPage=1),this.componentRefresh()},i.prototype.getTooltipStatus=function(e){var t=this.getHeaderTable(),i=this.enableAdaptiveUI&&"Vertical"===this.rowRenderingMode?"e-gridcontent":"e-gridheader",n=this.createTable(t,i,"header"),r=this.createTable(t,i,"content"),o=e.classList.contains("e-headercell")?n:r,s=e.classList.contains("e-headercell")?"th":"tr";o.querySelector(s).className=e.className;var a=o.querySelector(s);a.innerHTML="",Array.from(e.childNodes).forEach(function(e){a.appendChild(e.cloneNode(!0))});var l=o.querySelector(s).getBoundingClientRect().width;return document.body.removeChild(n),document.body.removeChild(r),l>e.getBoundingClientRect().width&&!e.classList.contains("e-editedbatchcell")||!!this.enableAdaptiveUI&&"Vertical"===this.rowRenderingMode&&l>.55*e.getBoundingClientRect().width-("auto"!==this.height?16:0)},i.prototype.mouseMoveHandler=function(e){if(this.isEllipsisTooltip()){var t=(0,U.Cf)(e.target,"e-ellipsistooltip");"mouseout"===e.type&&(this.prevElement!==t||t!==(0,U.Cf)(e.relatedTarget,"e-ellipsistooltip"))&&(this.toolTipObj.close(),this.prevElement=null);var i=e.target.tagName;if(t&&"mouseout"!==e.type&&!(y.AR.isDevice&&-1!==["A","BUTTON","INPUT"].indexOf(i))&&this.getTooltipStatus(t)){var n=this.getColumns()[parseInt(t.getAttribute(te.qc),10)-1],r=n&&n.disableHtmlEncode?"innerText":"innerHTML",o=this.createElement("div");if(t.getElementsByClassName("e-headertext").length){var s=t.getElementsByClassName("e-headertext")[0];o[""+r]=this.sanitize(s.innerText),this.toolTipObj.content=o}else o[""+r]=this.sanitize(t.innerText),this.toolTipObj.content=o;this.enableHtmlSanitizer&&(this.toolTipObj.enableHtmlSanitizer=!0),n&&n.disableHtmlEncode&&(this.toolTipObj.enableHtmlParse=!1),t!==this.prevElement&&this.toolTipObj.open(t),this.prevElement=t}}},i.prototype.isEllipsisTooltip=function(){var e=this.getColumns();if("EllipsisWithTooltip"===this.clipMode)return!0;for(var t=0;t<e.length;t++)if("EllipsisWithTooltip"===e[parseInt(t.toString(),10)].clipMode)return!0;return!1},i.prototype.scrollHandler=function(){this.isEllipsisTooltip()&&this.toolTipObj.close()},i.prototype.createTable=function(e,t,i){var n=this.createElement("div");n.className=this.element.className,n.style.cssText="display: inline-block;visibility:hidden;position:absolute";var r=this.createElement("div");r.className=t;var o=this.createElement("table");o.className=e.className,o.style.cssText="table-layout: auto;width: auto";var s=this.createElement("tr",{attrs:{role:"row"}}),a=this.createElement("header"===i?"th":"td");return s.appendChild(a),o.appendChild(s),r.appendChild(o),n.appendChild(r),document.body.appendChild(n),n},i.prototype.onKeyPressed=function(e){("tab"===e.action||"shiftTab"===e.action)&&this.toolTipObj.close()},i.prototype.wireEvents=function(){y.bi.add(this.element,"click",this.mouseClickHandler,this),y.bi.add(this.element,"touchend",this.mouseClickHandler,this),y.bi.add(this.element,"focusout",this.focusOutHandler,this),y.bi.add(this.element,"dblclick",this.dblClickHandler,this),y.bi.add(this.element,"keydown",this.keyPressHandler,this),y.bi.add(window,"resize",this.resetIndentWidth,this),this.allowKeyboard&&(this.element.tabIndex=-1===this.element.tabIndex?0:this.element.tabIndex),this.keyboardModule=new y.nv(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),y.bi.add(this.getContent().firstElementChild,"scroll",this.scrollHandler,this),y.bi.add(this.element,"mouseover",this.mouseMoveHandler,this),y.bi.add(this.element,"mouseout",this.mouseMoveHandler,this),y.bi.add(this.getContent(),"touchstart",this.tapEvent,this),y.bi.add(document.body,"keydown",this.keyDownHandler,this)},i.prototype.unwireEvents=function(){y.bi.remove(this.element,"click",this.mouseClickHandler),y.bi.remove(this.element,"touchend",this.mouseClickHandler),y.bi.remove(this.element,"focusout",this.focusOutHandler),y.bi.remove(this.element,"dblclick",this.dblClickHandler),y.bi.remove(this.getContent().firstElementChild,"scroll",this.scrollHandler),y.bi.remove(this.element,"mouseover",this.mouseMoveHandler),y.bi.remove(this.element,"mouseout",this.mouseMoveHandler),y.bi.remove(this.element,"keydown",this.keyPressHandler),y.bi.remove(this.getContent(),"touchstart",this.tapEvent),y.bi.remove(document.body,"keydown",this.keyDownHandler),y.bi.remove(window,"resize",this.resetIndentWidth)},i.prototype.addListener=function(){this.isDestroyed||(this.on(Z.mHp,this.dataReady,this),this.on(Z.GEE,this.recalcIndentWidth,this),this.on(Z.lxn,this.recalcIndentWidth,this),this.on(Z.r63,this.refreshFrozenPosition,this),this.on(Z.yzo,this.refreshSplitFrozenColumn,this),this.dataBoundFunction=this.refreshMediaCol.bind(this),this.addEventListener(Z.rud,this.dataBoundFunction),this.on(Z.$G9,this.onKeyPressed,this))},i.prototype.removeListener=function(){this.isDestroyed||(this.off(Z.mHp,this.dataReady),this.off(Z.GEE,this.recalcIndentWidth),this.off(Z.lxn,this.recalcIndentWidth),this.on(Z.r63,this.refreshFrozenPosition,this),this.on(Z.yzo,this.refreshSplitFrozenColumn,this),this.removeEventListener(Z.rud,this.dataBoundFunction),this.off(Z.$G9,this.onKeyPressed))},i.prototype.getCurrentViewRecords=function(){return(0,U.MU)(this)?(0,y.le)(this.currentViewData.records)?this.currentViewData:this.currentViewData.records:this.groupSettings.enableLazyLoading?this.currentViewData:this.allowGrouping&&this.groupSettings.columns.length&&this.currentViewData.length&&this.currentViewData.records?this.currentViewData.records:this.currentViewData},i.prototype.mouseClickHandler=function(e){if(!(this.isChildGrid(e)||(0,U.Cf)(e.target,"e-gridpopup")&&e.touches||this.element.getElementsByClassName("e-cloneproperties").length||this.checkEdit(e)||(!this.allowRowDragAndDrop&&((0,U.Cf)(e.target,te.ci)||"TD"===e.target.tagName)||(0,U.Cf)(e.target,"e-headercell")&&(0,U.Cf)(e.target,"e-headercell").querySelector(".e-checkselectall")||!(this.allowGrouping||this.allowReordering)&&(0,U.Cf)(e.target,"e-gridheader"))&&e.touches)){(0,U.Cf)(e.target,"e-gridheader")&&this.allowRowDragAndDrop&&!(0,U.Cf)(e.target,"e-filterbarcell")&&e.target&&-1===["A","BUTTON","INPUT"].indexOf(e.target.tagName)&&e.preventDefault();var t=this.getRowInfo(e.target);t.cancel=!1;var i=!1,n=(0,y.oq)(e.target,"tr");if(n&&n.getAttribute("data-uid")){var r=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!r&&r.isDataRow}i&&this.trigger(Z.fhX,t),this.notify(Z.V4S,e)}},i.prototype.checkEdit=function(e){var t=(0,U.Cf)(e.target,te.O7),i="Batch"!==this.editSettings.mode&&this.isEdit&&t&&(t.classList.contains(te.fX)||t.classList.contains(te.gY)&&!this.editSettings.showAddNewRow);return!(0,U.Cf)(e.target,"e-unboundcelldiv")&&(i||(0,U.Cf)(e.target,te.PO)&&(0,U.Cf)(e.target,te.PO).classList.contains("e-editedbatchcell"))},i.prototype.dblClickHandler=function(e){var t=(0,U.Cf)(e.target,"e-grid");if(!((0,y.le)(t)||t.id!==this.element.id||(0,y.oq)(e.target,".e-unboundcelldiv"))){var i=!1,n=(0,y.oq)(e.target,"tr");if(n&&n.getAttribute("data-uid")){var r=this.getRowObjectFromUID(n.getAttribute("data-uid"));i=!!r&&r.isDataRow}var o=this.getRowInfo(e.target);o.target=e.target,i&&this.trigger(Z.YVH,o),this.notify(Z.Cqv,e)}},i.prototype.focusOutHandler=function(e){if(!this.isChildGrid(e)){(0,U.Cf)(e.target,"e-grid")||(this.element.querySelector(".e-gridpopup").style.display="None");var t=this.element.querySelector(".e-cancel:not(.e-hide)");t&&!t.parentElement.classList.contains("e-tbar-btn")&&t.classList.add("e-hide");var i=e.relatedTarget,n=i?i.getAttribute("aria-owns"):null;i&&((0,U.Cf)(i,"e-grid")||(!(0,y.le)(n)&&n)===e.target.getAttribute("aria-owns"))||this.keyPress||!this.isEdit||y.AR.isDevice||("Batch"===this.editSettings.mode&&!(((0,U.Cf)(i,"e-ddl")||(0,U.Cf)(i,"e-ddt"))&&((0,U.Cf)(i,"e-multi-select-list-wrapper")||(0,U.Cf)(i,"e-input-filter"))&&(0,U.Cf)(i,"e-input-group"))&&((0,U.Cf)(i,"e-uploader")||!(i&&(0,y.le)((0,U.Cf)(i,"e-input-group")))&&!(0,U.Cf)(e.target,"edit-custom-template"))&&(this.editModule.saveCell(),this.notify(Z.kgh,{})),"Normal"!==this.editSettings.mode||this.isWidgetsDestroyed||this.editModule.editFormValidate()),this.editSettings.showAddNewRow&&(this.editModule.isShowAddedRowValidate=!1),this.keyPress=!1}},i.prototype.isChildGrid=function(e){var t=(0,U.Cf)(e.target,"e-grid");return!!(t&&t.id!==this.element.id||(0,U.Cf)(e.target,"e-unboundcelldiv")&&(0,y.le)(t))},i.prototype.mergePersistGridData=function(e){var t=this.getLocalData();if(!((0,y.le)(t)||""===t)||!(0,y.le)(e)){var i=(0,y.le)(e)?JSON.parse(t):e,n=Object.keys(i);this.isProtectedOnChange=!0;for(var r=0;r<n.length;r++){var o=n[r];"object"!=typeof this[""+o]||(0,y.le)(this[""+o])?this[""+o]=i[""+o]:Array.isArray(this[""+o])&&"columns"===o?(this.setFrozenCount(),(0,U.iO)(this[""+o]),this.mergeColumns(i[""+o],this[""+o]),this.mergedColumns=!0,this[""+o]=i[""+o]):(0,y.l7)(this[""+o],i[""+o])}this.isProtectedOnChange=!1}},i.prototype.mergeColumns=function(e,t){for(var i=this.isFrozenGrid(),n=function(n){var o=t.filter(function(t){return i?t.index===e[parseInt(n.toString(),10)][""+te.iN]:t.index===e[parseInt(n.toString(),10)].index})[0];(0,y.le)(o)||(i&&((o=(0,y.l7)({},o,{},!0)).freeze=e[parseInt(n.toString(),10)].freeze),o.columns&&o.columns.length&&r.mergeColumns(e[parseInt(n.toString(),10)].columns,o.columns),e[parseInt(n.toString(),10)]=(0,y.l7)(o,e[parseInt(n.toString(),10)],{},!0))},r=this,o=0;o<e.length;o++)n(o)},i.prototype.isDetail=function(){return!(0,y.le)(this.detailTemplate)||!(0,y.le)(this.childGrid)},i.prototype.isCommandColumn=function(e){var t=this;return e.some(function(e){return e.columns?t.isCommandColumn(e.columns):!!(e.commands||e.commandsTemplate)})},i.prototype.isForeignKeyEnabled=function(e){var t=this;return e.some(function(e){return e.columns?t.isForeignKeyEnabled(e.columns):!!(e.dataSource&&e.foreignKeyValue)})},i.prototype.keyPressHandler=function(e){var t=(0,y.l7)(e,{cancel:!1});this.trigger("keyPressed",t),(!0===t.cancel||this.isEdit&&e&&(0,U.Cf)(e.target,"e-gridform")&&(0,U.Cf)(e.target,"e-ddl")&&"open"===e.action&&!0===e.altKey&&"ArrowDown"===e.code)&&e.stopImmediatePropagation()},i.prototype.keyDownHandler=function(e){if(e.altKey){if(74!==e.keyCode||(this.keyA?(this.notify(Z.DB7,{target:e.target,collapse:!1}),this.keyA=!1):(this.focusModule&&this.focusModule.currentInfo&&this.focusModule.currentInfo.element&&((0,y.IV)([this.focusModule.currentInfo.element,this.focusModule.currentInfo.elementToFocus],["e-focused","e-focus"]),this.focusModule.currentInfo.element.tabIndex=-1),this.element.classList.contains("e-childgrid")||this.element.focus())),87===e.keyCode){var t=this.focusModule;if(t){if(!this.currentViewData.length)return;t.focusContent(),t.addOutline()}}65===e.keyCode&&(this.keyA=!0),72===e.keyCode&&this.keyA&&(this.notify(Z.DB7,{target:e.target,collapse:!0}),this.keyA=!1)}13===e.keyCode&&this.notify(Z.Pxe,e)},i.prototype.keyActionHandler=function(e){!(this.isChildGrid(e)||this.editModule&&(this.editModule.alertDObj&&this.editModule.alertDObj.visible||this.editModule.dialogObj&&this.editModule.dialogObj.visible)||this.isEdit&&(!this.editSettings.showAddNewRow||this.editSettings.showAddNewRow&&this.element.querySelector(te.fX))&&"escape"!==e.action&&"enter"!==e.action&&"shiftEnter"!==e.action&&"tab"!==e.action&&"shiftTab"!==e.action)&&(this.keyPress=!0,this.allowKeyboard&&("ctrlPlusP"===e.action&&(e.preventDefault(),this.print()),this.notify(Z.$G9,e)))},i.prototype.setInjectedModules=function(e){this.injectedModules=e},i.prototype.updateColumnObject=function(){(0,U.l_)(this.columns,this.enableColumnVirtualization,this),(0,U.iO)(this.columns),this.initForeignColumn(),this.notify(Z.oGC,{})},i.prototype.refreshFrozenPosition=function(e){e&&e.isModeChg?(this.refreshColumns(),this.notify(Z.xhl,{})):this.refreshColumns()},i.prototype.getForeignKeyColumns=function(){return this.getColumns().filter(function(e){return e.isForeignColumn()})},i.prototype.getRowHeight=function(e){return this.rowHeight?this.rowHeight:(0,U.NE)(this.element,e)},i.prototype.refreshColumns=function(){if(this.freezeColumnRefresh=!0,this.setFrozenCount(),this.updateFrozenColumnsWidth(),this.isFrozenGrid()&&(this.isPreventScrollEvent=!0),this.updateColumnObject(),this.checkLockColumns(this.getColumns()),this.refresh(),this.isFrozenGrid()&&this.enableColumnVirtualization){var e=this.getContent().querySelector(".e-movablescrollbar").scrollLeft;this.getHeaderContent().querySelector("."+te.Vd).scrollLeft=e,this.getContent().querySelector("."+te.kQ).scrollLeft=e}},i.prototype.excelExport=function(e,t,i,n){if(!this.exportGrids||!this.exportGrids.length)return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!1,n):null;var r=this.exportGrids.slice();return this.exportMultipleExcelGrids(r,e,t,i,n)},i.prototype.csvExport=function(e,t,i,n){return this.excelExportModule?this.excelExportModule.Map(this,e,t,i,!0,n):null},i.prototype.pdfExport=function(e,t,i,n){if(!this.exportGrids||!this.exportGrids.length)return this.pdfExportModule?this.pdfExportModule.Map(this,e,t,i,n):null;var r=this.exportGrids.slice();return this.exportMultiplePdfGrids(r,e,t,i,n)},i.prototype.exportMultiplePdfGrids=function(e,t,i,n,r){var o=this;if(0!==e.length){var s=e.shift(),a=document.getElementById(s).ej2_instances[0];return(a.pdfExportModule?a.pdfExportModule.Map(a,t,i,n,r):Promise.resolve()).then(function(n){return i=1!==e.length,o.exportMultiplePdfGrids(e,t,i,n,r)})}return null},i.prototype.exportMultipleExcelGrids=function(e,t,i,n,r){var o=this;if(0!==e.length){var s=e.shift(),a=document.getElementById(s).ej2_instances[0];return(a.excelExportModule?a.excelExportModule.Map(a,t,i,n,!1,r):null).then(function(n){return i=1!==e.length,o.exportMultipleExcelGrids(e,t,i,n,r)})}return null},i.prototype.groupColumn=function(e){this.groupModule&&this.groupModule.groupColumn(e)},i.prototype.groupExpandAll=function(){this.groupModule&&this.groupModule.expandAll()},i.prototype.groupCollapseAll=function(){this.groupModule&&this.groupModule.collapseAll()},i.prototype.clearGrouping=function(){this.groupModule&&this.groupModule.clearGrouping()},i.prototype.ungroupColumn=function(e){this.groupModule&&this.groupModule.ungroupColumn(e)},i.prototype.openColumnChooser=function(e,t){this.columnChooserModule&&this.columnChooserModule.openColumnChooser(e,t)},i.prototype.scrollRefresh=function(){var e=this,t=function(){e.scrollModule.refresh(),e.off(Z.GEE,t)};this.on(Z.GEE,t,this)},i.prototype.detailCollapseAll=function(){this.detailRowModule&&this.detailRowModule.collapseAll()},i.prototype.detailExpandAll=function(){this.detailRowModule&&this.detailRowModule.expandAll()},i.prototype.clearCellSelection=function(){this.selectionModule&&this.selectionModule.clearCellSelection()},i.prototype.clearRowSelection=function(){this.selectionModule&&this.selectionModule.clearRowSelection()},i.prototype.selectCells=function(e){this.selectionModule&&this.selectionModule.selectCells(e)},i.prototype.selectRowsByRange=function(e,t){this.selectionModule&&this.selectionModule.selectRowsByRange(e,t)},i.prototype.isContextMenuOpen=function(){return this.contextMenuModule&&this.contextMenuModule.isOpen},i.prototype.ensureModuleInjected=function(e){return this.getInjectedModules().indexOf(e)>=0},i.prototype.destroyTemplate=function(e,t){this.clearTemplate(e,t)},i.prototype.log=function(e,i){this.getInjectedModules().find(function(e){return"Logger"===e.name})||(t.Inject(io),this.enableLogger=!0,this.injectModules()),this.loggerModule&&this.loggerModule.log(e,i)},i.prototype.applyBiggerTheme=function(e){this.element.classList.contains("e-bigger")&&e.classList.add("e-bigger")},i.prototype.getPreviousRowData=function(){return this.getRowsObject()[this.getRows().length-1].data},i.prototype.hideScroll=function(){var e=this.getContent().querySelector("."+te.kQ);e.scrollHeight<=e.clientHeight&&(this.scrollModule.removePadding(),e.style.overflowY="auto")},i.prototype.getRowIndexByPrimaryKey=function(e){var t=this.getPrimaryKeyFieldNames()[0];e="object"==typeof e?e[""+t]:e;for(var i=this.getRowsObject(),n=0;n<i.length;n++)if(!i[parseInt(n.toString(),10)].isDetailRow&&!i[parseInt(n.toString(),10)].isCaptionRow){var r=i[parseInt(n.toString(),10)].data[""+t];if(t.split(".").length>1&&(r=(0,U.bL)(t,i[parseInt(n.toString(),10)].data)),r===e)return i[parseInt(n.toString(),10)].index}return -1},i.prototype.grabColumnByFieldFromAllCols=function(e,t){this.columnModel=[],this.updateColumnModel(this.columns);for(var i,n=this.columnModel,r=0;r<n.length;r++)if(!t&&e===n[parseInt(r.toString(),10)].field||t&&n[parseInt(r.toString(),10)].isForeignColumn()&&e===n[parseInt(r.toString(),10)].foreignKeyValue){i=n[parseInt(r.toString(),10)];break}return i},i.prototype.grabColumnByUidFromAllCols=function(e){this.columnModel=[],this.updateColumnModel(this.columns);for(var t,i=this.columnModel,n=0;n<i.length;n++)e===i[parseInt(n.toString(),10)].uid&&(t=i[parseInt(n.toString(),10)]);return t},i.prototype.getFilteredRecords=function(){if(this.allowFiltering&&this.filterSettings.columns.length||this.searchSettings.key.length){var e=this.renderModule.data.generateQuery(!0);return this.dataSource&&this.renderModule.data.isRemote()&&this.dataSource instanceof v.h?this.renderModule.data.getData(this.dataSource,e):this.dataSource instanceof v.h?this.dataSource.executeLocal(e):new v.h(this.dataSource,e).executeLocal(e)}return[]},i.prototype.getUserAgent=function(){var e=y.AR.userAgent.toLowerCase();return/iphone|ipod|ipad|macintosh/.test(e)},i.prototype.tapEvent=function(e){this.getUserAgent()&&(U.xB.timer?(clearTimeout(U.xB.timer),U.xB.timer=null,this.dblClickHandler(e),this.notify(Z.bFW,e)):U.xB.timer=setTimeout(function(){U.xB.timer=null},300))},i.prototype.getRowUid=function(e){return""+e+this.rowUid++},i.prototype.getRowElementByUID=function(e){var t,i=[],n=[].slice.call(this.getContent().querySelector(te.gE).children);i=this.frozenRows?(i=[].slice.call(this.getHeaderContent().querySelector(te.gE).children)).concat(n):n;for(var r=0,o=i;r<o.length;r++){var s=o[r];if(s.getAttribute("data-uid")===e){t=s;break}}return t},i.prototype.getHiddenColumns=function(){for(var e=[],t=0,i=this.columnModel;t<i.length;t++){var n=i[t];!1===n.visible&&e.push(n)}return e},i.prototype.calculatePageSizeByParentHeight=function(e){if(this.allowPaging&&(this.allowTextWrap&&"Header"===this.textWrapSettings.wrapMode||!this.allowTextWrap)){var t=0;if(-1!==e.indexOf("%")&&(e=parseInt(e,10)/100*this.element.clientHeight),e>this.getNoncontentHeight()+this.getRowHeight()&&(t=(e-this.getNoncontentHeight())/this.getRowHeight()),t>0)return Math.floor(t)}return 0},i.prototype.getNoncontentHeight=function(){var e=0;if(this.getHeaderContent()&&!(0,y.le)(this.getHeaderContent().clientHeight)&&(e+=this.getHeaderContent().clientHeight),this.toolbar&&!(0,y.le)(this.element.querySelector(".e-toolbar").clientHeight)&&(e+=this.element.querySelector(".e-toolbar").clientHeight),this.allowPaging&&!(0,y.le)(this.element.querySelector(".e-gridpager").clientHeight)&&(e+=this.element.querySelector(".e-gridpager").clientHeight),this.showColumnChooser&&!(0,y.le)(this.element.querySelector(".e-columnheader").clientHeight)&&(e+=this.element.querySelector(".e-columnheader").clientHeight),this.allowGrouping&&this.groupSettings.showDropArea&&!(0,y.le)(this.element.querySelector(".e-groupdroparea").clientHeight)&&(e+=this.element.querySelector(".e-groupdroparea").clientHeight),this.aggregates.length>0&&!(0,y.le)(this.element.querySelector(".e-summaryrow").clientHeight))for(var t=0;t<this.element.getElementsByClassName("e-summaryrow").length;t++)e+=this.element.getElementsByClassName("e-summaryrow")[parseInt(t.toString(),10)].clientHeight;return e},i.prototype.getSummaryValues=function(e,t){return S.j.aggregates[e.type.toLowerCase()](t,e.field)},i.prototype.serverExcelExport=function(e,t){this.isExcel=!0,this.exportGrid(e,t)},i.prototype.serverPdfExport=function(e,t){this.isExcel=!1,this.exportGrid(e,t)},i.prototype.serverCsvExport=function(e,t){this.isExcel=!0,this.exportGrid(e,t)},i.prototype.exportGrid=function(e,t){var i=this,n=this.getDataModule().generateQuery(!0),r=JSON.parse(new C.lM().processQuery(new v.h({url:""}),n).data),o=JSON.parse(this.addOnPersist(["allowGrouping","allowPaging","pageSettings","sortSettings","allowPdfExport","allowExcelExport","aggregates","filterSettings","groupSettings","columns","locale","searchSettings"]));o.filterSettings.columns=r.where,o.searchSettings.fields=r.search&&r.search[0].fields||[],o.sortSettings.columns=r.sorted,o.columns=this.setHeaderText(o.columns,["field","headerText","type","format","visible","foreignKeyValue","foreignKeyField","template","index","width","textAlign","headerTextAlign","columns"]);var s=this.createElement("form",{id:"ExportForm"});s.style.display="none";var a=this.createElement("input",{id:"gridInput",attrs:{name:"gridModel"}});a.value=JSON.stringify(o),s.method="POST",s.action=e,s.appendChild(a),t&&t.headers&&Array.isArray(t.headers)&&t.headers.forEach(function(e){Object.keys(e).forEach(function(t){var n="string"==typeof e[""+t]?e[""+t]:JSON.stringify(e[""+t]),r=i.createElement("input",{attrs:{name:t,value:n,type:"hidden"}});s.appendChild(r)})}),document.body.appendChild(s),s.submit(),s.remove()},i.prototype.setHeaderText=function(e,t){for(var i=0;i<e.length;i++){var n=this.getColumnByUid(e[parseInt(i.toString(),10)].uid);e[parseInt(i.toString(),10)].headerText=n.headerText,(0,y.le)(n.template)||(e[parseInt(i.toString(),10)].template="true"),e[parseInt(i.toString(),10)].format&&(e[parseInt(i.toString(),10)].format=(0,U.ff)(this.getFormat(e[parseInt(i.toString(),10)].format),e[parseInt(i.toString(),10)].type,!1,y.ly),("datetime"===n.type||"date"===n.type||"time"===n.type)&&(e[parseInt(i.toString(),10)].format=e[parseInt(i.toString(),10)].format.toString().replace("AM/PM","tt"))),e[parseInt(i.toString(),10)].columns&&this.setHeaderText(e[parseInt(i.toString(),10)].columns,t);for(var r=Object.keys(e[parseInt(i.toString(),10)]),o=0;o<r.length;o++)0>t.indexOf(r[parseInt(o.toString(),10)])&&delete e[parseInt(i.toString(),10)][r[parseInt(o.toString(),10)]]}return e},i.prototype.getFormat=function(e){return"object"==typeof e?(0,y.le)(e.format)?e.skeleton:e.format:e},i.prototype.isCollapseStateEnabled=function(){return!1===this.isExpanded},i.prototype.updateRowValue=function(e,t){this.showSpinner(),this.notify(Z.VAl,{requestType:"save",data:t}),this.refresh()},i.prototype.setForeignKeyData=function(){this.dataBind();var e=this.getDataModule().getForeignKeyDataState();e.isPending?(this.getDataModule().setForeignKeyDataState({}),e.resolver()):(this.getDataModule().setForeignKeyDataState({isDataChanged:!1}),(this.contentModule||this.headerModule)&&this.renderModule.render())},i.prototype.resetFilterDlgPosition=function(e){var t=this.getColumnHeaderByField(e);if(t){var i=t.querySelector(".e-filtermenudiv"),n=this.element.querySelector(".e-filter-popup");if(i){var r=this.element.getBoundingClientRect(),o=i.getBoundingClientRect();n&&(n.offsetWidth+o.right>r.right?n.style.left=(o.right-n.offsetWidth-r.left).toString()+"px":n.style.left=(o.right-r.left).toString()+"px")}}},i.prototype.renderTemplates=function(e){var t=this.parentDetails&&this.parentDetails.parentInstObj&&this.parentDetails.parentInstObj.isReact,i=this.printGridParent&&this.printGridParent.isReact;if((t||i)&&this.portals){var n=i?this.printGridParent:this.parentDetails.parentInstObj;n.portals=n.portals.concat(this.portals),n.renderTemplates(e),this.portals=void 0}else this.notify("reactTemplateRender",this.portals),this.renderReactTemplates(e)},i.prototype.batchUpdate=function(e){this.processRowChanges(e)},i.prototype.batchAsyncUpdate=function(e){this.processBulkRowChanges(e)},i.prototype.processBulkRowChanges=function(e){var t=this;if(this.dataToBeUpdated)for(var i=[te.$0,te.x7,te.k0],n=this.getPrimaryKeyFieldNames()[0],r=0;r<i.length;r++)e[i[parseInt(r.toString(),10)]]&&(0,U.hD)(this,e,i[parseInt(r.toString(),10)],n);else this.dataToBeUpdated=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e),setTimeout(function(){t.processRowChanges(t.dataToBeUpdated),t.dataToBeUpdated=null},this.asyncTimeOut)},i.prototype.processRowChanges=function(e){var t=this,i=this.getPrimaryKeyFieldNames()[0];e=Object.assign({addedRecords:[],changedRecords:[],deletedRecords:[]},e);var n=this.getDataModule().saveChanges(e,i,{},this.getDataModule().generateQuery().requiresCount());this.getDataModule().isRemote()?n.then(function(){t.setNewData()}):this.setNewData()},i.prototype.setNewData=function(){var e=this,t=JSON.parse(JSON.stringify(this.getCurrentViewRecords()));this.getDataModule().getData({},this.getDataModule().generateQuery().requiresCount()).then(function(i){e.bulkRefresh(i.result,t,i.count)})},i.prototype.deleteRowElement=function(e){var t=this.getRowElementByUID(e.uid);(0,y.Od)(t)},i.prototype.bulkRefresh=function(e,t,i){for(var n,r=this,o=this.getRowsObject(),s=this.getPrimaryKeyFieldNames()[0],a=function(t){!e.filter(function(e){return e[""+s]===o[parseInt(t.toString(),10)].data[""+s]}).length&&(l.deleteRowElement(o[parseInt(t.toString(),10)]),o.splice(t,1),t--),n=t},l=this,h=0;h<o.length;h++)a(h),h=n;for(var c=function(i){var n;t.filter(function(t){t[""+s]===e[parseInt(i.toString(),10)][""+s]&&(t!==e[parseInt(i.toString(),10)]&&r.setRowData(e[parseInt(i.toString(),10)][""+s],e[parseInt(i.toString(),10)]),n=!0)}),n||p.renderRowElement(e[parseInt(i.toString(),10)],i)},p=this,h=0;h<e.length;h++)c(h);this.currentViewData=e;var d=[].slice.call(this.getContentTable().getElementsByClassName(te.O7));(0,U.HP)(this,this.getRowsObject(),d),(0,U.St)(this),this.allowPaging&&this.notify(Z.HjP,{module:"pager",properties:{totalRecordsCount:i}})},i.prototype.renderRowElement=function(e,t){var i=new tt(this.serviceLocator,null,this),n=new ti(this).generateRows([e]),r=i.render(n[0],this.getColumns());this.addRowObject(n[0],t);var o=this.getContentTable().querySelector(te.gE);if(o.querySelector(".e-emptyrow")){var s=o.querySelector(".e-emptyrow");s.parentNode.removeChild(s),this.frozenRows&&this.element.querySelector(".e-frozenrow-empty")&&this.element.querySelector(".e-frozenrow-empty").classList.remove("e-frozenrow-empty")}o=this.frozenRows&&t<this.frozenRows?this.getHeaderContent().querySelector(te.gE):this.getContent().querySelector(te.gE),(o=this.getContent().querySelector(te.gE)).appendChild(r)},i.prototype.addRowObject=function(e,t){this.getRowsObject().splice(t,1,e)},i.prototype.updateVisibleExpandCollapseRows=function(){for(var e=this.getRowsObject(),t=0,i=e.length;t<i;t++)(e[parseInt(t.toString(),10)].isDataRow||e[parseInt(t.toString(),10)].isAggregateRow)&&this.getRowElementByUID(e[parseInt(t.toString(),10)].uid)&&"none"===this.getRowElementByUID(e[parseInt(t.toString(),10)].uid).style.display?e[parseInt(t.toString(),10)].visible=!1:e[parseInt(t.toString(),10)].visible=!0},i.prototype.sanitize=function(e){return this.enableHtmlSanitizer?y.pJ.sanitize(e):e},i.prototype.getHeight=function(e){return e=Number.isInteger(e)||-1===e.indexOf("%")?Number.isInteger(e)||"auto"===this.height?this.height:parseInt(e,10):parseInt(e,10)/100*this.element.clientHeight},i.prototype.getFrozenRightContent=function(){return this.contentModule.getPanel()},i.prototype.getFrozenRightHeader=function(){return this.headerModule.getPanel()},i.prototype.getMovableHeaderTbody=function(){return this.getHeaderContent().querySelector(te.gE)},i.prototype.getMovableContentTbody=function(){return this.getContent().querySelector(te.gE)},i.prototype.getFrozenHeaderTbody=function(){return this.getHeaderContent().querySelector(te.gE)},i.prototype.getFrozenLeftContentTbody=function(){return this.getContent().querySelector(te.gE)},i.prototype.getFrozenRightHeaderTbody=function(){return this.getHeaderContent().querySelector(te.gE)},i.prototype.getFrozenRightContentTbody=function(){return this.getContent().querySelector(te.gE)},i.prototype.showResponsiveCustomFilter=function(e){this.filterModule&&this.filterModule.showCustomFilter(e||"Vertical"===this.rowRenderingMode)},i.prototype.showResponsiveCustomSort=function(e){this.sortModule&&this.sortModule.showCustomSort(e||"Vertical"===this.rowRenderingMode)},i.prototype.showResponsiveCustomColumnChooser=function(e){this.columnChooserModule&&this.columnChooserModule.showCustomColumnChooser(e||"Vertical"===this.rowRenderingMode)},i.prototype.showAdaptiveFilterDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomFilter(!0)},i.prototype.showAdaptiveSortDialog=function(){this.enableAdaptiveUI&&this.showResponsiveCustomSort(!0)},i.prototype.getCurrentVisibleColumns=function(e){for(var t=[],i=e?this.getColumns():this.columnModel,n=0;n<i.length;n++){var r=i[n];r.visible&&t.push(r)}return t},i.prototype.enableInfiniteAggrgate=function(){this.enableInfiniteScrolling&&this.groupSettings.columns.length&&!this.groupSettings.disablePageWiseAggregates&&!this.groupSettings.enableLazyLoading&&this.setProperties({groupSettings:{disablePageWiseAggregates:!0}},!0)},ic([(0,y.Z9)([])],i.prototype,"currentViewData",void 0),ic([(0,y.Z9)()],i.prototype,"parentDetails",void 0),ic([(0,y.Z9)()],i.prototype,"showHider",void 0),ic([(0,y.Z9)([])],i.prototype,"columns",void 0),ic([(0,y.Z9)(!0)],i.prototype,"enableAltRow",void 0),ic([(0,y.Z9)(!0)],i.prototype,"enableHover",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableAutoFill",void 0),ic([(0,y.Z9)(!0)],i.prototype,"allowKeyboard",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableStickyHeader",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableHtmlSanitizer",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowTextWrap",void 0),ic([(0,y.Zz)({},iC)],i.prototype,"textWrapSettings",void 0),ic([(0,y.Zz)({},ib)],i.prototype,"resizeSettings",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowPaging",void 0),ic([(0,y.Zz)({},tY)],i.prototype,"pageSettings",void 0),ic([(0,y.Zz)({},ix)],i.prototype,"loadingIndicator",void 0),ic([(0,y.Z9)(!0)],i.prototype,"enableVirtualMaskRow",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableVirtualization",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableColumnVirtualization",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableInfiniteScrolling",void 0),ic([(0,y.Zz)({},iv)],i.prototype,"searchSettings",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowSorting",void 0),ic([(0,y.Z9)("Ellipsis")],i.prototype,"clipMode",void 0),ic([(0,y.Z9)(!0)],i.prototype,"allowMultiSorting",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowExcelExport",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowPdfExport",void 0),ic([(0,y.Zz)({},id)],i.prototype,"sortSettings",void 0),ic([(0,y.Zz)({},ig)],i.prototype,"infiniteScrollSettings",void 0),ic([(0,y.Z9)(!0)],i.prototype,"allowSelection",void 0),ic([(0,y.Z9)(-1)],i.prototype,"selectedRowIndex",void 0),ic([(0,y.Zz)({},iy)],i.prototype,"selectionSettings",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowFiltering",void 0),ic([(0,y.Z9)("Horizontal")],i.prototype,"rowRenderingMode",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableAdaptiveUI",void 0),ic([(0,y.Z9)("Both")],i.prototype,"adaptiveUIMode",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowReordering",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowResizing",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowRowDragAndDrop",void 0),ic([(0,y.Zz)({},iS)],i.prototype,"rowDropSettings",void 0),ic([(0,y.Zz)({},im)],i.prototype,"filterSettings",void 0),ic([(0,y.Z9)(!1)],i.prototype,"allowGrouping",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableImmutableMode",void 0),ic([(0,y.Z9)(!1)],i.prototype,"showColumnMenu",void 0),ic([(0,y.Z9)(!1)],i.prototype,"autoFit",void 0),ic([(0,y.Zz)({},iw)],i.prototype,"groupSettings",void 0),ic([(0,y.Zz)({},iI)],i.prototype,"editSettings",void 0),ic([(0,y.FE)([],t5)],i.prototype,"aggregates",void 0),ic([(0,y.Z9)(!1)],i.prototype,"showColumnChooser",void 0),ic([(0,y.Zz)({},t$)],i.prototype,"columnChooserSettings",void 0),ic([(0,y.Z9)(!1)],i.prototype,"enableHeaderFocus",void 0),ic([(0,y.Z9)("auto")],i.prototype,"height",void 0),ic([(0,y.Z9)("auto")],i.prototype,"width",void 0),ic([(0,y.Z9)("Default")],i.prototype,"gridLines",void 0),ic([(0,y.Z9)()],i.prototype,"rowTemplate",void 0),ic([(0,y.Z9)()],i.prototype,"emptyRecordTemplate",void 0),ic([(0,y.Z9)()],i.prototype,"detailTemplate",void 0),ic([(0,y.Z9)()],i.prototype,"childGrid",void 0),ic([(0,y.Z9)()],i.prototype,"queryString",void 0),ic([(0,y.Z9)("AllPages")],i.prototype,"printMode",void 0),ic([(0,y.Z9)("Expanded")],i.prototype,"hierarchyPrintMode",void 0),ic([(0,y.Z9)([])],i.prototype,"dataSource",void 0),ic([(0,y.Z9)(null)],i.prototype,"rowHeight",void 0),ic([(0,y.Z9)()],i.prototype,"query",void 0),ic([(0,y.Z9)("USD")],i.prototype,"currencyCode",void 0),ic([(0,y.Z9)()],i.prototype,"exportGrids",void 0),ic([(0,y.Z9)()],i.prototype,"toolbar",void 0),ic([(0,y.Z9)()],i.prototype,"contextMenuItems",void 0),ic([(0,y.Z9)()],i.prototype,"columnMenuItems",void 0),ic([(0,y.Z9)()],i.prototype,"toolbarTemplate",void 0),ic([(0,y.Z9)()],i.prototype,"pagerTemplate",void 0),ic([(0,y.Z9)(0)],i.prototype,"frozenRows",void 0),ic([(0,y.Z9)(0)],i.prototype,"frozenColumns",void 0),ic([(0,y.Z9)("")],i.prototype,"cssClass",void 0),ic([(0,y.Z9)("All")],i.prototype,"columnQueryMode",void 0),ic([(0,y.Z9)({})],i.prototype,"currentAction",void 0),ic([(0,y.Z9)("")],i.prototype,"ej2StatePersistenceVersion",void 0),ic([(0,y.ju)()],i.prototype,"created",void 0),ic([(0,y.ju)()],i.prototype,"destroyed",void 0),ic([(0,y.ju)()],i.prototype,"load",void 0),ic([(0,y.ju)()],i.prototype,"rowDataBound",void 0),ic([(0,y.ju)()],i.prototype,"queryCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"headerCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"actionBegin",void 0),ic([(0,y.ju)()],i.prototype,"actionComplete",void 0),ic([(0,y.ju)()],i.prototype,"actionFailure",void 0),ic([(0,y.ju)()],i.prototype,"dataBound",void 0),ic([(0,y.ju)()],i.prototype,"recordDoubleClick",void 0),ic([(0,y.ju)()],i.prototype,"recordClick",void 0),ic([(0,y.ju)()],i.prototype,"rowSelecting",void 0),ic([(0,y.ju)()],i.prototype,"rowSelected",void 0),ic([(0,y.ju)()],i.prototype,"rowDeselecting",void 0),ic([(0,y.ju)()],i.prototype,"rowDeselected",void 0),ic([(0,y.ju)()],i.prototype,"cellSelecting",void 0),ic([(0,y.ju)()],i.prototype,"cellSelected",void 0),ic([(0,y.ju)()],i.prototype,"cellDeselecting",void 0),ic([(0,y.ju)()],i.prototype,"cellDeselected",void 0),ic([(0,y.ju)()],i.prototype,"columnSelecting",void 0),ic([(0,y.ju)()],i.prototype,"columnSelected",void 0),ic([(0,y.ju)()],i.prototype,"columnDeselecting",void 0),ic([(0,y.ju)()],i.prototype,"columnDeselected",void 0),ic([(0,y.ju)()],i.prototype,"columnDragStart",void 0),ic([(0,y.ju)()],i.prototype,"columnDrag",void 0),ic([(0,y.ju)()],i.prototype,"columnDrop",void 0),ic([(0,y.ju)()],i.prototype,"printComplete",void 0),ic([(0,y.ju)()],i.prototype,"beforePrint",void 0),ic([(0,y.ju)()],i.prototype,"pdfQueryCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"pdfHeaderQueryCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"pdfAggregateQueryCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"excelAggregateQueryCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"exportDetailDataBound",void 0),ic([(0,y.ju)()],i.prototype,"exportDetailTemplate",void 0),ic([(0,y.ju)()],i.prototype,"excelQueryCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"excelHeaderQueryCellInfo",void 0),ic([(0,y.ju)()],i.prototype,"beforeExcelExport",void 0),ic([(0,y.ju)()],i.prototype,"excelExportComplete",void 0),ic([(0,y.ju)()],i.prototype,"beforePdfExport",void 0),ic([(0,y.ju)()],i.prototype,"pdfExportComplete",void 0),ic([(0,y.ju)()],i.prototype,"rowDragStartHelper",void 0),ic([(0,y.ju)()],i.prototype,"detailDataBound",void 0),ic([(0,y.ju)()],i.prototype,"rowDragStart",void 0),ic([(0,y.ju)()],i.prototype,"rowDrag",void 0),ic([(0,y.ju)()],i.prototype,"rowDrop",void 0),ic([(0,y.ju)()],i.prototype,"toolbarClick",void 0),ic([(0,y.ju)()],i.prototype,"beforeOpenColumnChooser",void 0),ic([(0,y.ju)()],i.prototype,"beforeOpenAdaptiveDialog",void 0),ic([(0,y.ju)()],i.prototype,"batchAdd",void 0),ic([(0,y.ju)()],i.prototype,"batchDelete",void 0),ic([(0,y.ju)()],i.prototype,"batchCancel",void 0),ic([(0,y.ju)()],i.prototype,"beforeBatchAdd",void 0),ic([(0,y.ju)()],i.prototype,"beforeBatchDelete",void 0),ic([(0,y.ju)()],i.prototype,"beforeBatchSave",void 0),ic([(0,y.ju)()],i.prototype,"beginEdit",void 0),ic([(0,y.ju)()],i.prototype,"commandClick",void 0),ic([(0,y.ju)()],i.prototype,"cellEdit",void 0),ic([(0,y.ju)()],i.prototype,"cellSave",void 0),ic([(0,y.ju)()],i.prototype,"cellSaved",void 0),ic([(0,y.ju)()],i.prototype,"resizeStart",void 0),ic([(0,y.ju)()],i.prototype,"resizing",void 0),ic([(0,y.ju)()],i.prototype,"resizeStop",void 0),ic([(0,y.ju)()],i.prototype,"keyPressed",void 0),ic([(0,y.ju)()],i.prototype,"beforeDataBound",void 0),ic([(0,y.ju)()],i.prototype,"contextMenuOpen",void 0),ic([(0,y.ju)()],i.prototype,"contextMenuClick",void 0),ic([(0,y.ju)()],i.prototype,"columnMenuOpen",void 0),ic([(0,y.ju)()],i.prototype,"columnMenuClick",void 0),ic([(0,y.ju)()],i.prototype,"checkBoxChange",void 0),ic([(0,y.ju)()],i.prototype,"beforeCopy",void 0),ic([(0,y.ju)()],i.prototype,"beforePaste",void 0),ic([(0,y.ju)()],i.prototype,"beforeAutoFill",void 0),ic([(0,y.ju)()],i.prototype,"columnDataStateChange",void 0),ic([(0,y.ju)()],i.prototype,"dataStateChange",void 0),ic([(0,y.ju)()],i.prototype,"dataSourceChanged",void 0),ic([(0,y.ju)()],i.prototype,"exportGroupCaption",void 0),ic([(0,y.ju)()],i.prototype,"lazyLoadGroupExpand",void 0),ic([(0,y.ju)()],i.prototype,"lazyLoadGroupCollapse",void 0),ic([(0,y.ju)()],i.prototype,"beforeDetailTemplateDetach",void 0),i=t=ic([y.Zl],i)}(y.wA)},680:(e,t,i)=>{i.d(t,{$0:()=>y,FP:()=>C,Hx:()=>h,Iz:()=>x,Jv:()=>s,Kz:()=>p,L2:()=>l,O7:()=>d,PO:()=>n,Vd:()=>a,_x:()=>w,ci:()=>o,fX:()=>g,gE:()=>I,gY:()=>f,iN:()=>R,k0:()=>v,kQ:()=>c,pM:()=>u,qc:()=>b,uD:()=>r,v3:()=>S,x7:()=>m});var n="e-rowcell",r="e-gridheader",o="e-gridcontent",s="e-gridfooter",a="e-headercontent",l="e-movablecontent",h="e-movableheader",c="e-content",p="e-table",d="e-row",u="e-gridchkbox",g="e-editedrow",f="e-addedrow",m="changedRecords",y="addedRecords",v="deletedRecords",S="Left-Right",C="frozen-right",b="aria-colindex",w="aria-rowindex",I="tbody",x="colgroup",R="initialFrozenColumnIndex"},7388:(e,t,i)=>{i.d(t,{Aq:()=>eh,Bd:()=>K,Cf:()=>x,EU:()=>em,Eh:()=>v,Ez:()=>eg,G9:()=>y,HP:()=>eo,Ic:()=>E,Iz:()=>F,Ld:()=>eI,MU:()=>Z,NB:()=>N,NE:()=>D,NH:()=>eu,Ou:()=>z,Ox:()=>ep,QE:()=>er,QS:()=>V,Qz:()=>ev,RK:()=>Y,St:()=>ea,UO:()=>Q,WJ:()=>ek,Wn:()=>S,Wx:()=>L,X_:()=>H,Y:()=>ei,YT:()=>ee,ZJ:()=>w,_B:()=>ed,aI:()=>G,aL:()=>eb,bH:()=>U,bL:()=>eS,bf:()=>f,bt:()=>R,cK:()=>C,db:()=>b,eB:()=>et,eR:()=>$,ff:()=>ey,gm:()=>ex,gs:()=>en,hD:()=>es,iO:()=>function e(t,i){void 0===i&&(i=0);for(var n=0,r=(0,s.le)(t)?0:t.length;n<r;n++)t[parseInt(n.toString(),10)].columns?(t[parseInt(n.toString(),10)].index=(0,s.le)(t[parseInt(n.toString(),10)].index)?i:t[parseInt(n.toString(),10)].index,i++,i=e(t[parseInt(n.toString(),10)].columns,i)):(t[parseInt(n.toString(),10)].index=(0,s.le)(t[parseInt(n.toString(),10)].index)?i:t[parseInt(n.toString(),10)].index,i++);return i},id:()=>X,jV:()=>j,jm:()=>B,l_:()=>function e(t,i,n){for(var r=0,o=(0,s.le)(t)?0:t.length;r<o;r++){var a=void 0;"string"==typeof t[parseInt(r.toString(),10)]?a=new p.sg({field:t[parseInt(r.toString(),10)]},n):t[parseInt(r.toString(),10)]instanceof p.sg&&!t[parseInt(r.toString(),10)].columns?a=t[parseInt(r.toString(),10)]:(t[parseInt(r.toString(),10)].columns&&(t[parseInt(r.toString(),10)].columns=e(t[parseInt(r.toString(),10)].columns,null,n)),a=new p.sg(t[parseInt(r.toString(),10)],n)),a.type&&"checkbox"===a.type.toLowerCase()&&(a.allowReordering=!1),a.headerText=(0,s.le)(a.headerText)?a.foreignKeyValue||a.field||"":a.headerText,a.foreignKeyField=a.foreignKeyField||a.field,a.valueAccessor=("string"==typeof a.valueAccessor?(0,s.NA)(a.valueAccessor,window):a.valueAccessor)||m,a.headerValueAccessor="string"==typeof a.headerValueAccessor?(0,s.NA)(a.headerValueAccessor,window):a.headerValueAccessor,a.width=i&&(0,s.le)(a.width)?200:a.width,(0,s.le)(a.visible)&&(a.visible=!0),t[parseInt(r.toString(),10)]=a}return t},lr:()=>el,n8:()=>function e(t,i){void 0===i&&(i="Expanded");var n={};if(!t)return n;for(var r=0,o=u.K.printGridProp;r<o.length;r++){var a=o[r];"columns"===a?n[""+a]=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[parseInt(i.toString(),10)].hasOwnProperty("properties")?t.push(e[parseInt(i.toString(),10)].properties):t.push(e[parseInt(i.toString(),10)]);return t}(t[""+a]):"allowPaging"===a?n[""+a]="CurrentPage"===t.printMode:n[""+a]=I(t[""+a])}return n.enableHover=!1,(t.childGrid||t.detailTemplate)&&"None"!==i&&(n.expandedRows=function(t,i){for(var n=t.getRowsObject(),r={},o=0;o<n.length;o++){var a=n[o];if(a.isExpand&&!a.isDetailRow){var l=t.allowPaging&&"AllPages"===t.printMode?a.index+t.pageSettings.currentPage*t.pageSettings.pageSize-t.pageSettings.pageSize:a.index;!(0,s.le)(l)&&(r[parseInt(l.toString(),10)]={},r[parseInt(l.toString(),10)].isExpand=!0,t.childGrid&&(r[parseInt(l.toString(),10)].gridModel=e(a.childGrid,i),r[parseInt(l.toString(),10)].gridModel.query=t.childGrid.query))}}return r}(t,i)),n},pl:()=>J,pn:()=>ec,rG:()=>T,rX:()=>_,re:()=>P,sq:()=>A,uY:()=>q,uq:()=>ew,uz:()=>function e(t){return t.columns[0].freeze||t.columns[0].isFrozen?"Left"===t.columns[0].freeze||t.columns[0].isFrozen?"Left":"Right"===t.columns[0].freeze?"Right":"Fixed"===t.columns[0].freeze?"Fixed":"None":t.columns[0].columns&&t.columns[0].columns.length?e(t.columns[0]):"None"},vT:()=>eC,w4:()=>ef,wk:()=>eR,xB:()=>o,xZ:()=>O,xv:()=>W});var n,r,o,s=i(5883),a=i(3831),l=i(5287),h=i(442),c=i(5395),p=i(4120),d=i(3636),u=i(2217),g=i(680);function f(e,t){return e.prototype&&t in e.prototype}function m(e,t,i){return(0,s.le)(e)||""===e?"":a.j.getObject(e,t)}function y(e,t){requestAnimationFrame(function(){try{t(null,e())}catch(e){t(e)}})}function v(e,t){for(var i=[],n=0,r=e.length;n<r;n++){var o=t(e[parseInt(n.toString(),10)],n);(0,s.le)(o)||i.push(o)}return i}function S(e){for(var t=[],i=0;i<e.length;i++)t.push((0,s.l7)({},I(e[parseInt(i.toString(),10)]),{},!0));return t}function C(e){if(e)try{var t="<"!==e[0];if("function"==typeof e)return(0,s.MY)(e);if(t&&document.querySelectorAll(e).length)return(0,s.MY)(document.querySelector(e).innerHTML.trim());return(0,s.MY)(e)}catch(t){return(0,s.MY)(e)}}function b(e,t){var i={};(0,s.l7)(i,t,{}),"style"in i&&((0,s.V7)(e,i.style),delete i.style),"class"in i&&((0,s.cn)([e],i.class),delete i.class),(0,s.Y4)(e,i)}function w(e,t,i){var n,r,o,a=e.querySelector("span"),l=e.parentElement.getBoundingClientRect(),h=t.target.getBoundingClientRect();a.className=i,e.style.display="";var c=((0,s.le)(t.clientY)?t.changedTouches[0].clientY:t.clientY)>e.offsetHeight+10;e.style.top=h.top-l.top+(c?-(e.offsetHeight+10):e.offsetHeight+10)+"px",e.style.left=(n=l.left,r=e.offsetWidth/2,((o=R(t).x)-h.left<r?h.left-n:h.right-o<r?h.right-n-2*r:o-n-r)+"px"),c?(e.querySelector(".e-downtail").style.display="",e.querySelector(".e-uptail").style.display="none"):(e.querySelector(".e-downtail").style.display="none",e.querySelector(".e-uptail").style.display="")}function I(e){return e instanceof s.rt?(0,s.NA)("properties",e):e}function x(e,t,i){for(var n=e;n&&(i?n.id!==t:!n.classList.contains(t));)n=n.parentElement;return n}function R(e){var t={};return t.x=(0,s.le)(e.clientX)?e.changedTouches[0].clientX:e.clientX,t.y=(0,s.le)(e.clientY)?e.changedTouches[0].clientY:e.clientY,t}var k=0;function A(e){return e+k++}function T(e,t){for(var i=0,n=t.length;i<n;i++)n===t.length?e.appendChild(t[parseInt(i.toString(),10)]):e.appendChild(t[0]);return e}function E(e,t,i,n){if("Custom"===e){var r=i.customAggregate;return"string"==typeof r&&(r=(0,s.NA)(r,window)),r?r.call(n,t,i):""}return i.field in t||t instanceof Array?a.j.aggregates[e.toLowerCase()](t,i.field):null}var M=null;function F(){if(null!==M)return M;var e=document.createElement("div"),t=0;return e.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(e),t=e.offsetWidth-e.clientWidth|0,document.body.removeChild(e),M=t}function D(e,t){if(t&&void 0!==r)return r;if(void 0!==n)return n;var i=(0,s.az)("table",{className:g.Kz,attrs:{role:"grid"}});i.style.visibility="hidden",i.innerHTML='<tr><td class="e-rowcell">A<td></tr>',e.appendChild(i);var o=i.querySelector("td").getBoundingClientRect();return(e.removeChild(i),r=o.height,n=Math.ceil(o.height),t)?r:n}function z(e){return e.split(".").length>1}function L(e){var t=(0,s.Ys)("#"+e.element.id+"EditConfirm",e.element);return"Batch"===e.editSettings.mode&&((0,s.td)(".e-updatedtd",e.element).length||(0,s.td)(".e-gridform.e-formvalidator",e.element).length)&&e.editSettings.showConfirmDialog&&(!t||t.classList.contains("e-popup-close"))}function P(e,t){var i="e-wrap";e=e instanceof Array?e:[e];for(var n=0;n<e.length;n++)t?e[parseInt(n.toString(),10)].classList.add(i):e[parseInt(n.toString(),10)].classList.remove(i)}function B(e,t){var i,n=e.getService("valueFormatter");switch(("date"===t.type||"datetime"===t.type||"dateonly"===t.type)&&(i={type:"dateonly"===t.type?"date":t.type,skeleton:t.format},"string"==typeof t.format&&"yMd"!==t.format&&(i.format=t.format)),t.type){case"date":case"dateonly":case"datetime":t.setFormatter(n.getFormatFunction(i)),t.setParser(n.getParserFunction(i));break;case"number":t.setFormatter(n.getFormatFunction({format:t.format})),t.setParser(n.getParserFunction({format:t.format}))}}function O(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];for(var r=0,o=e.length;r<o;r++)t?((0,s.s1)(e[parseInt(r.toString(),10)],i.slice(),[]),e[parseInt(r.toString(),10)].setAttribute("aria-selected","true")):((0,s.s1)(e[parseInt(r.toString(),10)],[],i.slice()),e[parseInt(r.toString(),10)].removeAttribute("aria-selected"))}function q(e,t){var i=t.element.style.display;t.element.style.display="block";var n=t.width,r=(0,d.O)(e,t.element);t.element.style.display=i,t.element.style.top=r.top+e.getBoundingClientRect().height-5+"px";var o=r.left-n+e.clientWidth;o<1?t.element.style.left=n+o-16+"px":t.element.style.left=o+-4+"px"}function H(e){var t=e.querySelector(".e-frame"),i=t.previousSibling;t.classList.contains("e-check")?(i.checked=!1,(0,s.s1)(t,["e-uncheck"],["e-check"])):(i.checked=!0,(0,s.s1)(t,["e-check"],["e-uncheck"]))}function N(e,t){e.checked=t}function V(e,t,i){var n=(0,s.az)("div",{className:i});return n.appendChild(t),n.setAttribute("uid",e),n}function j(e,t){(0,s.IV)([e],["e-check","e-stop","e-uncheck"]),t?e.classList.add("e-check"):e.classList.add("e-uncheck")}function _(e,t,i){for(var n=0;n<((0,s.le)(t)?0:t.length);n++)(0,s.sO)(t[parseInt(n.toString(),10)].field,G(t[parseInt(n.toString(),10)],i),e.foreignKeyData);for(var r=e.cells,n=0;n<r.length;n++)r[parseInt(n.toString(),10)].isForeignKey&&(0,s.sO)("foreignKeyData",(0,s.NA)(r[parseInt(n.toString(),10)].column.field,e.foreignKeyData),r[parseInt(n.toString(),10)])}function G(e,t,i,n){var r=e.foreignKeyField,o=(0,s.le)(i)?m(e.field,t,e):i;o=(0,s.le)(o)?"":o;var a=new l.A,c=n||(e.dataSource instanceof h.h&&e.dataSource.dataSource.json.length?e.dataSource.dataSource.json:e.columnData);return o.getDay?a.where(U({field:r,operator:"equal",value:o,matchCase:!1})):a.where(r,"==",o,!1),new h.h(c).executeLocal(a)}function W(e,t){var i;return t.some(function(t){return i=t,t.foreignKeyValue===e})&&i}function K(e){return e<10?"0"+e:String(e)}function U(e,t,i){var n,r,o,a=(0,s.l7)({},I(e)),h=(0,s.l7)({},I(e));if((0,s.le)(e.value)||""===e.value)return new l.$(a.field,a.operator,a.value,!1);var c=new Date(e.value);if("dateonly"!==t||i){if(e.operator=e.operator.toLowerCase(),"equal"===e.operator||"notequal"===e.operator){"datetime"===t?(r=new Date(c.setSeconds(c.getSeconds()-1)),o=new Date(c.setSeconds(c.getSeconds()+2)),e.value=new Date(c.setSeconds(o.getSeconds()-1))):(r=new Date(c.setHours(0)-1),o=new Date(c.setHours(24))),a.value=r,h.value=o,"equal"===e.operator?(a.operator="greaterthan",h.operator="lessthan"):"notequal"===e.operator&&(a.operator="lessthanorequal",h.operator="greaterthanorequal");var p=new l.$(a.field,a.operator,a.value,!1),d=new l.$(h.field,h.operator,h.value,!1);n="equal"===e.operator?p.and(d):p.or(d)}else{"date"===t&&("lessthanorequal"===e.operator||"greaterthan"===e.operator)&&(a.value=new Date(c.setHours(24)-1)),"string"==typeof a.value&&(a.value=new Date(a.value));var u=new l.$(a.field,a.operator,a.value,!1);n=u}}else{"string"==typeof a.value&&(a.value=new Date(a.value));var g=a.value.getFullYear()+"-"+K(a.value.getMonth()+1)+"-"+K(a.value.getDate()),u=new l.$(a.field,a.operator,g,!1);n=u}return e.setProperties?e.setProperties({ejpredicate:n},!0):e.ejpredicate=n,n}function Z(e){return e.enableVirtualization&&e.groupSettings.columns.length>0&&e.isVirtualAdaptive&&!e.groupSettings.enableLazyLoading}function Y(e,t){if(void 0===e&&(e=""),e){for(var i=t,n=e.split("."),r=0;r<n.length&&!(0,s.le)(i);r++)if(i=i[n[parseInt(r.toString(),10)]],(0,s.o8)(i)){var o=n[parseInt(r.toString(),10)].charAt(0).toUpperCase()+n[parseInt(r.toString(),10)].slice(1);i=t[""+o]||t[(""+o).charAt(0).toLowerCase()+(""+o).slice(1)]}return i}}function Q(e,t,i,n){var r=e||{},o=arguments.length;n&&(o-=1);for(var a=1;a<o;a++)if(arguments[parseInt(a.toString(),10)])for(var l=arguments[parseInt(a.toString(),10)],h=Object.keys(Object.getPrototypeOf(l)).length?Object.keys(l).concat(function(e){for(var t=[];Object.getPrototypeOf(e)&&Object.keys(Object.getPrototypeOf(e)).length;)t=t.concat(Object.keys(Object.getPrototypeOf(e))),e=Object.getPrototypeOf(e);return t}(l)):Object.keys(l),c=0;c<h.length;c++){var p=r[h[parseInt(c.toString(),10)]],d=l[h[parseInt(c.toString(),10)]],u=void 0;n&&((0,s.Kn)(d)||Array.isArray(d))?(0,s.Kn)(d)?(u=p||{},r[h[parseInt(c.toString(),10)]]=(0,s.l7)({},u,d,n)):(u=p||[],r[h[parseInt(c.toString(),10)]]=(0,s.l7)([],u,d,n)):r[h[parseInt(c.toString(),10)]]=d}return r}function X(e){for(var t=0,i=0;i<((0,s.le)(e)?0:e.length);i++){var n=function e(t,i){var n=i,r=[];if(t.columns){i++;for(var o=0;o<t.columns.length;o++)r[parseInt(o.toString(),10)]=e(t.columns[parseInt(o.toString(),10)],i);for(var s=0;s<r.length;s++)n<r[parseInt(s.toString(),10)]&&(n=r[parseInt(s.toString(),10)]);i=n}return i}(e[parseInt(i.toString(),10)],0);t<n&&(t=n)}return t+1}function $(e,t){for(var i=0;i<t.length;i++)t[parseInt(i.toString(),10)].uid=t[parseInt(i.toString(),10)].isForeignKey?W(t[parseInt(i.toString(),10)].field,e.getForeignKeyColumns()).uid:e.enableColumnVirtualization?function(e,t){var i;e.columnModel||e.getColumns();for(var n=0,r=e.columnModel;n<r.length;n++){var o=r[n];if(o.field===t){i=o;break}}return i}(e,t[parseInt(i.toString(),10)].field).uid:e.getColumnByField(t[parseInt(i.toString(),10)].field).uid}function J(e){var t=document.defaultView.getComputedStyle(e,null).getPropertyValue("transform").replace(/,/g,"");return{width:parseFloat(t.split(" ")[4]),height:parseFloat(t.split(" ")[5])}}function ee(e){var t=e.getContent().firstElementChild;return t.scrollWidth>t.offsetWidth?F():0}function et(e,t){var i=0,n=e.getColumns(),r=30*t;e.isRowDragable()&&(i++,r+=30),i+=e.groupSettings.columns.length-t,r+=30*(e.groupSettings.columns.length-t);for(var o=("auto"===e.width?e.element.offsetWidth:-1!==e.width.toString().indexOf("%")?e.element.getBoundingClientRect().width:parseInt(e.width.toString(),10))-ee(e),s=0;s<n.length;s++)if(n[parseInt(s.toString(),10)].visible&&(r+=parseInt(n[parseInt(s.toString(),10)].width.toString(),10),i++),r>o){i--;break}return i}function ei(e,t){for(var i=0,n=0,r=t.getVisibleFrozenLeftCount(),o=0;o<e.childNodes.length;o++){var s=e.childNodes[parseInt(o.toString(),10)];if(r===n)break;if((s.classList.contains("e-groupcaption")||s.classList.contains("e-summarycell"))&&(n+=parseInt(s.getAttribute("colspan"),10)),s.classList.add("e-leftfreeze"),s.classList.contains("e-groupcaption")&&1===parseInt(s.getAttribute("colspan"),10)&&s.classList.add("e-freezeleftborder"),ep(s,i,t.enableRtl,"Left"),(s.classList.contains("e-indentcell")||s.classList.contains("e-recordplusexpand")||s.classList.contains("e-recordpluscollapse"))&&(i+=30),s.classList.contains("e-groupcaption")){var a=parseInt(s.getAttribute("colspan"),10);t.isRowDragable()&&(a--,i+=30),a-=t.groupSettings.columns.length-o,i+=30*(t.groupSettings.columns.length-o);for(var l=t.getColumns(),h=0;h<l.length;h++){if(parseInt(s.getAttribute("colspan"),10)>1&&parseInt(l[parseInt(h.toString(),10)].width.toString(),10)+i>parseInt(t.width.toString(),10)-ee(t)){var c=et(t,o);s.setAttribute("colspan",c.toString());break}if(l[parseInt(h.toString(),10)].visible&&(i+=parseInt(l[parseInt(h.toString(),10)].width.toString(),10),a--),0===a)break}}if(s.classList.contains("e-summarycell")){var p=s.getAttribute("e-mappinguid");i+=parseInt(t.getColumnByUid(p).width.toString(),10)}}}function en(e,t){var i,n,r=(i=new c.lM,n=new h.h({url:"",adaptor:new c.lM}),JSON.parse(i.processQuery(n,t).data)),o=new h.B;return r.dataSource=o.resolve,r.action=e,{state:r,deffered:o}}function er(e){for(var t=e.getVisibleColumns(),i=0,n=0,r=0;r<t.length;r++)(0,s.o8)(t[parseInt(r.toString(),10)].width)?n++:-1!==t[parseInt(r.toString(),10)].width.toString().indexOf("%")&&i++;return("auto"===e.width||"string"==typeof e.width&&-1!==e.width.indexOf("%"))&&!e.groupSettings.showGroupedColumn&&e.groupSettings.columns.length&&i&&!n}function eo(e,t,i,n,r){for(var o=n||0,s=r||0;s<t.length;s++)if(t[parseInt(s.toString(),10)]&&t[parseInt(s.toString(),10)].isDataRow){t[parseInt(s.toString(),10)].index=o,t[parseInt(s.toString(),10)].isAltRow=!!e.enableAltRow&&o%2!=0,i[parseInt(s.toString(),10)].setAttribute(g._x,(o+1).toString()),t[parseInt(s.toString(),10)].isAltRow?i[parseInt(s.toString(),10)].classList.add("e-altrow"):i[parseInt(s.toString(),10)].classList.remove("e-altrow");for(var a=0;a<i[parseInt(s.toString(),10)].cells.length;a++)i[parseInt(s.toString(),10)].cells[parseInt(a.toString(),10)].setAttribute("index",o.toString());o++}t.length||e.renderModule.emptyRow(!0)}function es(e,t,i,n){var r=e.dataToBeUpdated[""+i].concat(t[""+i]).reduce(function(e,t){return e[t[""+n]]=void 0===e[t[""+n]]?t:Object.assign(e[t[""+n]],t),e},{});e.dataToBeUpdated[""+i]=Object.keys(r).map(function(e){return r[""+e]})}function ea(e){if(e.enableInfiniteScrolling&&(e.childGrid||e.detailTemplate)){e.contentModule.rowElements=[].slice.call(e.getContentTable().rows).filter(function(e){return(e.classList.contains("e-row")||e.classList.contains("e-detailrow"))&&!e.classList.contains("e-addedrow")});return}e.contentModule.rowElements=[].slice.call(e.element.querySelectorAll(".e-row:not(.e-addedrow):not(.e-cloneproperties .e-row)"))}function el(e,t){var i=e.createElement("div",{className:"e-grid-popup",id:e.element.id+"_e-popup"}),n=(0,d.k)(e.element,"left","Top");document.getElementById(e.element.id+"_e-popup")&&(i=document.getElementById(e.element.id+"_e-popup")),i.style.top=n.top+"px",i.style.left=n.left+"px",i.style.zIndex=t.zIndex.toString(),i.style.width=t.element.offsetWidth+"px",i.appendChild(t.element);var r=x(e.element,"sb-demo-section")||x(e.element,"e-grid-dialog-fixed");if(r){var o=(0,d.O)(e.element,r);i.style.top=o.top+"px",i.style.left=o.left+"px",r.insertBefore(i,r.firstChild)}else document.body.insertBefore(i,document.body.firstChild)}function eh(e,t){var i=[];return i.push(e.uid),function e(t,i){for(var n=0;n<t.columns.length;n++)t.columns[parseInt(n.toString(),10)].uid&&i.push(t.columns[parseInt(n.toString(),10)].uid),t.columns[parseInt(n.toString(),10)].columns&&t.columns[parseInt(n.toString(),10)].columns.length&&e(t.columns[parseInt(n.toString(),10)],i)}(e,i),i.indexOf(t)>-1}function ec(e){if(e.querySelector(".e-fixedfreeze"))for(var t=[].slice.call(e.querySelectorAll(".e-filterbarcell:not(.e-hide),.e-summarycell:not(.e-hide),.e-headercell:not(.e-hide),.e-rowcell:not(.e-hide)")),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].classList.contains("e-fixedfreeze")&&(!t[i-1]||t[i-1]&&!t[i-1].classList.contains("e-fixedfreeze"))&&t[parseInt(i.toString(),10)].classList.add("e-freezeleftborder"),t[parseInt(i.toString(),10)].classList.contains("e-fixedfreeze")&&(!t[i+1]||t[i+1]&&!t[i+1].classList.contains("e-fixedfreeze"))&&t[parseInt(i.toString(),10)].classList.add("e-freezerightborder")}function ep(e,t,i,n){"Left"===n&&(i?e.style.right=t+"px":e.style.left=t+"px"),"Right"===n&&(i?e.style.left=t+"px":e.style.right=t+"px")}function ed(e,t,i,n){var r=e.getColumns(),o=t.index;if("Left"===t.freeze&&"Left"!==t.border){for(var s=o+(n-1);!1===r[parseInt(s.toString(),10)].visible;)s++;"Left"===r[parseInt(s.toString(),10)].border&&i.classList.add("e-freezeleftborder")}else if("Right"===t.freeze||"Fixed"===t.freeze){for(var a=0,l=o+1;l<o+n&&l!==r.length;l++)r[parseInt(l.toString(),10)].visible?a+=parseInt(r[parseInt(l.toString(),10)].width.toString(),10):n++;e.enableRtl?i.style.left=parseInt(i.style.left,10)-a+"px":i.style.right=parseInt(i.style.right,10)-a+"px"}}function eu(e,t,i){for(var n=e.getRowByIndex(t),r=0;r<n.cells.length;r++)if(parseInt(n.cells[parseInt(r.toString(),10)].getAttribute("aria-colindex").toString(),10)-1===i)return n.cells[parseInt(r.toString(),10)];return null}function eg(e,t,i){if("Left"===t.freeze||t.isFrozen){if(i.classList.add("e-leftfreeze"),"Left"===t.border&&i.classList.add("e-freezeleftborder"),0===t.index)ep(i,30*e.getIndentCount(),e.enableRtl,"Left"),e.enableColumnVirtualization&&(t.valueX=30*e.getIndentCount());else{for(var n=e.getColumns(),r=30*e.getIndentCount(),o=0;o<n.length&&t.uid!==n[parseInt(o.toString(),10)].uid;o++)n[parseInt(o.toString(),10)].visible&&(r+=parseFloat(n[parseInt(o.toString(),10)].width.toString()));ep(i,r,e.enableRtl,"Left"),e.enableColumnVirtualization&&(t.valueX=r)}}else if("Right"===t.freeze){i.classList.add("e-rightfreeze");var n=e.getColumns();if("Right"===t.border&&i.classList.add("e-freezerightborder"),t.index===n[n.length-1].index){var r="Right"===e.getFrozenMode()&&e.isRowDragable()?30:0;ep(i,r,e.enableRtl,"Right"),e.enableColumnVirtualization&&(t.valueX=r)}else{for(var r="Right"===e.getFrozenMode()&&e.isRowDragable()?30:0,o=n.length-1;o>=0&&t.uid!==n[parseInt(o.toString(),10)].uid;o--)n[parseInt(o.toString(),10)].visible&&(r+=parseFloat(n[parseInt(o.toString(),10)].width.toString()));ep(i,r,e.enableRtl,"Right"),e.enableColumnVirtualization&&(t.valueX=r)}}else if("Fixed"===t.freeze){i.classList.add("e-fixedfreeze");var n=e.getColumns(),r=0;e.getVisibleFrozenLeftCount()?r=30*e.getIndentCount():"Right"===e.getFrozenMode()&&(r=30*e.groupSettings.columns.length);for(var o=0;o<n.length&&t.uid!==n[parseInt(o.toString(),10)].uid;o++)("Left"===n[parseInt(o.toString(),10)].freeze||n[parseInt(o.toString(),10)].isFrozen||"Fixed"===n[parseInt(o.toString(),10)].freeze)&&n[parseInt(o.toString(),10)].visible&&(r+=parseFloat(n[parseInt(o.toString(),10)].width.toString()));ep(i,r-1,e.enableRtl,"Left"),r="Right"===e.getFrozenMode()&&e.isRowDragable()?30:0;for(var o=n.length-1;o>=0&&t.uid!==n[parseInt(o.toString(),10)].uid;o--)("Right"===n[parseInt(o.toString(),10)].freeze||"Fixed"===n[parseInt(o.toString(),10)].freeze)&&n[parseInt(o.toString(),10)].visible&&(r+=parseFloat(n[parseInt(o.toString(),10)].width.toString()));ep(i,r-1,e.enableRtl,"Right")}else i.classList.add("e-unfreeze")}function ef(e,t,i){return[].slice.call(e.getDataRows()[parseInt(i.toString(),10)].getElementsByClassName(g.PO))}function em(e,t,i,n){return ef(e,t,i)[parseInt(n.toString(),10)]}function ey(e,t,i,n){var r,o=new s.eC;if("number"===t)try{r=o.getNumberPattern({format:e,currency:n,useGrouping:!0},!0)}catch(t){r=e}else if("date"===t||"time"===t||"datetime"===t)try{if(r=o.getDatePattern({skeleton:e,type:t},i),(0,s.le)(r))throw"error"}catch(n){try{r=o.getDatePattern({format:e,type:t},i)}catch(t){r=e}}else r=e;if("number"!==t){var a={G:"",H:"h",c:"d","'":'"'," a":" AM/PM",yy:"yy",y:"yyyy",EEEE:"dddd",E:"ddd"};r=r.replace(/G|H|c|'| a|yy|y|EEEE|E/g,function(e){return a[""+e]})}return r}function ev(e){if(e.enableAdaptiveUI)for(var t=document.getElementsByClassName("e-responsive-dialog"),i=0;i<t.length;i++)t[parseInt(i.toString(),10)].classList.add("e-bigger")}function eS(e,t){for(var i,n=e.split(".").length,r=e.split("."),o=t,s=0;s<n;s++)o=i=o[r[parseInt(s.toString(),10)]];return i}function eC(e,t,i,n,r,o){for(var a=Object.keys(e),l=t,h=0;h<a.length;h++){var c=e[a[parseInt(h.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)];if(r&&!r.isFrozenGrid()&&!r.isRowDragable()){if(c=!(0,s.le)(c)&&(parseInt(c.getAttribute("aria-colindex"),10)-1===t||x(c,"e-addedrow")&&c.parentElement.childNodes[parseInt(t.toString(),10)]===c)?c:e[parseInt(h.toString(),10)].querySelector('td[aria-colindex="'+(t+1)+'"]'),(0,s.le)(c))continue;t=r.getContentTable().querySelector(".e-detailrowcollapse, .e-detailrowexpand")?c.cellIndex-1:c.cellIndex}if(e[a[parseInt(h.toString(),10)]].querySelectorAll("td.e-rowcell").length&&c){if((0,s.V7)(e[a[parseInt(h.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)],{display:i}),e[a[parseInt(h.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)].classList.contains("e-hide")&&(0,s.IV)([e[a[parseInt(h.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)]],["e-hide"]),o&&r.isRowDragable()||r&&r.isDetail()){var p=t+1;n[a[parseInt(h.toString(),10)]].cells[parseInt(p.toString(),10)].visible=""===i}else(0,s.le)(n[a[parseInt(h.toString(),10)]])||(n[a[parseInt(h.toString(),10)]].cells[parseInt(t.toString(),10)].visible=""===i,!1===n[a[parseInt(h.toString(),10)]].cells[parseInt(t.toString(),10)].visible&&e[a[parseInt(h.toString(),10)]].querySelectorAll("td.e-rowcell")[parseInt(t.toString(),10)].classList.add("e-hide"));t=l}}}function eb(e,t,i,n){for(var r=0;r<t.length;r++){var o=t[r];i?e.on(o.event,o.handler,n):e.off(o.event,o.handler)}}function ew(e,t){e.destroyTemplate(t),e.isReact&&e.renderTemplates()}function eI(e){for(var t=0;t<e.length;t++)(0,s.Od)(e[t])}function ex(e,t){for(var i=0;i<e.length;i++)t.insertBefore(e[i],t.children[i])}function eR(e,t){var i=t?(0,s.az)("li",{className:"e-cclist"}):(0,s.az)("div",{className:"e-ftrchk"});i.style.visibility="hidden",t&&(i.style.listStyle="none"),i.innerHTML=t?'<div class="e-ccheck"><div class="e-checkbox-wrapper"><span class="e-frame e-icons e-check"></span><span class="e-label">A</span></div></div>':'<div class="e-checkbox-wrapper"><span class="e-frame e-icons e-check"></span><span class="e-label e-checkboxfiltertext">A</div></span>',e.appendChild(i);var n=i.getBoundingClientRect();return e.removeChild(i),Math.round(n.height)}function ek(e,t,i){var n=!1;if(i)for(var r=t[0];r<e.length;r++)for(var o=e[parseInt(r.toString(),10)],s=0;s<o.length;s++){if(n&&1===e[parseInt(r.toString(),10)][parseInt(s.toString(),10)])return[r,s];n||t.toString()!==[r,s].toString()||(n=!0)}else for(var r=t[0];r>=0;r--)for(var o=e[parseInt(r.toString(),10)],s=o.length-1;s>=0;s--){if(n&&1===e[parseInt(r.toString(),10)][parseInt(s.toString(),10)])return[r,s];n||t.toString()!==[r,s].toString()||(n=!0)}return t}(o||(o={})).timer=null},4120:(e,t,i)=>{i.d(t,{sg:()=>c});var n=i(5883),r=i(5287),o=i(3831),s=i(1464),a=i(7388),l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),h=function(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},c=function(){function e(e,t){var i=this;this.disableHtmlEncode=!0,this.allowSorting=!0,this.allowResizing=!0,this.allowFiltering=!0,this.allowGrouping=!0,this.allowReordering=!0,this.showColumnMenu=!0,this.enableGroupByFormat=!1,this.allowEditing=!0,this.filter={},this.showInColumnChooser=!0,this.edit={},this.allowSearching=!0,this.autoFit=!1,this.sortDirection="Descending",this.getEditTemplate=function(){return i.editTemplateFn},this.getFilterTemplate=function(){return i.filterTemplateFn},this.templateOptions={enableAriaLabel:!0},(0,n.TS)(this,e),this.parent=t,"none"===this.type?this.type=null:this.type&&(this.type="string"==typeof this.type?this.type.toLowerCase():void 0),this.editType&&(this.editType=this.editType.toLowerCase()),(0,n.le)(this.uid)&&(this.uid=(0,a.sq)("grid-column"));var l=new s.K;if(e.format&&(e.format.skeleton||e.format.format&&"string"==typeof e.format.format)&&(this.setFormatter(l.getFormatFunction((0,n.l7)({},e.format))),this.setParser(l.getParserFunction(e.format))),this.toJSON=function(){for(var e={},t=["filter","dataSource","headerText","template","headerTemplate","edit","editTemplate","filterTemplate","commandsTemplate","parent"],n=Object.keys(i),r=0;r<n.length;r++)if("columns"===n[parseInt(r.toString(),10)]){e[n[parseInt(r.toString(),10)]]=[];for(var o=0;o<i[n[parseInt(r.toString(),10)]].length;o++)e[n[parseInt(r.toString(),10)]].push(i[n[parseInt(r.toString(),10)]][parseInt(o.toString(),10)].toJSON())}else 0>t.indexOf(n[parseInt(r.toString(),10)])&&(e[n[parseInt(r.toString(),10)]]=i[n[parseInt(r.toString(),10)]]);return e},!this.field&&(this.allowFiltering=!1,this.allowGrouping=!1,this.allowSorting=!1,this.columns&&(this.allowResizing=this.columns.some(function(e){return e.allowResizing}))),this.commands&&!this.textAlign&&(this.textAlign="Right"),(this.template||this.commandsTemplate)&&(this.templateFn=(0,a.cK)(this.template||this.commandsTemplate)),this.headerTemplate&&(this.headerTemplateFn=(0,a.cK)(this.headerTemplate)),!(0,n.le)(this.filter)&&this.filter.itemTemplate&&(this.fltrTemplateFn=(0,a.cK)(this.filter.itemTemplate)),this.editTemplate&&(this.editTemplateFn=(0,a.cK)(this.editTemplate)),this.filterTemplate&&(this.filterTemplateFn=(0,a.cK)(this.filterTemplate)),this.isForeignColumn()&&((0,n.le)(this.editType)||"dropdownedit"===this.editType||"defaultedit"===this.editType)&&(this.editType="dropdownedit",this.edit.params&&this.edit.params.dataSource&&(this.edit.params.ddEditedData=!0),this.edit.params=(0,n.l7)({dataSource:this.dataSource,query:new r.A,fields:{value:this.foreignKeyField||this.field,text:this.foreignKeyValue}},this.edit.params)),this.sortComparer){var h=this.sortComparer;this.sortComparer=function(e,t,n,r){if("string"==typeof h&&(h=(0,a.RK)(h,window)),"Descending"===i.sortDirection){var o=e;e=t,t=o;var s=n;n=r,r=s}return h(e,t,n,r)}}!this.sortComparer&&this.isForeignColumn()&&(this.sortComparer=function(e,t){return e=(0,a.RK)(i.foreignKeyValue,(0,a.aI)(i,{},e)[0]),t=(0,a.RK)(i.foreignKeyValue,(0,a.aI)(i,{},t)[0]),"Descending"===i.sortDirection?o.j.fnDescending(e,t):o.j.fnAscending(e,t)})}return e.prototype.getSortDirection=function(){return this.sortDirection},e.prototype.setSortDirection=function(e){this.sortDirection=e},e.prototype.getFreezeTableName=function(){return this.freezeTable},e.prototype.setProperties=function(e){for(var t=Object.keys(e),i=this,n=0;n<t.length;n++)!function(n){if("columns"===t[parseInt(n.toString(),10)])for(var r=e[t[parseInt(n.toString(),10)]],o=function(e){i.columns.find(function(t){return t.field===r[parseInt(e.toString(),10)].field}).setProperties(r[parseInt(e.toString(),10)])},s=0;s<r.length;s++)o(s);else i[t[parseInt(n.toString(),10)]]=e[t[parseInt(n.toString(),10)]];i.parent&&i.parent.isReact&&("template"===t[parseInt(n.toString(),10)]?(i.templateFn=(0,a.cK)(e[t[parseInt(n.toString(),10)]]),i.parent.refreshReactColumnTemplateByUid(i.uid,!0)):"headerTemplate"===t[parseInt(n.toString(),10)]?(i.headerTemplateFn=(0,a.cK)(e[t[parseInt(n.toString(),10)]]),i.parent.refreshReactHeaderTemplateByUid(i.uid)):"editTemplate"===t[parseInt(n.toString(),10)]?i.editTemplateFn=(0,a.cK)(e[t[parseInt(n.toString(),10)]]):"filterTemplate"===t[parseInt(n.toString(),10)]?i.filterTemplateFn=(0,a.cK)(e[t[parseInt(n.toString(),10)]]):"commandsTemplate"===t[parseInt(n.toString(),10)]&&(i.templateFn=(0,a.cK)(e[t[parseInt(n.toString(),10)]])))}(n)},e.prototype.isForeignColumn=function(){return!!(this.dataSource&&this.foreignKeyValue)},e.prototype.getFormatter=function(){return this.formatFn},e.prototype.setFormatter=function(e){this.formatFn=e},e.prototype.getParser=function(){return this.parserFn},e.prototype.setParser=function(e){this.parserFn=e},e.prototype.getColumnTemplate=function(){return this.templateFn},e.prototype.getHeaderTemplate=function(){return this.headerTemplateFn},e.prototype.getFilterItemTemplate=function(){return this.fltrTemplateFn},e.prototype.getDomSetter=function(){return this.disableHtmlEncode?"textContent":"innerHTML"},e}();(function(){function e(){}h([(0,n.Z9)()],e.prototype,"title",void 0),h([(0,n.Z9)()],e.prototype,"type",void 0),h([(0,n.Z9)()],e.prototype,"buttonOption",void 0)})(),function(e){l(function(){return null!==e&&e.apply(this,arguments)||this},e)}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),h([(0,n.Z9)(null)],t.prototype,"columns",void 0),t}(c))},1464:(e,t,i)=>{i.d(t,{K:()=>r});var n=i(5883),r=function(){function e(e){this.intl=new n.eC,(0,n.le)(e)||(this.intl.culture=e)}return e.prototype.getFormatFunction=function(e){return(0,n.le)(e)||"dateTime"!==e.type&&"datetime"!==e.type&&"date"!==e.type&&"time"!==e.type?this.intl.getNumberFormat(e):this.intl.getDateFormat(e)},e.prototype.getParserFunction=function(e){return e.type?this.intl.getDateParser(e):this.intl.getNumberParser(e)},e.prototype.fromView=function(e,t,i){return"date"!==i&&"datetime"!==i&&"number"!==i||(0,n.le)(t)?e:t(e)},e.prototype.toView=function(e,t){var i=e;return(0,n.le)(t)||(0,n.le)(e)||(i=t(e)),i},e.prototype.setCulture=function(e){(0,n.le)(e)||(0,n.VY)(e)},e}()},9159:(e,t,i)=>{i.d(t,{_:()=>a});var n=i(8393),r=i(8382),o=i(5093),s=function(){var e=function(t,i){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(e){function t(t){var i=e.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!1,i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!0,i.isReactMock=!0,i.portals=[],i}return s(t,e),t.prototype.render=function(){if(this.isReactMock=!1,(!this.element||this.initRenderCalled)&&!this.refreshing||this.isReactForeceUpdate)return n.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals));e.prototype.render.call(this),this.initRenderCalled=!0},t}(r.Od);(0,o.ef)(a,[o.VZ,n.Component])}};