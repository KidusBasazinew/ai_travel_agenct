"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@syncfusion+ej2-buttons@29.1.34";
exports.ids = ["vendor-chunks/@syncfusion+ej2-buttons@29.1.34"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/button/button.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/button/button.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   IconPosition: () => (/* binding */ IconPosition),\n/* harmony export */   buttonObserver: () => (/* binding */ buttonObserver)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"(ssr)/./node_modules/.pnpm/@syncfusion+ej2-base@29.1.36/node_modules/@syncfusion/ej2-base/index.js\");\n/* harmony import */ var _common_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/common */ \"(ssr)/./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/common/common.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\n/**\n * Defines the icon position of button.\n */\nvar IconPosition;\n(function (IconPosition) {\n    /**\n     * Positions the Icon at the left of the text content in the Button.\n     */\n    IconPosition[\"Left\"] = \"Left\";\n    /**\n     * Positions the Icon at the right of the text content in the Button.\n     */\n    IconPosition[\"Right\"] = \"Right\";\n    /**\n     * Positions the Icon at the top of the text content in the Button.\n     */\n    IconPosition[\"Top\"] = \"Top\";\n    /**\n     * Positions the Icon at the bottom of the text content in the Button.\n     */\n    IconPosition[\"Bottom\"] = \"Bottom\";\n})(IconPosition || (IconPosition = {}));\nvar buttonObserver = new _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Observer();\nvar cssClassName = {\n    RTL: 'e-rtl',\n    BUTTON: 'e-btn',\n    PRIMARY: 'e-primary',\n    ICONBTN: 'e-icon-btn'\n};\n/**\n * The Button is a graphical user interface element that triggers an event on its click action. It can contain a text, an image, or both.\n * ```html\n * <button id=\"button\">Button</button>\n * ```\n * ```typescript\n * <script>\n * var btnObj = new Button();\n * btnObj.appendTo(\"#button\");\n * </script>\n * ```\n */\nvar Button = /** @class */ (function (_super) {\n    __extends(Button, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param  {ButtonModel} options - Specifies the button model\n     * @param  {string|HTMLButtonElement} element - Specifies the target element\n     */\n    function Button(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Button.prototype.preRender = function () {\n        // pre render code snippets\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Button.prototype.render = function () {\n        this.initialize();\n        this.removeRippleEffect = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.rippleEffect)(this.element, { selector: '.' + cssClassName.BUTTON });\n        this.renderComplete();\n    };\n    Button.prototype.initialize = function () {\n        if (this.cssClass) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.isPrimary) {\n            this.element.classList.add(cssClassName.PRIMARY);\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isBlazor)() || ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isBlazor)() && this.getModuleName() !== 'progress-btn')) {\n            if (this.content) {\n                var tempContent = (this.enableHtmlSanitizer) ? _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.SanitizeHtmlHelper.sanitize(this.content) : this.content;\n                this.element.innerHTML = tempContent;\n            }\n            this.setIconCss();\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(cssClassName.RTL);\n        }\n        if (this.disabled) {\n            this.controlStatus(this.disabled);\n        }\n        else {\n            this.wireEvents();\n        }\n    };\n    Button.prototype.controlStatus = function (disabled) {\n        this.element.disabled = disabled;\n    };\n    Button.prototype.setIconCss = function () {\n        if (this.iconCss) {\n            var span = this.createElement('span', { className: 'e-btn-icon ' + this.iconCss });\n            if (!this.element.textContent.trim()) {\n                this.element.classList.add(cssClassName.ICONBTN);\n            }\n            else {\n                span.classList.add('e-icon-' + this.iconPosition.toLowerCase());\n                if (this.iconPosition === 'Top' || this.iconPosition === 'Bottom') {\n                    this.element.classList.add('e-' + this.iconPosition.toLowerCase() + '-icon-btn');\n                }\n            }\n            var node = this.element.childNodes[0];\n            if (node && (this.iconPosition === 'Left' || this.iconPosition === 'Top')) {\n                this.element.insertBefore(span, node);\n            }\n            else {\n                this.element.appendChild(span);\n            }\n        }\n    };\n    Button.prototype.wireEvents = function () {\n        if (this.isToggle) {\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n        }\n    };\n    Button.prototype.unWireEvents = function () {\n        if (this.isToggle) {\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n        }\n    };\n    Button.prototype.btnClickHandler = function () {\n        if (this.element.classList.contains('e-active')) {\n            this.element.classList.remove('e-active');\n        }\n        else {\n            this.element.classList.add('e-active');\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Button.prototype.destroy = function () {\n        var classList = [cssClassName.PRIMARY, cssClassName.RTL, cssClassName.ICONBTN, 'e-success', 'e-info', 'e-danger',\n            'e-warning', 'e-flat', 'e-outline', 'e-small', 'e-bigger', 'e-active', 'e-round',\n            'e-top-icon-btn', 'e-bottom-icon-btn'];\n        if (this.cssClass) {\n            classList = classList.concat(this.cssClass.split(/\\s+/).filter(function (c) { return c.length > 0; }));\n        }\n        _super.prototype.destroy.call(this);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], classList);\n        if (!this.element.getAttribute('class')) {\n            this.element.removeAttribute('class');\n        }\n        if (this.disabled) {\n            this.element.removeAttribute('disabled');\n        }\n        if (this.content) {\n            this.element.innerHTML = this.element.innerHTML.replace(this.content, '');\n        }\n        var span = this.element.querySelector('span.e-btn-icon');\n        if (span) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(span);\n        }\n        this.unWireEvents();\n        if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isRippleEnabled) {\n            this.removeRippleEffect();\n        }\n    };\n    /**\n     * Get component name.\n     *\n     * @returns {string} - Module name\n     * @private\n     */\n    Button.prototype.getModuleName = function () {\n        return 'btn';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist Data\n     * @private\n     */\n    Button.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Dynamically injects the required modules to the component.\n     *\n     * @private\n     * @returns {void}\n     */\n    Button.Inject = function () {\n        // Inject code snippets\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param  {ButtonModel} newProp - Specifies new properties\n     * @param  {ButtonModel} oldProp - Specifies old properties\n     * @returns {void}\n     * @private\n     */\n    Button.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var span = this.element.querySelector('span.e-btn-icon');\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isPrimary':\n                    if (newProp.isPrimary) {\n                        this.element.classList.add(cssClassName.PRIMARY);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.PRIMARY);\n                    }\n                    break;\n                case 'disabled':\n                    this.controlStatus(newProp.disabled);\n                    break;\n                case 'iconCss': {\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        if (newProp.iconCss) {\n                            span.className = 'e-btn-icon ' + newProp.iconCss;\n                            if (this.element.textContent.trim()) {\n                                if (this.iconPosition === 'Left') {\n                                    span.classList.add('e-icon-left');\n                                }\n                                else {\n                                    span.classList.add('e-icon-right');\n                                }\n                            }\n                        }\n                        else {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(span);\n                        }\n                    }\n                    else {\n                        this.setIconCss();\n                    }\n                    break;\n                }\n                case 'iconPosition':\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], ['e-top-icon-btn', 'e-bottom-icon-btn']);\n                    span = this.element.querySelector('span.e-btn-icon');\n                    if (span) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(span);\n                    }\n                    this.setIconCss();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], oldProp.cssClass.split(/\\s+/).filter(function (c) { return c.length > 0; }));\n                    }\n                    if (newProp.cssClass) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(cssClassName.RTL);\n                    }\n                    else {\n                        this.element.classList.remove(cssClassName.RTL);\n                    }\n                    break;\n                case 'content': {\n                    var node = (0,_common_common__WEBPACK_IMPORTED_MODULE_1__.getTextNode)(this.element);\n                    if (!node) {\n                        this.element.classList.remove(cssClassName.ICONBTN);\n                    }\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isBlazor)() || ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isBlazor)() && !this.isServerRendered && this.getModuleName() !== 'progress-btn')) {\n                        if (this.enableHtmlSanitizer) {\n                            newProp.content = _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.SanitizeHtmlHelper.sanitize(newProp.content);\n                        }\n                        this.element.innerHTML = newProp.content;\n                        this.setIconCss();\n                    }\n                    break;\n                }\n                case 'isToggle':\n                    if (newProp.isToggle) {\n                        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(this.element, 'click', this.btnClickHandler, this);\n                    }\n                    else {\n                        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.element, 'click', this.btnClickHandler);\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], ['e-active']);\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Click the button element\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    Button.prototype.click = function () {\n        this.element.click();\n    };\n    /**\n     * Sets the focus to Button\n     * its native method\n     *\n     * @public\n     * @returns {void}\n     */\n    Button.prototype.focusIn = function () {\n        this.element.focus();\n    };\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('Left')\n    ], Button.prototype, \"iconPosition\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], Button.prototype, \"iconCss\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Button.prototype, \"disabled\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Button.prototype, \"isPrimary\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], Button.prototype, \"cssClass\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], Button.prototype, \"content\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Button.prototype, \"isToggle\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)()\n    ], Button.prototype, \"locale\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(true)\n    ], Button.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], Button.prototype, \"created\", void 0);\n    Button = __decorate([\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.NotifyPropertyChanges\n    ], Button);\n    return Button;\n}(_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHN5bmNmdXNpb24rZWoyLWJ1dHRvbnNAMjkuMS4zNC9ub2RlX21vZHVsZXMvQHN5bmNmdXNpb24vZWoyLWJ1dHRvbnMvc3JjL2J1dHRvbi9idXR0b24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQzZHO0FBQ2pDO0FBQ29CO0FBQ2pEO0FBQy9DO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsb0NBQW9DO0FBQzlCLHlCQUF5QiwwREFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGFBQWE7QUFDN0IsZ0JBQWdCLDBCQUEwQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxrRUFBWSxpQkFBaUIscUNBQXFDO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw4REFBUTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsOERBQVEsT0FBTyw4REFBUTtBQUNwQztBQUNBLCtEQUErRCxv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USwyREFBSztBQUNiO0FBQ0E7QUFDQSxRQUFRLHVFQUFxQjtBQUM3QjtBQUNBO0FBQ0EsQ0FBQyxDQUFDLDJEQUFTO0FBQ08iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haV90cmF2ZWwvLi9ub2RlX21vZHVsZXMvLnBucG0vQHN5bmNmdXNpb24rZWoyLWJ1dHRvbnNAMjkuMS4zNC9ub2RlX21vZHVsZXMvQHN5bmNmdXNpb24vZWoyLWJ1dHRvbnMvc3JjL2J1dHRvbi9idXR0b24uanM/NjM1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IFByb3BlcnR5LCBOb3RpZnlQcm9wZXJ0eUNoYW5nZXMsIENvbXBvbmVudCwgaXNCbGF6b3IsIGlzUmlwcGxlRW5hYmxlZCB9IGZyb20gJ0BzeW5jZnVzaW9uL2VqMi1iYXNlJztcbmltcG9ydCB7IGFkZENsYXNzLCBFdmVudCwgZGV0YWNoLCByZW1vdmVDbGFzcyB9IGZyb20gJ0BzeW5jZnVzaW9uL2VqMi1iYXNlJztcbmltcG9ydCB7IHJpcHBsZUVmZmVjdCwgRXZlbnRIYW5kbGVyLCBPYnNlcnZlciwgU2FuaXRpemVIdG1sSGVscGVyIH0gZnJvbSAnQHN5bmNmdXNpb24vZWoyLWJhc2UnO1xuaW1wb3J0IHsgZ2V0VGV4dE5vZGUgfSBmcm9tICcuLi9jb21tb24vY29tbW9uJztcbi8qKlxuICogRGVmaW5lcyB0aGUgaWNvbiBwb3NpdGlvbiBvZiBidXR0b24uXG4gKi9cbmV4cG9ydCB2YXIgSWNvblBvc2l0aW9uO1xuKGZ1bmN0aW9uIChJY29uUG9zaXRpb24pIHtcbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbnMgdGhlIEljb24gYXQgdGhlIGxlZnQgb2YgdGhlIHRleHQgY29udGVudCBpbiB0aGUgQnV0dG9uLlxuICAgICAqL1xuICAgIEljb25Qb3NpdGlvbltcIkxlZnRcIl0gPSBcIkxlZnRcIjtcbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbnMgdGhlIEljb24gYXQgdGhlIHJpZ2h0IG9mIHRoZSB0ZXh0IGNvbnRlbnQgaW4gdGhlIEJ1dHRvbi5cbiAgICAgKi9cbiAgICBJY29uUG9zaXRpb25bXCJSaWdodFwiXSA9IFwiUmlnaHRcIjtcbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbnMgdGhlIEljb24gYXQgdGhlIHRvcCBvZiB0aGUgdGV4dCBjb250ZW50IGluIHRoZSBCdXR0b24uXG4gICAgICovXG4gICAgSWNvblBvc2l0aW9uW1wiVG9wXCJdID0gXCJUb3BcIjtcbiAgICAvKipcbiAgICAgKiBQb3NpdGlvbnMgdGhlIEljb24gYXQgdGhlIGJvdHRvbSBvZiB0aGUgdGV4dCBjb250ZW50IGluIHRoZSBCdXR0b24uXG4gICAgICovXG4gICAgSWNvblBvc2l0aW9uW1wiQm90dG9tXCJdID0gXCJCb3R0b21cIjtcbn0pKEljb25Qb3NpdGlvbiB8fCAoSWNvblBvc2l0aW9uID0ge30pKTtcbmV4cG9ydCB2YXIgYnV0dG9uT2JzZXJ2ZXIgPSBuZXcgT2JzZXJ2ZXIoKTtcbnZhciBjc3NDbGFzc05hbWUgPSB7XG4gICAgUlRMOiAnZS1ydGwnLFxuICAgIEJVVFRPTjogJ2UtYnRuJyxcbiAgICBQUklNQVJZOiAnZS1wcmltYXJ5JyxcbiAgICBJQ09OQlROOiAnZS1pY29uLWJ0bidcbn07XG4vKipcbiAqIFRoZSBCdXR0b24gaXMgYSBncmFwaGljYWwgdXNlciBpbnRlcmZhY2UgZWxlbWVudCB0aGF0IHRyaWdnZXJzIGFuIGV2ZW50IG9uIGl0cyBjbGljayBhY3Rpb24uIEl0IGNhbiBjb250YWluIGEgdGV4dCwgYW4gaW1hZ2UsIG9yIGJvdGguXG4gKiBgYGBodG1sXG4gKiA8YnV0dG9uIGlkPVwiYnV0dG9uXCI+QnV0dG9uPC9idXR0b24+XG4gKiBgYGBcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIDxzY3JpcHQ+XG4gKiB2YXIgYnRuT2JqID0gbmV3IEJ1dHRvbigpO1xuICogYnRuT2JqLmFwcGVuZFRvKFwiI2J1dHRvblwiKTtcbiAqIDwvc2NyaXB0PlxuICogYGBgXG4gKi9cbnZhciBCdXR0b24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJ1dHRvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvciBmb3IgY3JlYXRpbmcgdGhlIHdpZGdldFxuICAgICAqXG4gICAgICogQHBhcmFtICB7QnV0dG9uTW9kZWx9IG9wdGlvbnMgLSBTcGVjaWZpZXMgdGhlIGJ1dHRvbiBtb2RlbFxuICAgICAqIEBwYXJhbSAge3N0cmluZ3xIVE1MQnV0dG9uRWxlbWVudH0gZWxlbWVudCAtIFNwZWNpZmllcyB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCdXR0b24ob3B0aW9ucywgZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucywgZWxlbWVudCkgfHwgdGhpcztcbiAgICB9XG4gICAgQnV0dG9uLnByb3RvdHlwZS5wcmVSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHByZSByZW5kZXIgY29kZSBzbmlwcGV0c1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgY29udHJvbCByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQnV0dG9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLnJlbW92ZVJpcHBsZUVmZmVjdCA9IHJpcHBsZUVmZmVjdCh0aGlzLmVsZW1lbnQsIHsgc2VsZWN0b3I6ICcuJyArIGNzc0NsYXNzTmFtZS5CVVRUT04gfSk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29tcGxldGUoKTtcbiAgICB9O1xuICAgIEJ1dHRvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3NzQ2xhc3MpIHtcbiAgICAgICAgICAgIGFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCB0aGlzLmNzc0NsYXNzLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCkuc3BsaXQoJyAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNQcmltYXJ5KSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUuUFJJTUFSWSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0JsYXpvcigpIHx8IChpc0JsYXpvcigpICYmIHRoaXMuZ2V0TW9kdWxlTmFtZSgpICE9PSAncHJvZ3Jlc3MtYnRuJykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcENvbnRlbnQgPSAodGhpcy5lbmFibGVIdG1sU2FuaXRpemVyKSA/IFNhbml0aXplSHRtbEhlbHBlci5zYW5pdGl6ZSh0aGlzLmNvbnRlbnQpIDogdGhpcy5jb250ZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0ZW1wQ29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZVJ0bCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY3NzQ2xhc3NOYW1lLlJUTCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbFN0YXR1cyh0aGlzLmRpc2FibGVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud2lyZUV2ZW50cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdXR0b24ucHJvdG90eXBlLmNvbnRyb2xTdGF0dXMgPSBmdW5jdGlvbiAoZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgfTtcbiAgICBCdXR0b24ucHJvdG90eXBlLnNldEljb25Dc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmljb25Dc3MpIHtcbiAgICAgICAgICAgIHZhciBzcGFuID0gdGhpcy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdlLWJ0bi1pY29uICcgKyB0aGlzLmljb25Dc3MgfSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWxlbWVudC50ZXh0Q29udGVudC50cmltKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUuSUNPTkJUTik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2UtaWNvbi0nICsgdGhpcy5pY29uUG9zaXRpb24udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaWNvblBvc2l0aW9uID09PSAnVG9wJyB8fCB0aGlzLmljb25Qb3NpdGlvbiA9PT0gJ0JvdHRvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2UtJyArIHRoaXMuaWNvblBvc2l0aW9uLnRvTG93ZXJDYXNlKCkgKyAnLWljb24tYnRuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLmVsZW1lbnQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgIGlmIChub2RlICYmICh0aGlzLmljb25Qb3NpdGlvbiA9PT0gJ0xlZnQnIHx8IHRoaXMuaWNvblBvc2l0aW9uID09PSAnVG9wJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHNwYW4sIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBCdXR0b24ucHJvdG90eXBlLndpcmVFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVG9nZ2xlKSB7XG4gICAgICAgICAgICBFdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5idG5DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdXR0b24ucHJvdG90eXBlLnVuV2lyZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNUb2dnbGUpIHtcbiAgICAgICAgICAgIEV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmJ0bkNsaWNrSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1dHRvbi5wcm90b3R5cGUuYnRuQ2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZS1hY3RpdmUnKSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2UtYWN0aXZlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZS1hY3RpdmUnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhlIHdpZGdldC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIEJ1dHRvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsYXNzTGlzdCA9IFtjc3NDbGFzc05hbWUuUFJJTUFSWSwgY3NzQ2xhc3NOYW1lLlJUTCwgY3NzQ2xhc3NOYW1lLklDT05CVE4sICdlLXN1Y2Nlc3MnLCAnZS1pbmZvJywgJ2UtZGFuZ2VyJyxcbiAgICAgICAgICAgICdlLXdhcm5pbmcnLCAnZS1mbGF0JywgJ2Utb3V0bGluZScsICdlLXNtYWxsJywgJ2UtYmlnZ2VyJywgJ2UtYWN0aXZlJywgJ2Utcm91bmQnLFxuICAgICAgICAgICAgJ2UtdG9wLWljb24tYnRuJywgJ2UtYm90dG9tLWljb24tYnRuJ107XG4gICAgICAgIGlmICh0aGlzLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBjbGFzc0xpc3QuY29uY2F0KHRoaXMuY3NzQ2xhc3Muc3BsaXQoL1xccysvKS5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubGVuZ3RoID4gMDsgfSkpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICByZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgY2xhc3NMaXN0KTtcbiAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MLnJlcGxhY2UodGhpcy5jb250ZW50LCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi5lLWJ0bi1pY29uJyk7XG4gICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICBkZXRhY2goc3Bhbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bldpcmVFdmVudHMoKTtcbiAgICAgICAgaWYgKGlzUmlwcGxlRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVSaXBwbGVFZmZlY3QoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGNvbXBvbmVudCBuYW1lLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBNb2R1bGUgbmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQnV0dG9uLnByb3RvdHlwZS5nZXRNb2R1bGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ2J0bic7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHByb3BlcnRpZXMgdG8gYmUgbWFpbnRhaW5lZCBpbiB0aGUgcGVyc2lzdGVkIHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBQZXJzaXN0IERhdGFcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJ1dHRvbi5wcm90b3R5cGUuZ2V0UGVyc2lzdERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9uUGVyc2lzdChbXSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEeW5hbWljYWxseSBpbmplY3RzIHRoZSByZXF1aXJlZCBtb2R1bGVzIHRvIHRoZSBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIEJ1dHRvbi5JbmplY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEluamVjdCBjb2RlIHNuaXBwZXRzXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaW50ZXJuYWxseSBpZiBhbnkgb2YgdGhlIHByb3BlcnR5IHZhbHVlIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtCdXR0b25Nb2RlbH0gbmV3UHJvcCAtIFNwZWNpZmllcyBuZXcgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSAge0J1dHRvbk1vZGVsfSBvbGRQcm9wIC0gU3BlY2lmaWVzIG9sZCBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCdXR0b24ucHJvdG90eXBlLm9uUHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld1Byb3AsIG9sZFByb3ApIHtcbiAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi5lLWJ0bi1pY29uJyk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhuZXdQcm9wKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gX2FbX2ldO1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaXNQcmltYXJ5JzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuaXNQcmltYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUuUFJJTUFSWSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzc05hbWUuUFJJTUFSWSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGlzYWJsZWQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xTdGF0dXMobmV3UHJvcC5kaXNhYmxlZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ljb25Dc3MnOiB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi5lLWJ0bi1pY29uJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcC5pY29uQ3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5jbGFzc05hbWUgPSAnZS1idG4taWNvbiAnICsgbmV3UHJvcC5pY29uQ3NzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmljb25Qb3NpdGlvbiA9PT0gJ0xlZnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2UtaWNvbi1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ2UtaWNvbi1yaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWNoKHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJY29uQ3NzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2ljb25Qb3NpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbJ2UtdG9wLWljb24tYnRuJywgJ2UtYm90dG9tLWljb24tYnRuJ10pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uZS1idG4taWNvbicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Bhbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWNoKHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjc3NDbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRQcm9wLmNzc0NsYXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgb2xkUHJvcC5jc3NDbGFzcy5zcGxpdCgvXFxzKy8pLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5sZW5ndGggPiAwOyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuY3NzQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCBuZXdQcm9wLmNzc0NsYXNzLnJlcGxhY2UoL1xccysvZywgJyAnKS50cmltKCkuc3BsaXQoJyAnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW5hYmxlUnRsJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Byb3AuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzc05hbWUuUlRMKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzTmFtZS5SVEwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbnRlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub2RlID0gZ2V0VGV4dE5vZGUodGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjc3NDbGFzc05hbWUuSUNPTkJUTik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0JsYXpvcigpIHx8IChpc0JsYXpvcigpICYmICF0aGlzLmlzU2VydmVyUmVuZGVyZWQgJiYgdGhpcy5nZXRNb2R1bGVOYW1lKCkgIT09ICdwcm9ncmVzcy1idG4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlSHRtbFNhbml0aXplcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3AuY29udGVudCA9IFNhbml0aXplSHRtbEhlbHBlci5zYW5pdGl6ZShuZXdQcm9wLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IG5ld1Byb3AuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWNvbkNzcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdpc1RvZ2dsZSc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wLmlzVG9nZ2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2NsaWNrJywgdGhpcy5idG5DbGlja0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuYnRuQ2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbJ2UtYWN0aXZlJ10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbGljayB0aGUgYnV0dG9uIGVsZW1lbnRcbiAgICAgKiBpdHMgbmF0aXZlIG1ldGhvZFxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIEJ1dHRvbi5wcm90b3R5cGUuY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGljaygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZm9jdXMgdG8gQnV0dG9uXG4gICAgICogaXRzIG5hdGl2ZSBtZXRob2RcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBCdXR0b24ucHJvdG90eXBlLmZvY3VzSW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5mb2N1cygpO1xuICAgIH07XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KCdMZWZ0JylcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImljb25Qb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnJylcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImljb25Dc3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJkaXNhYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImlzUHJpbWFyeVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnJylcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImNzc0NsYXNzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KCcnKVxuICAgIF0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiY29udGVudFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImlzVG9nZ2xlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KClcbiAgICBdLCBCdXR0b24ucHJvdG90eXBlLCBcImxvY2FsZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSh0cnVlKVxuICAgIF0sIEJ1dHRvbi5wcm90b3R5cGUsIFwiZW5hYmxlSHRtbFNhbml0aXplclwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBFdmVudCgpXG4gICAgXSwgQnV0dG9uLnByb3RvdHlwZSwgXCJjcmVhdGVkXCIsIHZvaWQgMCk7XG4gICAgQnV0dG9uID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5vdGlmeVByb3BlcnR5Q2hhbmdlc1xuICAgIF0sIEJ1dHRvbik7XG4gICAgcmV0dXJuIEJ1dHRvbjtcbn0oQ29tcG9uZW50KSk7XG5leHBvcnQgeyBCdXR0b24gfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/button/button.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/chips/chip-list.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/chips/chip-list.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChipList: () => (/* binding */ ChipList),\n/* harmony export */   classNames: () => (/* binding */ classNames)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"(ssr)/./node_modules/.pnpm/@syncfusion+ej2-base@29.1.36/node_modules/@syncfusion/ej2-base/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\n\nvar classNames = {\n    chipSet: 'e-chip-set',\n    chip: 'e-chip',\n    avatar: 'e-chip-avatar',\n    text: 'e-chip-text',\n    icon: 'e-chip-icon',\n    delete: 'e-chip-delete',\n    deleteIcon: 'e-dlt-btn',\n    multiSelection: 'e-multi-selection',\n    singleSelection: 'e-selection',\n    active: 'e-active',\n    chipWrapper: 'e-chip-avatar-wrap',\n    iconWrapper: 'e-chip-icon-wrap',\n    focused: 'e-focused',\n    disabled: 'e-disabled',\n    rtl: 'e-rtl',\n    template: 'e-chip-template',\n    chipList: 'e-chip-list',\n    customIcon: 'e-icons',\n    chipDrag: 'e-chip-drag',\n    dragAndDrop: 'e-drag-and-drop',\n    dropRestricted: 'e-error-treeview',\n    cloneChip: 'e-clone-chip',\n    dragIndicator: 'e-drag-indicator'\n};\n/**\n * A chip component is a small block of essential information, mostly used on contacts or filter tags.\n * ```html\n * <div id=\"chip\"></div>\n * ```\n * ```typescript\n * <script>\n * var chipObj = new ChipList();\n * chipObj.appendTo(\"#chip\");\n * </script>\n * ```\n */\nvar ChipList = /** @class */ (function (_super) {\n    __extends(ChipList, _super);\n    function ChipList(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.multiSelectedChip = [];\n        return _this;\n    }\n    ChipList_1 = ChipList;\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     */\n    ChipList.prototype.preRender = function () {\n        //prerender\n    };\n    /**\n     * To find the chips length.\n     *\n     * @returns boolean\n     * @private\n     */\n    ChipList.prototype.chipType = function () {\n        return (this.chips && this.chips.length && this.chips.length > 0);\n    };\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns void\n     * @private\n     */\n    ChipList.prototype.render = function () {\n        this.type = (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.chips) && this.chips.length) ? 'chipset' : (this.text || this.element.innerText ? 'chip' : 'chipset');\n        this.setAttributes();\n        this.createChip();\n        this.setRtl();\n        this.select(this.selectedChips);\n        this.wireEvent(false);\n        this.rippleFunction = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.rippleEffect)(this.element, {\n            selector: '.' + classNames.chip\n        });\n        this.renderComplete();\n        this.dragCollection = [];\n        if (this.allowDragAndDrop) {\n            this.enableDraggingChips();\n        }\n    };\n    ChipList.prototype.enableDraggingChips = function () {\n        var _this = this;\n        var clonedChipElement;\n        var chipElements = this.element.querySelectorAll('.' + classNames.chip);\n        chipElements.forEach(function (chip, index) {\n            _this.dragObj = new _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Draggable(chip, {\n                preventDefault: false,\n                clone: true,\n                dragArea: _this.dragArea,\n                helper: function () {\n                    clonedChipElement = chip.cloneNode(true);\n                    clonedChipElement.classList.add(classNames.cloneChip);\n                    _this.element.appendChild(clonedChipElement);\n                    return clonedChipElement;\n                },\n                dragStart: function (args) {\n                    _this.dragIndicator = _this.createElement('div', { className: classNames.dragIndicator });\n                    document.body.appendChild(_this.dragIndicator);\n                    var chipData = _this.find(args.element);\n                    var dragStartArgs = {\n                        cancel: false,\n                        event: args.event,\n                        draggedItem: args.element,\n                        draggedItemData: chipData,\n                        dropTarget: null\n                    };\n                    _this.trigger('dragStart', dragStartArgs, function () {\n                        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(dragStartArgs.cancel)) {\n                            dragStartArgs.cancel = false;\n                        }\n                    });\n                    if (!dragStartArgs.cancel) {\n                        clonedChipElement.setAttribute('drag-indicator-index', index.toString());\n                    }\n                    else {\n                        _this.dragObj.intDestroy(args.event);\n                    }\n                },\n                drag: function (args) {\n                    var chipData = _this.find(args.element);\n                    var draggingArgs = {\n                        event: args.event,\n                        draggedItem: args.element,\n                        draggedItemData: chipData,\n                        dropTarget: null\n                    };\n                    _this.trigger('dragging', draggingArgs);\n                    var draggingIconEle = clonedChipElement.querySelector('.' + classNames.chipDrag);\n                    if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(draggingIconEle)) {\n                        draggingIconEle = _this.createElement('span', { className: classNames.customIcon + \" \" + classNames.dragAndDrop + \" \" + classNames.chipDrag });\n                        clonedChipElement.prepend(draggingIconEle);\n                    }\n                    _this.allowExternalDragging(args, clonedChipElement, draggingIconEle);\n                },\n                dragStop: function (args) {\n                    var chipData = _this.find(args.element);\n                    var dragStopArgs = {\n                        cancel: false,\n                        event: args.event,\n                        draggedItem: args.element,\n                        draggedItemData: chipData,\n                        dropTarget: args.target\n                    };\n                    _this.trigger('dragStop', dragStopArgs, function () {\n                        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(dragStopArgs.cancel)) {\n                            dragStopArgs.cancel = false;\n                        }\n                    });\n                    if (!dragStopArgs.cancel) {\n                        _this.allowExternalDrop(args, clonedChipElement);\n                    }\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(_this.dragIndicator)) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(_this.dragIndicator);\n                    }\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(clonedChipElement)) {\n                        clonedChipElement.remove();\n                    }\n                }\n            });\n            if (_this.dragCollection.indexOf(_this.dragObj) === -1) {\n                _this.dragCollection.push(_this.dragObj);\n            }\n        });\n    };\n    ChipList.prototype.checkInstance = function (args, context) {\n        var isInstanceMatched = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.target.closest('.' + classNames.chipList)) &&\n            args.target.closest('.' + classNames.chipList).id !== context.element.id;\n        if (isInstanceMatched) {\n            this.updatedInstance = args.target.closest('.' + classNames.chipList);\n        }\n        return isInstanceMatched;\n    };\n    ChipList.prototype.setIcons = function (currentInstance, draggingIconEle, target, indicatorEle, outOfDragArea) {\n        var isTargetInside = currentInstance.element.contains(target);\n        var isDroppable = target.closest('.e-droppable');\n        if ((isTargetInside || isDroppable) && !outOfDragArea) {\n            draggingIconEle.classList.add(classNames.dragAndDrop);\n            draggingIconEle.classList.remove(classNames.dropRestricted);\n            if (isDroppable) {\n                indicatorEle.style.display = 'none';\n            }\n        }\n        else {\n            draggingIconEle.classList.remove(classNames.dragAndDrop);\n            draggingIconEle.classList.add(classNames.dropRestricted);\n            indicatorEle.style.display = 'none';\n        }\n    };\n    ChipList.prototype.allowExternalDragging = function (args, clonedChipElement, draggingIconEle) {\n        var currentInstance;\n        var closestChip = null;\n        var closestDistance = Infinity;\n        var newIndex = -1;\n        var outOfDragArea = false;\n        if (this.checkInstance(args, this)) {\n            this.dragIndicator.style.display = 'none';\n            currentInstance = this.getCurrentInstance(args);\n            currentInstance.dragIndicator = this.dragIndicator;\n            if (!currentInstance.allowDragAndDrop) {\n                return;\n            }\n        }\n        else {\n            currentInstance = this;\n        }\n        var indicatorEle = currentInstance.dragIndicator;\n        indicatorEle.style.display = 'inline';\n        outOfDragArea = this.dragAreaCheck(this.dragArea, args.target, outOfDragArea, draggingIconEle, indicatorEle);\n        this.setIcons(currentInstance, draggingIconEle, args.target, indicatorEle, outOfDragArea);\n        currentInstance.element.appendChild(clonedChipElement);\n        var droppedRect = clonedChipElement.getBoundingClientRect();\n        var allChips = Array.from(currentInstance.element.querySelectorAll('.' + classNames.chip));\n        allChips.forEach(function (chip, i) {\n            if (chip !== clonedChipElement) {\n                var rect_1 = chip.getBoundingClientRect();\n                var distance = Math.sqrt(Math.pow(droppedRect.left - rect_1.left, 2) + Math.pow(droppedRect.top - rect_1.top, 2));\n                if (distance < closestDistance) {\n                    closestDistance = distance;\n                    closestChip = chip;\n                    newIndex = i;\n                }\n            }\n        });\n        if (newIndex === -1) {\n            newIndex = allChips.length;\n        }\n        var chipsDistance = this.getChipsDistance(currentInstance);\n        var cloneRect = clonedChipElement.getBoundingClientRect();\n        var rect;\n        if (closestChip || allChips.length > 0) {\n            var targetChip = closestChip || allChips[allChips.length - 1];\n            rect = targetChip.getBoundingClientRect();\n            indicatorEle.style.top = rect.top + window.scrollY + 'px';\n            indicatorEle.style.left = currentInstance.enableRtl ? (rect.right + chipsDistance + 'px') :\n                (rect.left - chipsDistance + window.scrollX + 'px');\n        }\n        if (currentInstance.enableRtl) {\n            if (cloneRect.left < rect.left - rect.width / 2 && cloneRect.top > rect.top) {\n                indicatorEle.style.left = rect.left - chipsDistance + window.scrollX + 'px';\n            }\n        }\n        else if (cloneRect.left > rect.left + rect.width / 2 && cloneRect.top > rect.top) {\n            indicatorEle.style.left = rect.left + rect.width + chipsDistance + window.scrollX + 'px';\n        }\n    };\n    ChipList.prototype.dragAreaCheck = function (dragArea, target, outOfDragArea, draggingIconEle, indicatorEle) {\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(dragArea)) {\n            return false;\n        }\n        var isString = typeof dragArea === 'string';\n        var isHtmlElement = dragArea instanceof HTMLElement;\n        var dragAreaElement = isString ? document.querySelector(dragArea) : dragArea;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(dragAreaElement)) {\n            if ((isString || isHtmlElement) && !dragAreaElement.contains(target)) {\n                outOfDragArea = true;\n                indicatorEle.style.display = 'none';\n                draggingIconEle.classList.add(classNames.dropRestricted);\n                draggingIconEle.classList.remove(classNames.dragAndDrop);\n            }\n        }\n        return outOfDragArea;\n    };\n    ChipList.prototype.getChipsDistance = function (currentInstance) {\n        var constValue = 4;\n        if (currentInstance.chips.length <= 1) {\n            return constValue;\n        }\n        var constantDistance;\n        var firstChipClientRect = currentInstance.find(0).element.getBoundingClientRect();\n        var secondChipClientRect = currentInstance.find(1).element.getBoundingClientRect();\n        var firstChipLeft = firstChipClientRect.left;\n        if (currentInstance.enableRtl) {\n            var secondChipRight = secondChipClientRect.right;\n            constantDistance = firstChipLeft < secondChipRight ? constValue : ((firstChipLeft - secondChipRight) / 2);\n            return constantDistance;\n        }\n        else {\n            var firstChipWidth = firstChipClientRect.width;\n            var secondChipLeft = secondChipClientRect.left;\n            constantDistance = secondChipLeft < (firstChipLeft + firstChipWidth) ?\n                constValue : (secondChipLeft - (firstChipLeft + firstChipWidth)) / 2;\n            return constantDistance;\n        }\n    };\n    ChipList.prototype.getCurrentInstance = function (args) {\n        var chipContainer = args.target.closest('.' + classNames.chipList);\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(chipContainer) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(chipContainer.ej2_instances)) {\n            for (var i = 0; i < chipContainer.ej2_instances.length; i++) {\n                if (chipContainer.ej2_instances[parseInt(i.toString(), 10)] instanceof ChipList_1) {\n                    return chipContainer.ej2_instances[i];\n                }\n            }\n        }\n        return null;\n    };\n    ChipList.prototype.allowExternalDrop = function (args, clonedChipElement) {\n        var originalIndex = parseInt(clonedChipElement.getAttribute('drag-indicator-index'), 10);\n        var currentInstance;\n        var outOfDragArea = false;\n        var isInstanceChanged = false;\n        if (this.checkInstance(args, this)) {\n            isInstanceChanged = true;\n            currentInstance = this.getCurrentInstance(args);\n            if (!currentInstance.allowDragAndDrop) {\n                return;\n            }\n        }\n        else {\n            currentInstance = this;\n        }\n        var indicatorEle = currentInstance.dragIndicator;\n        indicatorEle.style.display = 'inline';\n        if (!currentInstance.element.contains(args.target)) {\n            return;\n        }\n        outOfDragArea = this.dragAreaCheck(this.dragArea, args.target, outOfDragArea, clonedChipElement.querySelector('.' + classNames.chipDrag), indicatorEle);\n        if (outOfDragArea) {\n            return;\n        }\n        var indicatorRect = indicatorEle.getBoundingClientRect();\n        var allChips = Array.from(currentInstance.element.querySelectorAll('.' + classNames.chip));\n        var newIndex = -1;\n        var topOffset = false;\n        var leftOffset = false;\n        var rightOffset = false;\n        for (var i = 0; i < allChips.length; i++) {\n            if (allChips[i] !== clonedChipElement) {\n                var chipRect = allChips[i].getBoundingClientRect();\n                topOffset = indicatorRect.top < chipRect.top + chipRect.height / 2;\n                leftOffset = indicatorRect.left < chipRect.left + chipRect.width / 2;\n                rightOffset = indicatorRect.left > chipRect.left + chipRect.width / 2;\n                if ((!currentInstance.enableRtl && topOffset && leftOffset) || (currentInstance.enableRtl && topOffset && rightOffset)) {\n                    newIndex = i;\n                    if (i > originalIndex && !isInstanceChanged) {\n                        newIndex = i - 1;\n                    }\n                    break;\n                }\n            }\n        }\n        if (newIndex === -1) {\n            var nextChipIndex = void 0;\n            for (var i = 0; i < allChips.length; i++) {\n                var chipRect = allChips[i].getBoundingClientRect();\n                if ((chipRect.top > indicatorRect.top) || (chipRect.top === indicatorRect.top && chipRect.left > indicatorRect.left)) {\n                    nextChipIndex = i;\n                    break;\n                }\n            }\n            if (nextChipIndex !== allChips.length) {\n                newIndex = nextChipIndex;\n            }\n            else {\n                newIndex = allChips.length;\n            }\n        }\n        var currentChipList = Array.from(this.chips);\n        if (isInstanceChanged) {\n            this.dropChip(currentChipList, originalIndex, currentInstance, newIndex, true);\n        }\n        else if (newIndex !== originalIndex) {\n            this.dropChip(currentChipList, originalIndex, currentInstance, newIndex, false);\n        }\n    };\n    ChipList.prototype.dropChip = function (currentChipList, originalIndex, currentInstance, newIndex, instanceChanged) {\n        var draggedChip = currentChipList.splice(originalIndex, 1)[0];\n        if (!instanceChanged) {\n            currentChipList.splice(newIndex, 0, draggedChip);\n            currentInstance.chips = currentChipList;\n        }\n        else {\n            var newChips = Array.from(currentInstance.chips);\n            newChips.splice(newIndex, 0, draggedChip);\n            currentInstance.chips = newChips;\n        }\n        this.chips = currentChipList;\n        currentInstance.dataBind();\n        this.dataBind();\n        currentInstance.enableDraggingChips();\n    };\n    ChipList.prototype.createChip = function () {\n        this.innerText = (this.element.innerText && this.element.innerText.length !== 0)\n            ? this.element.innerText.trim() : this.element.innerText;\n        this.element.innerHTML = '';\n        this.chipCreation(this.type === 'chip' ? [this.innerText ? this.innerText : this.text] : this.chips);\n    };\n    ChipList.prototype.setAttributes = function () {\n        if (this.type === 'chip') {\n            if (this.enabled) {\n                this.element.tabIndex = 0;\n            }\n            this.element.setAttribute('role', 'button');\n        }\n        else {\n            this.element.classList.add(classNames.chipSet);\n            this.element.setAttribute('role', 'listbox');\n            if (this.selection === 'Multiple') {\n                this.element.classList.add(classNames.multiSelection);\n                this.element.setAttribute('aria-multiselectable', 'true');\n            }\n            else if (this.selection === 'Single') {\n                this.element.classList.add(classNames.singleSelection);\n                this.element.setAttribute('aria-multiselectable', 'false');\n            }\n            else {\n                this.element.setAttribute('aria-multiselectable', 'false');\n            }\n        }\n    };\n    ChipList.prototype.setRtl = function () {\n        this.element.classList[this.enableRtl ? 'add' : 'remove'](classNames.rtl);\n    };\n    ChipList.prototype.renderTemplates = function () {\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    ChipList.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.compile)(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.compile)(template);\n                }\n            }\n            catch (error) {\n                return (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.compile)(template);\n            }\n        }\n        return undefined;\n    };\n    ChipList.prototype.chipCreation = function (data) {\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(data)) {\n            return;\n        }\n        var chipListArray = [];\n        var attributeArray = [];\n        for (var i = 0; i < data.length; i++) {\n            var fieldsData = this.getFieldValues(data[i]);\n            var attributesValue = fieldsData.htmlAttributes;\n            attributeArray.push(attributesValue);\n            var chipArray = this.elementCreation(fieldsData);\n            var className = (classNames.chip + ' ' + (fieldsData.enabled ? ' ' : classNames.disabled) + ' ' +\n                (fieldsData.avatarIconCss || fieldsData.avatarText ? classNames.chipWrapper : (fieldsData.leadingIconCss ?\n                    classNames.iconWrapper : ' ')) + ' ' + fieldsData.cssClass).split(' ').filter(function (css) { return css; });\n            if (!this.chipType() || this.type === 'chip') {\n                chipListArray = chipArray;\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], className);\n                this.element.setAttribute('aria-label', fieldsData.text);\n                if (fieldsData.value) {\n                    this.element.setAttribute('data-value', fieldsData.value.toString());\n                }\n            }\n            else {\n                var wrapper = this.createElement('DIV', {\n                    className: className.join(' '), attrs: {\n                        tabIndex: '0', role: 'option',\n                        'aria-label': fieldsData.text, 'aria-selected': 'false'\n                    }\n                });\n                if (this.enableDelete) {\n                    wrapper.setAttribute('aria-keyshortcuts', 'Press delete or backspace key to delete');\n                }\n                if (fieldsData.value) {\n                    wrapper.setAttribute('data-value', fieldsData.value.toString());\n                }\n                if (fieldsData.enabled) {\n                    wrapper.setAttribute('aria-disabled', 'false');\n                }\n                else {\n                    wrapper.removeAttribute('tabindex');\n                    wrapper.setAttribute('aria-disabled', 'true');\n                }\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(attributeArray[i])) {\n                    if (attributeArray.length > i && Object.keys(attributeArray[i]).length) {\n                        var htmlAttr = [];\n                        htmlAttr = (Object.keys(attributeArray[i]));\n                        for (var j = 0; j < htmlAttr.length; j++) {\n                            wrapper.setAttribute(htmlAttr[j], attributeArray[i][htmlAttr[j]]);\n                        }\n                    }\n                }\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.append)(chipArray, wrapper);\n                chipListArray.push(wrapper);\n            }\n        }\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.append)(chipListArray, this.element);\n    };\n    ChipList.prototype.getFieldValues = function (data) {\n        var chipEnabled = !(this.enabled.toString() === 'false');\n        var fields = {\n            text: typeof data === 'object' ? (data.text ? data.text.toString() : this.text.toString()) :\n                (!this.chipType() ? (this.innerText ? this.innerText : this.text.toString()) : data.toString()),\n            cssClass: typeof data === 'object' ? (data.cssClass ? data.cssClass.toString() : this.cssClass.toString()) :\n                (this.cssClass.toString()),\n            leadingIconCss: typeof data === 'object' ? (data.leadingIconCss ? data.leadingIconCss.toString() :\n                this.leadingIconCss.toString()) : (this.leadingIconCss.toString()),\n            avatarIconCss: typeof data === 'object' ? (data.avatarIconCss ? data.avatarIconCss.toString() :\n                this.avatarIconCss.toString()) : (this.avatarIconCss.toString()),\n            avatarText: typeof data === 'object' ? (data.avatarText ? data.avatarText.toString() : this.avatarText.toString()) :\n                (this.avatarText.toString()),\n            trailingIconCss: typeof data === 'object' ? (data.trailingIconCss ? data.trailingIconCss.toString() :\n                this.trailingIconCss.toString()) : (this.trailingIconCss.toString()),\n            enabled: typeof data === 'object' ? (data.enabled !== undefined ? (data.enabled.toString() === 'false' ? false : true) :\n                chipEnabled) : (chipEnabled),\n            value: typeof data === 'object' ? ((data.value ? data.value.toString() : null)) : null,\n            leadingIconUrl: typeof data === 'object' ? (data.leadingIconUrl ? data.leadingIconUrl.toString() : this.leadingIconUrl) :\n                this.leadingIconUrl,\n            trailingIconUrl: typeof data === 'object' ? (data.trailingIconUrl ? data.trailingIconUrl.toString() : this.trailingIconUrl) :\n                this.trailingIconUrl,\n            htmlAttributes: typeof data === 'object' ? (data.htmlAttributes ? data.htmlAttributes : this.htmlAttributes) : this.htmlAttributes,\n            template: typeof data === 'object' ? (data.template ? data.template : null) : null\n        };\n        return fields;\n    };\n    ChipList.prototype.elementCreation = function (fields) {\n        var chipArray = [];\n        if (fields.avatarText || fields.avatarIconCss) {\n            var className = (classNames.avatar + ' ' + fields.avatarIconCss).trim();\n            var chipAvatarElement = this.createElement('span', { className: className });\n            chipAvatarElement.innerText = fields.avatarText;\n            chipArray.push(chipAvatarElement);\n        }\n        else if (fields.leadingIconCss) {\n            var className = (classNames.icon + ' ' + fields.leadingIconCss).trim();\n            var chipIconElement = this.createElement('span', { className: className });\n            chipArray.push(chipIconElement);\n        }\n        else if (fields.leadingIconUrl) {\n            var className = (classNames.avatar + ' ' + 'image-url').trim();\n            var chipIconElement = this.createElement('span', { className: className });\n            chipIconElement.style.backgroundImage = 'url(' + fields.leadingIconUrl + ')';\n            chipArray.push(chipIconElement);\n        }\n        var chipTextElement = this.createElement('span', { className: classNames.text });\n        chipTextElement.innerText = fields.text;\n        chipArray.push(chipTextElement);\n        if (fields.template) {\n            var templateWrapper = this.createElement('div', { className: classNames.template });\n            var templateContent = this.templateParser(fields.template)(fields, this, 'template', this.element.id + '_template', false);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.append)(templateContent, templateWrapper);\n            chipArray.push(templateWrapper);\n            this.renderTemplates();\n        }\n        if (fields.trailingIconCss || (this.chipType() && this.enableDelete)) {\n            var className = (classNames.delete + ' ' +\n                (fields.trailingIconCss ? fields.trailingIconCss : classNames.deleteIcon)).trim();\n            var chipdeleteElement = this.createElement('span', { className: className });\n            chipArray.push(chipdeleteElement);\n        }\n        else if (fields.trailingIconUrl) {\n            var className = ('trailing-icon-url').trim();\n            var chipIconsElement = this.createElement('span', { className: className });\n            chipIconsElement.style.backgroundImage = 'url(' + fields.trailingIconUrl + ')';\n            chipArray.push(chipIconsElement);\n        }\n        return chipArray;\n    };\n    /**\n     * A function that finds chip based on given input.\n     *\n     * @param  {number | HTMLElement } fields - We can pass index number or element of chip.\n     * {% codeBlock src='chips/find/index.md' %}{% endcodeBlock %}\n     *\n     *  @returns {void}\n     */\n    ChipList.prototype.find = function (fields) {\n        var chipData = { text: '', index: -1, element: this.element, data: '' };\n        var chipElement = fields instanceof HTMLElement ?\n            fields : this.element.querySelectorAll('.' + classNames.chip)[fields];\n        if (chipElement && this.chipType()) {\n            chipData.index = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.chip)).indexOf(chipElement);\n            var chip = this.chips[chipData.index];\n            if (typeof chip === 'object' && chip !== null) {\n                var chipModel = chip;\n                if (chipModel.text !== undefined) {\n                    chipData.text = chipModel.text.toString();\n                }\n            }\n            else if (chip !== undefined) {\n                chipData.text = chip.toString();\n            }\n            chipData.data = chip;\n            chipData.element = chipElement;\n        }\n        return chipData;\n    };\n    /**\n     * Allows adding the chip item(s) by passing a single or array of string, number, or ChipModel values.\n     *\n     * @param  {string[] | number[] | ChipModel[] | string | number | ChipModel} chipsData - We can pass array of string or\n     *  array of number or array of chip model or string data or number data or chip model.\n     * {% codeBlock src='chips/add/index.md' %}{% endcodeBlock %}\n     *\n     * @returns {void}\n\n     */\n    ChipList.prototype.add = function (chipsData) {\n        var _a;\n        if (this.type !== 'chip') {\n            var fieldData = chipsData instanceof Array ?\n                chipsData : [chipsData];\n            this.chips = (_a = [].slice.call(this.chips)).concat.apply(_a, fieldData);\n            this.chipCreation(fieldData);\n        }\n    };\n    /**\n     * Allows selecting the chip item(s) by passing a single or array of string, number, or ChipModel values.\n     *\n     * @param  {number | number[] | HTMLElement | HTMLElement[]} fields - We can pass number or array of number\n     *  or chip element or array of chip element.\n     * {% codeBlock src='chips/select/index.md' %}{% endcodeBlock %}\n     *\n     *  @returns {void}\n     */\n    ChipList.prototype.select = function (fields, selectionType) {\n        this.onSelect(fields, false, selectionType);\n    };\n    ChipList.prototype.multiSelection = function (newProp) {\n        var items = this.element.querySelectorAll('.' + classNames.chip);\n        for (var j = 0; j < newProp.length; j++) {\n            if (typeof newProp[j] === 'string') {\n                for (var k = 0; k < items.length; k++) {\n                    if (newProp[j] !== k) {\n                        if (newProp[j] === items[k].attributes[5].value) {\n                            this.multiSelectedChip.push(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                this.multiSelectedChip.push(newProp[j]);\n            }\n        }\n    };\n    ChipList.prototype.onSelect = function (fields, callFromProperty, selectionType) {\n        var index;\n        var chipNodes;\n        var chipValue = null;\n        if (this.chipType() && this.selection !== 'None') {\n            if (callFromProperty) {\n                var chipElements = this.element.querySelectorAll('.' + classNames.chip);\n                for (var i = 0; i < chipElements.length; i++) {\n                    chipElements[i].setAttribute('aria-selected', 'false');\n                    chipElements[i].classList.remove(classNames.active);\n                }\n            }\n            var fieldData = fields instanceof Array ? fields : [fields];\n            for (var i = 0; i < fieldData.length; i++) {\n                var chipElement = fieldData[i] instanceof HTMLElement ? fieldData[i]\n                    : this.element.querySelectorAll('.' + classNames.chip)[fieldData[i]];\n                if (selectionType !== 'index') {\n                    for (var j = 0; j < this.chips.length; j++) {\n                        chipNodes = this.element.querySelectorAll('.' + classNames.chip)[j];\n                        var fieldsData = this.getFieldValues(this.chips[j]);\n                        if (selectionType === 'value') {\n                            if (fieldsData.value !== null) {\n                                chipValue = chipNodes.dataset.value;\n                            }\n                        }\n                        else if (selectionType === 'text') {\n                            chipValue = chipNodes.innerText;\n                        }\n                        if (chipValue === fieldData[i].toString()) {\n                            index = j;\n                            chipElement = this.element.querySelectorAll('.' + classNames.chip)[index];\n                        }\n                    }\n                }\n                if (chipElement instanceof HTMLElement) {\n                    this.selectionHandler(chipElement);\n                }\n            }\n        }\n    };\n    /**\n     * Allows removing the chip item(s) by passing a single or array of string, number, or ChipModel values.\n     *\n     * @param  {number | number[] | HTMLElement | HTMLElement[]} fields - We can pass number or array of number\n     *  or chip element or array of chip element.\n     * {% codeBlock src='chips/remove/index.md' %}{% endcodeBlock %}\n     *\n     *  @returns {void}\n     */\n    ChipList.prototype.remove = function (fields) {\n        var _this = this;\n        if (this.chipType()) {\n            var fieldData = fields instanceof Array ? fields : [fields];\n            var chipElements_1 = [];\n            var chipCollection_1 = this.element.querySelectorAll('.' + classNames.chip);\n            fieldData.forEach(function (data) {\n                var chipElement = data instanceof HTMLElement ? data\n                    : chipCollection_1[data];\n                if (chipElement instanceof HTMLElement) {\n                    chipElements_1.push(chipElement);\n                }\n            });\n            chipElements_1.forEach(function (element) {\n                var chips = _this.element.querySelectorAll('.' + classNames.chip);\n                var index = Array.prototype.slice.call(chips).indexOf(element);\n                _this.deleteHandler(element, index);\n            });\n        }\n    };\n    /**\n     * Returns the selected chip(s) data.\n     * {% codeBlock src='chips/getSelectedChips/index.md' %}{% endcodeBlock %}\n     *\n     *  @returns {void}\n     */\n    ChipList.prototype.getSelectedChips = function () {\n        var selectedChips;\n        if (this.chipType() && this.selection !== 'None') {\n            var selectedItems = { texts: [], Indexes: [], data: [], elements: [] };\n            var items = this.element.querySelectorAll('.' + classNames.active);\n            for (var i = 0; i < items.length; i++) {\n                var chip = items[i];\n                selectedItems.elements.push(chip);\n                var index = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.chip)).indexOf(chip);\n                selectedItems.Indexes.push(index);\n                selectedItems.data.push(this.chips[index]);\n                var text = typeof this.chips[index] === 'object' ?\n                    this.chips[index].text ? this.chips[index].text\n                        : null : this.chips[index].toString();\n                selectedItems.texts.push(text);\n            }\n            var selectedItem = {\n                text: selectedItems.texts[0], index: selectedItems.Indexes[0],\n                data: selectedItems.data[0], element: selectedItems.elements[0]\n            };\n            selectedChips = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(selectedItem.index) ?\n                (this.selection === 'Multiple' ? selectedItems : selectedItem) : undefined;\n        }\n        return selectedChips;\n    };\n    ChipList.prototype.wireEvent = function (unWireEvent) {\n        if (!unWireEvent) {\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(this.element, 'click', this.clickHandler, this);\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(this.element, 'focusout', this.focusOutHandler, this);\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(this.element, 'keydown', this.keyHandler, this);\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(this.element, 'keyup', this.keyHandler, this);\n        }\n        else {\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.element, 'click', this.clickHandler);\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.element, 'focusout', this.focusOutHandler);\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.element, 'keydown', this.keyHandler);\n            _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.element, 'keyup', this.keyHandler);\n        }\n    };\n    ChipList.prototype.keyHandler = function (e) {\n        if (e.target.classList.contains(classNames.chip)) {\n            if (e.type === 'keydown') {\n                if (e.keyCode === 13 || e.keyCode === 32) {\n                    this.clickHandler(e);\n                }\n                else if ((e.keyCode === 46 || e.keyCode === 8) && this.enableDelete) {\n                    this.clickHandler(e, true);\n                }\n            }\n            else if (e.keyCode === 9) {\n                this.focusInHandler(e.target);\n            }\n        }\n    };\n    ChipList.prototype.focusInHandler = function (chipWrapper) {\n        if (!chipWrapper.classList.contains(classNames.focused)) {\n            chipWrapper.classList.add(classNames.focused);\n        }\n    };\n    ChipList.prototype.focusOutHandler = function (e) {\n        var chipWrapper = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, '.' + classNames.chip);\n        var focusedElement = !this.chipType() ? (this.element.classList.contains(classNames.focused) ?\n            this.element : null) : this.element.querySelector('.' + classNames.focused);\n        if (chipWrapper && focusedElement) {\n            focusedElement.classList.remove(classNames.focused);\n        }\n    };\n    ChipList.prototype.clickHandler = function (e, del) {\n        var _this = this;\n        if (del === void 0) { del = false; }\n        var chipWrapper = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, '.' + classNames.chip);\n        if (chipWrapper) {\n            var chipDataArgs = void 0;\n            if (this.chipType()) {\n                chipDataArgs = this.find(chipWrapper);\n            }\n            else {\n                var index = Array.prototype.slice.call(this.element.querySelectorAll('.' + classNames.chip)).indexOf(chipWrapper);\n                chipDataArgs = {\n                    text: this.innerText ? this.innerText : this.text,\n                    element: chipWrapper, data: this.text, index: index\n                };\n            }\n            chipDataArgs.event = e;\n            chipDataArgs.cancel = false;\n            this.trigger('beforeClick', chipDataArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.clickEventHandler(observedArgs.element, e, del);\n                }\n            });\n        }\n    };\n    ChipList.prototype.clickEventHandler = function (chipWrapper, e, del) {\n        var _this = this;\n        if (this.chipType()) {\n            var chipData_1 = this.find(chipWrapper);\n            chipData_1.event = e;\n            var deleteElement = e.target.classList.contains(classNames.deleteIcon) ?\n                e.target : (del ? chipWrapper.querySelector('.' + classNames.deleteIcon) : undefined);\n            if (deleteElement && this.enableDelete) {\n                chipData_1.cancel = false;\n                var deletedItemArgs = chipData_1;\n                this.trigger('delete', deletedItemArgs, function (observedArgs) {\n                    if (!observedArgs.cancel) {\n                        _this.deleteHandler(observedArgs.element, observedArgs.index);\n                        _this.selectionHandler(chipWrapper);\n                        chipData_1.selected = observedArgs.element.classList.contains(classNames.active);\n                        var selectedItemArgs = chipData_1;\n                        _this.trigger('click', selectedItemArgs);\n                        var chipElement = _this.element.querySelectorAll('.' + classNames.chip)[observedArgs.index];\n                        if (chipElement) {\n                            chipElement.focus();\n                            _this.focusInHandler(chipElement);\n                        }\n                    }\n                });\n            }\n            else if (this.selection !== 'None') {\n                this.selectionHandler(chipWrapper);\n                chipData_1.selected = chipWrapper.classList.contains(classNames.active);\n                var selectedItemArgs = chipData_1;\n                this.trigger('click', selectedItemArgs);\n            }\n            else {\n                this.focusInHandler(chipWrapper);\n                var clickedItemArgs = chipData_1;\n                this.trigger('click', clickedItemArgs);\n            }\n        }\n        else {\n            this.focusInHandler(chipWrapper);\n            var clickedItemArgs = {\n                text: this.innerText ? this.innerText : this.text,\n                element: chipWrapper, data: this.text, event: e\n            };\n            this.trigger('click', clickedItemArgs);\n        }\n    };\n    ChipList.prototype.selectionHandler = function (chipWrapper) {\n        if (this.selection === 'Single') {\n            var activeElement = this.element.querySelector('.' + classNames.active);\n            if (activeElement && activeElement !== chipWrapper) {\n                activeElement.classList.remove(classNames.active);\n                activeElement.setAttribute('aria-selected', 'false');\n            }\n            this.setProperties({ selectedChips: null }, true);\n        }\n        else {\n            this.setProperties({ selectedChips: [] }, true);\n        }\n        if (chipWrapper.classList.contains(classNames.active)) {\n            chipWrapper.classList.remove(classNames.active);\n            chipWrapper.setAttribute('aria-selected', 'false');\n        }\n        else {\n            chipWrapper.classList.add(classNames.active);\n            chipWrapper.setAttribute('aria-selected', 'true');\n        }\n        this.updateSelectedChips();\n    };\n    ChipList.prototype.updateSelectedChips = function () {\n        var chipListEle = this.element.querySelectorAll('.' + classNames.chip);\n        var chipCollIndex = [];\n        var chipCollValue = [];\n        var chip = null;\n        var value = null;\n        for (var i = 0; i < chipListEle.length; i++) {\n            var selectedEle = this.element.querySelectorAll('.' + classNames.chip)[i];\n            if (selectedEle.getAttribute('aria-selected') === 'true') {\n                value = selectedEle.getAttribute('data-value');\n                if (this.selection === 'Single' && selectedEle.classList.contains('e-active')) {\n                    chip = value ? value : i;\n                    break;\n                }\n                else {\n                    chip = value ? chipCollValue.push(value) : chipCollIndex.push(i);\n                }\n            }\n        }\n        this.setProperties({ selectedChips: this.selection === 'Single' ? chip : value ? chipCollValue : chipCollIndex }, true);\n    };\n    ChipList.prototype.deleteHandler = function (chipWrapper, index) {\n        // Used to store the deleted chip item details.\n        var deletedChipData = this.find(chipWrapper);\n        this.chips.splice(index, 1);\n        this.setProperties({ chips: this.chips }, true);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(chipWrapper);\n        this.trigger('deleted', deletedChipData);\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. Also, it removes the attributes and classes.\n     * {% codeBlock src='chips/destroy/index.md' %}{% endcodeBlock %}\n     *\n     *  @returns {void}\n     */\n    ChipList.prototype.destroy = function () {\n        for (var i = 0; i < this.dragCollection.length; i++) {\n            this.dragCollection[i].destroy();\n        }\n        this.dragCollection = [];\n        this.clearTemplate();\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], [classNames.chipSet, classNames.chip, classNames.rtl,\n            classNames.multiSelection, classNames.singleSelection, classNames.disabled, classNames.chipWrapper, classNames.iconWrapper,\n            classNames.active, classNames.focused].concat(this.cssClass ? this.cssClass.toString().split(' ').filter(function (css) { return css; }) : []));\n        this.removeMultipleAttributes(['tabindex', 'role', 'aria-label', 'aria-multiselectable'], this.element);\n        this.wireEvent(true);\n        this.rippleFunction();\n        _super.prototype.destroy.call(this);\n        this.element.innerHTML = '';\n        this.element.innerText = this.innerText;\n    };\n    ChipList.prototype.removeMultipleAttributes = function (attributes, element) {\n        attributes.forEach(function (attr) {\n            element.removeAttribute(attr);\n        });\n    };\n    ChipList.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    ChipList.prototype.getModuleName = function () {\n        return 'chip-list';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @returns void\n     * @private\n     */\n    ChipList.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'chips':\n                case 'text':\n                case 'avatarText':\n                case 'avatarIconCss':\n                case 'leadingIconCss':\n                case 'trailingIconCss':\n                case 'selection':\n                case 'enableDelete':\n                case 'enabled':\n                    this.refresh();\n                    break;\n                case 'cssClass':\n                    if (!this.chipType()) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], oldProp.cssClass.toString().split(' ').filter(function (css) { return css; }));\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], newProp.cssClass.toString().split(' ').filter(function (css) { return css; }));\n                    }\n                    else {\n                        this.refresh();\n                    }\n                    break;\n                case 'selectedChips':\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)(this.element.querySelectorAll('.e-active'), 'e-active');\n                    if (this.selection === 'Multiple') {\n                        this.multiSelectedChip = [];\n                        this.multiSelection(newProp.selectedChips);\n                        this.onSelect(this.multiSelectedChip, true);\n                        this.updateSelectedChips();\n                    }\n                    else {\n                        this.onSelect(newProp.selectedChips, true);\n                    }\n                    break;\n                case 'enableRtl':\n                    this.setRtl();\n                    break;\n                case 'allowDragAndDrop':\n                    for (var i = 0; i < this.dragCollection.length; i++) {\n                        this.dragCollection[i].destroy();\n                    }\n                    this.dragCollection = [];\n                    if (this.allowDragAndDrop) {\n                        this.enableDraggingChips();\n                    }\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        for (var i = 0; i < this.dragCollection.length; i++) {\n                            this.dragCollection[i].dragArea = this.dragArea;\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    var ChipList_1;\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)([])\n    ], ChipList.prototype, \"chips\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"text\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"avatarText\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"avatarIconCss\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"htmlAttributes\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"leadingIconCss\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"trailingIconCss\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"leadingIconUrl\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"trailingIconUrl\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('')\n    ], ChipList.prototype, \"cssClass\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(true)\n    ], ChipList.prototype, \"enabled\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)([])\n    ], ChipList.prototype, \"selectedChips\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('None')\n    ], ChipList.prototype, \"selection\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], ChipList.prototype, \"enableDelete\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], ChipList.prototype, \"allowDragAndDrop\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(null)\n    ], ChipList.prototype, \"dragArea\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"created\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"click\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"beforeClick\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"delete\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"deleted\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"dragStart\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"dragging\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], ChipList.prototype, \"dragStop\", void 0);\n    ChipList = ChipList_1 = __decorate([\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.NotifyPropertyChanges\n    ], ChipList);\n    return ChipList;\n}(_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHN5bmNmdXNpb24rZWoyLWJ1dHRvbnNAMjkuMS4zNC9ub2RlX21vZHVsZXMvQHN5bmNmdXNpb24vZWoyLWJ1dHRvbnMvc3JjL2NoaXBzL2NoaXAtbGlzdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxpQkFBaUIsU0FBSSxJQUFJLFNBQUk7QUFDN0I7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCLHNDQUFzQyxrQkFBa0I7QUFDdkYsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCLFNBQUksSUFBSSxTQUFJO0FBQzlCO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ3FIO0FBQzNDO0FBQ3pCO0FBQ3FDO0FBQy9FO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1RUFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrRUFBWTtBQUMxQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDJEQUFTO0FBQ3pDO0FBQ0E7QUFDQTtB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YjtBQUNBO0FBQ0EsUUFBUSwyREFBSztBQUNiO0FBQ0E7QUFDQSxRQUFRLDJEQUFLO0FBQ2I7QUFDQTtBQUNBLFFBQVEsMkRBQUs7QUFDYjtBQUNBO0FBQ0EsUUFBUSwyREFBSztBQUNiO0FBQ0E7QUFDQSxRQUFRLDJEQUFLO0FBQ2I7QUFDQTtBQUNBLFFBQVEsMkRBQUs7QUFDYjtBQUNBO0FBQ0EsUUFBUSx1RUFBcUI7QUFDN0I7QUFDQTtBQUNBLENBQUMsQ0FBQywyREFBUztBQUNTIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWlfdHJhdmVsLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzeW5jZnVzaW9uK2VqMi1idXR0b25zQDI5LjEuMzQvbm9kZV9tb2R1bGVzL0BzeW5jZnVzaW9uL2VqMi1idXR0b25zL3NyYy9jaGlwcy9jaGlwLWxpc3QuanM/ZWVmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbmltcG9ydCB7IENvbXBvbmVudCwgTm90aWZ5UHJvcGVydHlDaGFuZ2VzLCBQcm9wZXJ0eSwgYXBwZW5kLCBpc051bGxPclVuZGVmaW5lZCwgcmVtb3ZlIH0gZnJvbSAnQHN5bmNmdXNpb24vZWoyLWJhc2UnO1xuaW1wb3J0IHsgcmVtb3ZlQ2xhc3MsIHJpcHBsZUVmZmVjdCwgY2xvc2VzdCB9IGZyb20gJ0BzeW5jZnVzaW9uL2VqMi1iYXNlJztcbmltcG9ydCB7IERyYWdnYWJsZSB9IGZyb20gJ0BzeW5jZnVzaW9uL2VqMi1iYXNlJztcbmltcG9ydCB7IEV2ZW50SGFuZGxlciwgZGV0YWNoLCBFdmVudCwgYWRkQ2xhc3MsIGNvbXBpbGUgfSBmcm9tICdAc3luY2Z1c2lvbi9lajItYmFzZSc7XG5leHBvcnQgdmFyIGNsYXNzTmFtZXMgPSB7XG4gICAgY2hpcFNldDogJ2UtY2hpcC1zZXQnLFxuICAgIGNoaXA6ICdlLWNoaXAnLFxuICAgIGF2YXRhcjogJ2UtY2hpcC1hdmF0YXInLFxuICAgIHRleHQ6ICdlLWNoaXAtdGV4dCcsXG4gICAgaWNvbjogJ2UtY2hpcC1pY29uJyxcbiAgICBkZWxldGU6ICdlLWNoaXAtZGVsZXRlJyxcbiAgICBkZWxldGVJY29uOiAnZS1kbHQtYnRuJyxcbiAgICBtdWx0aVNlbGVjdGlvbjogJ2UtbXVsdGktc2VsZWN0aW9uJyxcbiAgICBzaW5nbGVTZWxlY3Rpb246ICdlLXNlbGVjdGlvbicsXG4gICAgYWN0aXZlOiAnZS1hY3RpdmUnLFxuICAgIGNoaXBXcmFwcGVyOiAnZS1jaGlwLWF2YXRhci13cmFwJyxcbiAgICBpY29uV3JhcHBlcjogJ2UtY2hpcC1pY29uLXdyYXAnLFxuICAgIGZvY3VzZWQ6ICdlLWZvY3VzZWQnLFxuICAgIGRpc2FibGVkOiAnZS1kaXNhYmxlZCcsXG4gICAgcnRsOiAnZS1ydGwnLFxuICAgIHRlbXBsYXRlOiAnZS1jaGlwLXRlbXBsYXRlJyxcbiAgICBjaGlwTGlzdDogJ2UtY2hpcC1saXN0JyxcbiAgICBjdXN0b21JY29uOiAnZS1pY29ucycsXG4gICAgY2hpcERyYWc6ICdlLWNoaXAtZHJhZycsXG4gICAgZHJhZ0FuZERyb3A6ICdlLWRyYWctYW5kLWRyb3AnLFxuICAgIGRyb3BSZXN0cmljdGVkOiAnZS1lcnJvci10cmVldmlldycsXG4gICAgY2xvbmVDaGlwOiAnZS1jbG9uZS1jaGlwJyxcbiAgICBkcmFnSW5kaWNhdG9yOiAnZS1kcmFnLWluZGljYXRvcidcbn07XG4vKipcbiAqIEEgY2hpcCBjb21wb25lbnQgaXMgYSBzbWFsbCBibG9jayBvZiBlc3NlbnRpYWwgaW5mb3JtYXRpb24sIG1vc3RseSB1c2VkIG9uIGNvbnRhY3RzIG9yIGZpbHRlciB0YWdzLlxuICogYGBgaHRtbFxuICogPGRpdiBpZD1cImNoaXBcIj48L2Rpdj5cbiAqIGBgYFxuICogYGBgdHlwZXNjcmlwdFxuICogPHNjcmlwdD5cbiAqIHZhciBjaGlwT2JqID0gbmV3IENoaXBMaXN0KCk7XG4gKiBjaGlwT2JqLmFwcGVuZFRvKFwiI2NoaXBcIik7XG4gKiA8L3NjcmlwdD5cbiAqIGBgYFxuICovXG52YXIgQ2hpcExpc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKENoaXBMaXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENoaXBMaXN0KG9wdGlvbnMsIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucywgZWxlbWVudCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubXVsdGlTZWxlY3RlZENoaXAgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDaGlwTGlzdF8xID0gQ2hpcExpc3Q7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgZXZlbnQgaGFuZGxlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBDaGlwTGlzdC5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvL3ByZXJlbmRlclxuICAgIH07XG4gICAgLyoqXG4gICAgICogVG8gZmluZCB0aGUgY2hpcHMgbGVuZ3RoLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYm9vbGVhblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmNoaXBUeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuY2hpcHMgJiYgdGhpcy5jaGlwcy5sZW5ndGggJiYgdGhpcy5jaGlwcy5sZW5ndGggPiAwKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIEluaXRpYWxpemUgdGhlIGNvbnRyb2wgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2hpcExpc3QucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50eXBlID0gKCFpc051bGxPclVuZGVmaW5lZCh0aGlzLmNoaXBzKSAmJiB0aGlzLmNoaXBzLmxlbmd0aCkgPyAnY2hpcHNldCcgOiAodGhpcy50ZXh0IHx8IHRoaXMuZWxlbWVudC5pbm5lclRleHQgPyAnY2hpcCcgOiAnY2hpcHNldCcpO1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGlwKCk7XG4gICAgICAgIHRoaXMuc2V0UnRsKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRDaGlwcyk7XG4gICAgICAgIHRoaXMud2lyZUV2ZW50KGZhbHNlKTtcbiAgICAgICAgdGhpcy5yaXBwbGVGdW5jdGlvbiA9IHJpcHBsZUVmZmVjdCh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnLicgKyBjbGFzc05hbWVzLmNoaXBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyQ29tcGxldGUoKTtcbiAgICAgICAgdGhpcy5kcmFnQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgICBpZiAodGhpcy5hbGxvd0RyYWdBbmREcm9wKSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZURyYWdnaW5nQ2hpcHMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmVuYWJsZURyYWdnaW5nQ2hpcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjbG9uZWRDaGlwRWxlbWVudDtcbiAgICAgICAgdmFyIGNoaXBFbGVtZW50cyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGNsYXNzTmFtZXMuY2hpcCk7XG4gICAgICAgIGNoaXBFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlwLCBpbmRleCkge1xuICAgICAgICAgICAgX3RoaXMuZHJhZ09iaiA9IG5ldyBEcmFnZ2FibGUoY2hpcCwge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjbG9uZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkcmFnQXJlYTogX3RoaXMuZHJhZ0FyZWEsXG4gICAgICAgICAgICAgICAgaGVscGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZENoaXBFbGVtZW50ID0gY2hpcC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNsb25lZENoaXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lcy5jbG9uZUNoaXApO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNsb25lZENoaXBFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsb25lZENoaXBFbGVtZW50O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHJhZ1N0YXJ0OiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcmFnSW5kaWNhdG9yID0gX3RoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMuZHJhZ0luZGljYXRvciB9KTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChfdGhpcy5kcmFnSW5kaWNhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaXBEYXRhID0gX3RoaXMuZmluZChhcmdzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ1N0YXJ0QXJncyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudDogYXJncy5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnZWRJdGVtOiBhcmdzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkSXRlbURhdGE6IGNoaXBEYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcFRhcmdldDogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy50cmlnZ2VyKCdkcmFnU3RhcnQnLCBkcmFnU3RhcnRBcmdzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdWxsT3JVbmRlZmluZWQoZHJhZ1N0YXJ0QXJncy5jYW5jZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ1N0YXJ0QXJncy5jYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZHJhZ1N0YXJ0QXJncy5jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZENoaXBFbGVtZW50LnNldEF0dHJpYnV0ZSgnZHJhZy1pbmRpY2F0b3ItaW5kZXgnLCBpbmRleC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRyYWdPYmouaW50RGVzdHJveShhcmdzLmV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZHJhZzogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaXBEYXRhID0gX3RoaXMuZmluZChhcmdzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ2dpbmdBcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGFyZ3MuZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkSXRlbTogYXJncy5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dlZEl0ZW1EYXRhOiBjaGlwRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BUYXJnZXQ6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlcignZHJhZ2dpbmcnLCBkcmFnZ2luZ0FyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ2dpbmdJY29uRWxlID0gY2xvbmVkQ2hpcEVsZW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc05hbWVzLmNoaXBEcmFnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGRyYWdnaW5nSWNvbkVsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnaW5nSWNvbkVsZSA9IF90aGlzLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcy5jdXN0b21JY29uICsgXCIgXCIgKyBjbGFzc05hbWVzLmRyYWdBbmREcm9wICsgXCIgXCIgKyBjbGFzc05hbWVzLmNoaXBEcmFnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkQ2hpcEVsZW1lbnQucHJlcGVuZChkcmFnZ2luZ0ljb25FbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFsbG93RXh0ZXJuYWxEcmFnZ2luZyhhcmdzLCBjbG9uZWRDaGlwRWxlbWVudCwgZHJhZ2dpbmdJY29uRWxlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRyYWdTdG9wOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpcERhdGEgPSBfdGhpcy5maW5kKGFyZ3MuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmFnU3RvcEFyZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGFyZ3MuZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2VkSXRlbTogYXJncy5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dlZEl0ZW1EYXRhOiBjaGlwRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3BUYXJnZXQ6IGFyZ3MudGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXIoJ2RyYWdTdG9wJywgZHJhZ1N0b3BBcmdzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdWxsT3JVbmRlZmluZWQoZHJhZ1N0b3BBcmdzLmNhbmNlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnU3RvcEFyZ3MuY2FuY2VsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRyYWdTdG9wQXJncy5jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFsbG93RXh0ZXJuYWxEcm9wKGFyZ3MsIGNsb25lZENoaXBFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKF90aGlzLmRyYWdJbmRpY2F0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoX3RoaXMuZHJhZ0luZGljYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChjbG9uZWRDaGlwRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZENoaXBFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuZHJhZ0NvbGxlY3Rpb24uaW5kZXhPZihfdGhpcy5kcmFnT2JqKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmFnQ29sbGVjdGlvbi5wdXNoKF90aGlzLmRyYWdPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5jaGVja0luc3RhbmNlID0gZnVuY3Rpb24gKGFyZ3MsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGlzSW5zdGFuY2VNYXRjaGVkID0gIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MudGFyZ2V0LmNsb3Nlc3QoJy4nICsgY2xhc3NOYW1lcy5jaGlwTGlzdCkpICYmXG4gICAgICAgICAgICBhcmdzLnRhcmdldC5jbG9zZXN0KCcuJyArIGNsYXNzTmFtZXMuY2hpcExpc3QpLmlkICE9PSBjb250ZXh0LmVsZW1lbnQuaWQ7XG4gICAgICAgIGlmIChpc0luc3RhbmNlTWF0Y2hlZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVkSW5zdGFuY2UgPSBhcmdzLnRhcmdldC5jbG9zZXN0KCcuJyArIGNsYXNzTmFtZXMuY2hpcExpc3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0luc3RhbmNlTWF0Y2hlZDtcbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5zZXRJY29ucyA9IGZ1bmN0aW9uIChjdXJyZW50SW5zdGFuY2UsIGRyYWdnaW5nSWNvbkVsZSwgdGFyZ2V0LCBpbmRpY2F0b3JFbGUsIG91dE9mRHJhZ0FyZWEpIHtcbiAgICAgICAgdmFyIGlzVGFyZ2V0SW5zaWRlID0gY3VycmVudEluc3RhbmNlLmVsZW1lbnQuY29udGFpbnModGFyZ2V0KTtcbiAgICAgICAgdmFyIGlzRHJvcHBhYmxlID0gdGFyZ2V0LmNsb3Nlc3QoJy5lLWRyb3BwYWJsZScpO1xuICAgICAgICBpZiAoKGlzVGFyZ2V0SW5zaWRlIHx8IGlzRHJvcHBhYmxlKSAmJiAhb3V0T2ZEcmFnQXJlYSkge1xuICAgICAgICAgICAgZHJhZ2dpbmdJY29uRWxlLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lcy5kcmFnQW5kRHJvcCk7XG4gICAgICAgICAgICBkcmFnZ2luZ0ljb25FbGUuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWVzLmRyb3BSZXN0cmljdGVkKTtcbiAgICAgICAgICAgIGlmIChpc0Ryb3BwYWJsZSkge1xuICAgICAgICAgICAgICAgIGluZGljYXRvckVsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZHJhZ2dpbmdJY29uRWxlLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lcy5kcmFnQW5kRHJvcCk7XG4gICAgICAgICAgICBkcmFnZ2luZ0ljb25FbGUuY2xhc3NMaXN0LmFkZChjbGFzc05hbWVzLmRyb3BSZXN0cmljdGVkKTtcbiAgICAgICAgICAgIGluZGljYXRvckVsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuYWxsb3dFeHRlcm5hbERyYWdnaW5nID0gZnVuY3Rpb24gKGFyZ3MsIGNsb25lZENoaXBFbGVtZW50LCBkcmFnZ2luZ0ljb25FbGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgICAgdmFyIGNsb3Nlc3RDaGlwID0gbnVsbDtcbiAgICAgICAgdmFyIGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbmV3SW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG91dE9mRHJhZ0FyZWEgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tJbnN0YW5jZShhcmdzLCB0aGlzKSkge1xuICAgICAgICAgICAgdGhpcy5kcmFnSW5kaWNhdG9yLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSB0aGlzLmdldEN1cnJlbnRJbnN0YW5jZShhcmdzKTtcbiAgICAgICAgICAgIGN1cnJlbnRJbnN0YW5jZS5kcmFnSW5kaWNhdG9yID0gdGhpcy5kcmFnSW5kaWNhdG9yO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50SW5zdGFuY2UuYWxsb3dEcmFnQW5kRHJvcCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRJbnN0YW5jZSA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGljYXRvckVsZSA9IGN1cnJlbnRJbnN0YW5jZS5kcmFnSW5kaWNhdG9yO1xuICAgICAgICBpbmRpY2F0b3JFbGUuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xuICAgICAgICBvdXRPZkRyYWdBcmVhID0gdGhpcy5kcmFnQXJlYUNoZWNrKHRoaXMuZHJhZ0FyZWEsIGFyZ3MudGFyZ2V0LCBvdXRPZkRyYWdBcmVhLCBkcmFnZ2luZ0ljb25FbGUsIGluZGljYXRvckVsZSk7XG4gICAgICAgIHRoaXMuc2V0SWNvbnMoY3VycmVudEluc3RhbmNlLCBkcmFnZ2luZ0ljb25FbGUsIGFyZ3MudGFyZ2V0LCBpbmRpY2F0b3JFbGUsIG91dE9mRHJhZ0FyZWEpO1xuICAgICAgICBjdXJyZW50SW5zdGFuY2UuZWxlbWVudC5hcHBlbmRDaGlsZChjbG9uZWRDaGlwRWxlbWVudCk7XG4gICAgICAgIHZhciBkcm9wcGVkUmVjdCA9IGNsb25lZENoaXBFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgYWxsQ2hpcHMgPSBBcnJheS5mcm9tKGN1cnJlbnRJbnN0YW5jZS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKSk7XG4gICAgICAgIGFsbENoaXBzLmZvckVhY2goZnVuY3Rpb24gKGNoaXAsIGkpIHtcbiAgICAgICAgICAgIGlmIChjaGlwICE9PSBjbG9uZWRDaGlwRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciByZWN0XzEgPSBjaGlwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyhkcm9wcGVkUmVjdC5sZWZ0IC0gcmVjdF8xLmxlZnQsIDIpICsgTWF0aC5wb3coZHJvcHBlZFJlY3QudG9wIC0gcmVjdF8xLnRvcCwgMikpO1xuICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8IGNsb3Nlc3REaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VzdENoaXAgPSBjaGlwO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5ld0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgbmV3SW5kZXggPSBhbGxDaGlwcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaXBzRGlzdGFuY2UgPSB0aGlzLmdldENoaXBzRGlzdGFuY2UoY3VycmVudEluc3RhbmNlKTtcbiAgICAgICAgdmFyIGNsb25lUmVjdCA9IGNsb25lZENoaXBFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcmVjdDtcbiAgICAgICAgaWYgKGNsb3Nlc3RDaGlwIHx8IGFsbENoaXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRDaGlwID0gY2xvc2VzdENoaXAgfHwgYWxsQ2hpcHNbYWxsQ2hpcHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICByZWN0ID0gdGFyZ2V0Q2hpcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGluZGljYXRvckVsZS5zdHlsZS50b3AgPSByZWN0LnRvcCArIHdpbmRvdy5zY3JvbGxZICsgJ3B4JztcbiAgICAgICAgICAgIGluZGljYXRvckVsZS5zdHlsZS5sZWZ0ID0gY3VycmVudEluc3RhbmNlLmVuYWJsZVJ0bCA/IChyZWN0LnJpZ2h0ICsgY2hpcHNEaXN0YW5jZSArICdweCcpIDpcbiAgICAgICAgICAgICAgICAocmVjdC5sZWZ0IC0gY2hpcHNEaXN0YW5jZSArIHdpbmRvdy5zY3JvbGxYICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRJbnN0YW5jZS5lbmFibGVSdGwpIHtcbiAgICAgICAgICAgIGlmIChjbG9uZVJlY3QubGVmdCA8IHJlY3QubGVmdCAtIHJlY3Qud2lkdGggLyAyICYmIGNsb25lUmVjdC50b3AgPiByZWN0LnRvcCkge1xuICAgICAgICAgICAgICAgIGluZGljYXRvckVsZS5zdHlsZS5sZWZ0ID0gcmVjdC5sZWZ0IC0gY2hpcHNEaXN0YW5jZSArIHdpbmRvdy5zY3JvbGxYICsgJ3B4JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjbG9uZVJlY3QubGVmdCA+IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLyAyICYmIGNsb25lUmVjdC50b3AgPiByZWN0LnRvcCkge1xuICAgICAgICAgICAgaW5kaWNhdG9yRWxlLnN0eWxlLmxlZnQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoICsgY2hpcHNEaXN0YW5jZSArIHdpbmRvdy5zY3JvbGxYICsgJ3B4JztcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmRyYWdBcmVhQ2hlY2sgPSBmdW5jdGlvbiAoZHJhZ0FyZWEsIHRhcmdldCwgb3V0T2ZEcmFnQXJlYSwgZHJhZ2dpbmdJY29uRWxlLCBpbmRpY2F0b3JFbGUpIHtcbiAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGRyYWdBcmVhKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc1N0cmluZyA9IHR5cGVvZiBkcmFnQXJlYSA9PT0gJ3N0cmluZyc7XG4gICAgICAgIHZhciBpc0h0bWxFbGVtZW50ID0gZHJhZ0FyZWEgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbiAgICAgICAgdmFyIGRyYWdBcmVhRWxlbWVudCA9IGlzU3RyaW5nID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkcmFnQXJlYSkgOiBkcmFnQXJlYTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChkcmFnQXJlYUVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAoKGlzU3RyaW5nIHx8IGlzSHRtbEVsZW1lbnQpICYmICFkcmFnQXJlYUVsZW1lbnQuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIG91dE9mRHJhZ0FyZWEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGluZGljYXRvckVsZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIGRyYWdnaW5nSWNvbkVsZS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZXMuZHJvcFJlc3RyaWN0ZWQpO1xuICAgICAgICAgICAgICAgIGRyYWdnaW5nSWNvbkVsZS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZXMuZHJhZ0FuZERyb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRPZkRyYWdBcmVhO1xuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmdldENoaXBzRGlzdGFuY2UgPSBmdW5jdGlvbiAoY3VycmVudEluc3RhbmNlKSB7XG4gICAgICAgIHZhciBjb25zdFZhbHVlID0gNDtcbiAgICAgICAgaWYgKGN1cnJlbnRJbnN0YW5jZS5jaGlwcy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbnN0YW50RGlzdGFuY2U7XG4gICAgICAgIHZhciBmaXJzdENoaXBDbGllbnRSZWN0ID0gY3VycmVudEluc3RhbmNlLmZpbmQoMCkuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIHNlY29uZENoaXBDbGllbnRSZWN0ID0gY3VycmVudEluc3RhbmNlLmZpbmQoMSkuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGZpcnN0Q2hpcExlZnQgPSBmaXJzdENoaXBDbGllbnRSZWN0LmxlZnQ7XG4gICAgICAgIGlmIChjdXJyZW50SW5zdGFuY2UuZW5hYmxlUnRsKSB7XG4gICAgICAgICAgICB2YXIgc2Vjb25kQ2hpcFJpZ2h0ID0gc2Vjb25kQ2hpcENsaWVudFJlY3QucmlnaHQ7XG4gICAgICAgICAgICBjb25zdGFudERpc3RhbmNlID0gZmlyc3RDaGlwTGVmdCA8IHNlY29uZENoaXBSaWdodCA/IGNvbnN0VmFsdWUgOiAoKGZpcnN0Q2hpcExlZnQgLSBzZWNvbmRDaGlwUmlnaHQpIC8gMik7XG4gICAgICAgICAgICByZXR1cm4gY29uc3RhbnREaXN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmaXJzdENoaXBXaWR0aCA9IGZpcnN0Q2hpcENsaWVudFJlY3Qud2lkdGg7XG4gICAgICAgICAgICB2YXIgc2Vjb25kQ2hpcExlZnQgPSBzZWNvbmRDaGlwQ2xpZW50UmVjdC5sZWZ0O1xuICAgICAgICAgICAgY29uc3RhbnREaXN0YW5jZSA9IHNlY29uZENoaXBMZWZ0IDwgKGZpcnN0Q2hpcExlZnQgKyBmaXJzdENoaXBXaWR0aCkgP1xuICAgICAgICAgICAgICAgIGNvbnN0VmFsdWUgOiAoc2Vjb25kQ2hpcExlZnQgLSAoZmlyc3RDaGlwTGVmdCArIGZpcnN0Q2hpcFdpZHRoKSkgLyAyO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnN0YW50RGlzdGFuY2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5nZXRDdXJyZW50SW5zdGFuY2UgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgY2hpcENvbnRhaW5lciA9IGFyZ3MudGFyZ2V0LmNsb3Nlc3QoJy4nICsgY2xhc3NOYW1lcy5jaGlwTGlzdCk7XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoY2hpcENvbnRhaW5lcikgJiYgIWlzTnVsbE9yVW5kZWZpbmVkKGNoaXBDb250YWluZXIuZWoyX2luc3RhbmNlcykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpcENvbnRhaW5lci5lajJfaW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaXBDb250YWluZXIuZWoyX2luc3RhbmNlc1twYXJzZUludChpLnRvU3RyaW5nKCksIDEwKV0gaW5zdGFuY2VvZiBDaGlwTGlzdF8xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlwQ29udGFpbmVyLmVqMl9pbnN0YW5jZXNbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmFsbG93RXh0ZXJuYWxEcm9wID0gZnVuY3Rpb24gKGFyZ3MsIGNsb25lZENoaXBFbGVtZW50KSB7XG4gICAgICAgIHZhciBvcmlnaW5hbEluZGV4ID0gcGFyc2VJbnQoY2xvbmVkQ2hpcEVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkcmFnLWluZGljYXRvci1pbmRleCcpLCAxMCk7XG4gICAgICAgIHZhciBjdXJyZW50SW5zdGFuY2U7XG4gICAgICAgIHZhciBvdXRPZkRyYWdBcmVhID0gZmFsc2U7XG4gICAgICAgIHZhciBpc0luc3RhbmNlQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jaGVja0luc3RhbmNlKGFyZ3MsIHRoaXMpKSB7XG4gICAgICAgICAgICBpc0luc3RhbmNlQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSB0aGlzLmdldEN1cnJlbnRJbnN0YW5jZShhcmdzKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudEluc3RhbmNlLmFsbG93RHJhZ0FuZERyb3ApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRpY2F0b3JFbGUgPSBjdXJyZW50SW5zdGFuY2UuZHJhZ0luZGljYXRvcjtcbiAgICAgICAgaW5kaWNhdG9yRWxlLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lJztcbiAgICAgICAgaWYgKCFjdXJyZW50SW5zdGFuY2UuZWxlbWVudC5jb250YWlucyhhcmdzLnRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBvdXRPZkRyYWdBcmVhID0gdGhpcy5kcmFnQXJlYUNoZWNrKHRoaXMuZHJhZ0FyZWEsIGFyZ3MudGFyZ2V0LCBvdXRPZkRyYWdBcmVhLCBjbG9uZWRDaGlwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzTmFtZXMuY2hpcERyYWcpLCBpbmRpY2F0b3JFbGUpO1xuICAgICAgICBpZiAob3V0T2ZEcmFnQXJlYSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRpY2F0b3JSZWN0ID0gaW5kaWNhdG9yRWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgYWxsQ2hpcHMgPSBBcnJheS5mcm9tKGN1cnJlbnRJbnN0YW5jZS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKSk7XG4gICAgICAgIHZhciBuZXdJbmRleCA9IC0xO1xuICAgICAgICB2YXIgdG9wT2Zmc2V0ID0gZmFsc2U7XG4gICAgICAgIHZhciBsZWZ0T2Zmc2V0ID0gZmFsc2U7XG4gICAgICAgIHZhciByaWdodE9mZnNldCA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbENoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYWxsQ2hpcHNbaV0gIT09IGNsb25lZENoaXBFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaXBSZWN0ID0gYWxsQ2hpcHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgdG9wT2Zmc2V0ID0gaW5kaWNhdG9yUmVjdC50b3AgPCBjaGlwUmVjdC50b3AgKyBjaGlwUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgICAgIGxlZnRPZmZzZXQgPSBpbmRpY2F0b3JSZWN0LmxlZnQgPCBjaGlwUmVjdC5sZWZ0ICsgY2hpcFJlY3Qud2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIHJpZ2h0T2Zmc2V0ID0gaW5kaWNhdG9yUmVjdC5sZWZ0ID4gY2hpcFJlY3QubGVmdCArIGNoaXBSZWN0LndpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICBpZiAoKCFjdXJyZW50SW5zdGFuY2UuZW5hYmxlUnRsICYmIHRvcE9mZnNldCAmJiBsZWZ0T2Zmc2V0KSB8fCAoY3VycmVudEluc3RhbmNlLmVuYWJsZVJ0bCAmJiB0b3BPZmZzZXQgJiYgcmlnaHRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiBvcmlnaW5hbEluZGV4ICYmICFpc0luc3RhbmNlQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXggPSBpIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdmFyIG5leHRDaGlwSW5kZXggPSB2b2lkIDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbENoaXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaXBSZWN0ID0gYWxsQ2hpcHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKChjaGlwUmVjdC50b3AgPiBpbmRpY2F0b3JSZWN0LnRvcCkgfHwgKGNoaXBSZWN0LnRvcCA9PT0gaW5kaWNhdG9yUmVjdC50b3AgJiYgY2hpcFJlY3QubGVmdCA+IGluZGljYXRvclJlY3QubGVmdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dENoaXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0Q2hpcEluZGV4ICE9PSBhbGxDaGlwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmRleCA9IG5leHRDaGlwSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdJbmRleCA9IGFsbENoaXBzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudENoaXBMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLmNoaXBzKTtcbiAgICAgICAgaWYgKGlzSW5zdGFuY2VDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRyb3BDaGlwKGN1cnJlbnRDaGlwTGlzdCwgb3JpZ2luYWxJbmRleCwgY3VycmVudEluc3RhbmNlLCBuZXdJbmRleCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggIT09IG9yaWdpbmFsSW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcENoaXAoY3VycmVudENoaXBMaXN0LCBvcmlnaW5hbEluZGV4LCBjdXJyZW50SW5zdGFuY2UsIG5ld0luZGV4LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5kcm9wQ2hpcCA9IGZ1bmN0aW9uIChjdXJyZW50Q2hpcExpc3QsIG9yaWdpbmFsSW5kZXgsIGN1cnJlbnRJbnN0YW5jZSwgbmV3SW5kZXgsIGluc3RhbmNlQ2hhbmdlZCkge1xuICAgICAgICB2YXIgZHJhZ2dlZENoaXAgPSBjdXJyZW50Q2hpcExpc3Quc3BsaWNlKG9yaWdpbmFsSW5kZXgsIDEpWzBdO1xuICAgICAgICBpZiAoIWluc3RhbmNlQ2hhbmdlZCkge1xuICAgICAgICAgICAgY3VycmVudENoaXBMaXN0LnNwbGljZShuZXdJbmRleCwgMCwgZHJhZ2dlZENoaXApO1xuICAgICAgICAgICAgY3VycmVudEluc3RhbmNlLmNoaXBzID0gY3VycmVudENoaXBMaXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG5ld0NoaXBzID0gQXJyYXkuZnJvbShjdXJyZW50SW5zdGFuY2UuY2hpcHMpO1xuICAgICAgICAgICAgbmV3Q2hpcHMuc3BsaWNlKG5ld0luZGV4LCAwLCBkcmFnZ2VkQ2hpcCk7XG4gICAgICAgICAgICBjdXJyZW50SW5zdGFuY2UuY2hpcHMgPSBuZXdDaGlwcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaXBzID0gY3VycmVudENoaXBMaXN0O1xuICAgICAgICBjdXJyZW50SW5zdGFuY2UuZGF0YUJpbmQoKTtcbiAgICAgICAgdGhpcy5kYXRhQmluZCgpO1xuICAgICAgICBjdXJyZW50SW5zdGFuY2UuZW5hYmxlRHJhZ2dpbmdDaGlwcygpO1xuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmNyZWF0ZUNoaXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5uZXJUZXh0ID0gKHRoaXMuZWxlbWVudC5pbm5lclRleHQgJiYgdGhpcy5lbGVtZW50LmlubmVyVGV4dC5sZW5ndGggIT09IDApXG4gICAgICAgICAgICA/IHRoaXMuZWxlbWVudC5pbm5lclRleHQudHJpbSgpIDogdGhpcy5lbGVtZW50LmlubmVyVGV4dDtcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmNoaXBDcmVhdGlvbih0aGlzLnR5cGUgPT09ICdjaGlwJyA/IFt0aGlzLmlubmVyVGV4dCA/IHRoaXMuaW5uZXJUZXh0IDogdGhpcy50ZXh0XSA6IHRoaXMuY2hpcHMpO1xuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLnNldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdjaGlwJykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lcy5jaGlwU2V0KTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnbGlzdGJveCcpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uID09PSAnTXVsdGlwbGUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lcy5tdWx0aVNlbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1tdWx0aXNlbGVjdGFibGUnLCAndHJ1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb24gPT09ICdTaW5nbGUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lcy5zaW5nbGVTZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbXVsdGlzZWxlY3RhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLW11bHRpc2VsZWN0YWJsZScsICdmYWxzZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuc2V0UnRsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0W3RoaXMuZW5hYmxlUnRsID8gJ2FkZCcgOiAncmVtb3ZlJ10oY2xhc3NOYW1lcy5ydGwpO1xuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWFjdCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJSZWFjdFRlbXBsYXRlcygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUudGVtcGxhdGVQYXJzZXIgPSBmdW5jdGlvbiAodGVtcGxhdGUpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGVtcGxhdGUgIT09ICdmdW5jdGlvbicgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0ZW1wbGF0ZSkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGVtcGxhdGUpLmlubmVySFRNTC50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBpbGUodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21waWxlKHRlbXBsYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmNoaXBDcmVhdGlvbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChpc051bGxPclVuZGVmaW5lZChkYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGlwTGlzdEFycmF5ID0gW107XG4gICAgICAgIHZhciBhdHRyaWJ1dGVBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBmaWVsZHNEYXRhID0gdGhpcy5nZXRGaWVsZFZhbHVlcyhkYXRhW2ldKTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzVmFsdWUgPSBmaWVsZHNEYXRhLmh0bWxBdHRyaWJ1dGVzO1xuICAgICAgICAgICAgYXR0cmlidXRlQXJyYXkucHVzaChhdHRyaWJ1dGVzVmFsdWUpO1xuICAgICAgICAgICAgdmFyIGNoaXBBcnJheSA9IHRoaXMuZWxlbWVudENyZWF0aW9uKGZpZWxkc0RhdGEpO1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IChjbGFzc05hbWVzLmNoaXAgKyAnICcgKyAoZmllbGRzRGF0YS5lbmFibGVkID8gJyAnIDogY2xhc3NOYW1lcy5kaXNhYmxlZCkgKyAnICcgK1xuICAgICAgICAgICAgICAgIChmaWVsZHNEYXRhLmF2YXRhckljb25Dc3MgfHwgZmllbGRzRGF0YS5hdmF0YXJUZXh0ID8gY2xhc3NOYW1lcy5jaGlwV3JhcHBlciA6IChmaWVsZHNEYXRhLmxlYWRpbmdJY29uQ3NzID9cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lcy5pY29uV3JhcHBlciA6ICcgJykpICsgJyAnICsgZmllbGRzRGF0YS5jc3NDbGFzcykuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24gKGNzcykgeyByZXR1cm4gY3NzOyB9KTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jaGlwVHlwZSgpIHx8IHRoaXMudHlwZSA9PT0gJ2NoaXAnKSB7XG4gICAgICAgICAgICAgICAgY2hpcExpc3RBcnJheSA9IGNoaXBBcnJheTtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhbdGhpcy5lbGVtZW50XSwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgZmllbGRzRGF0YS50ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGRzRGF0YS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgZmllbGRzRGF0YS52YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9IHRoaXMuY3JlYXRlRWxlbWVudCgnRElWJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZS5qb2luKCcgJyksIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleDogJzAnLCByb2xlOiAnb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogZmllbGRzRGF0YS50ZXh0LCAnYXJpYS1zZWxlY3RlZCc6ICdmYWxzZSdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZURlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1rZXlzaG9ydGN1dHMnLCAnUHJlc3MgZGVsZXRlIG9yIGJhY2tzcGFjZSBrZXkgdG8gZGVsZXRlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaWVsZHNEYXRhLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgZmllbGRzRGF0YS52YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkc0RhdGEuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChhdHRyaWJ1dGVBcnJheVtpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZUFycmF5Lmxlbmd0aCA+IGkgJiYgT2JqZWN0LmtleXMoYXR0cmlidXRlQXJyYXlbaV0pLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWxBdHRyID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sQXR0ciA9IChPYmplY3Qua2V5cyhhdHRyaWJ1dGVBcnJheVtpXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBodG1sQXR0ci5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKGh0bWxBdHRyW2pdLCBhdHRyaWJ1dGVBcnJheVtpXVtodG1sQXR0cltqXV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFwcGVuZChjaGlwQXJyYXksIHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIGNoaXBMaXN0QXJyYXkucHVzaCh3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhcHBlbmQoY2hpcExpc3RBcnJheSwgdGhpcy5lbGVtZW50KTtcbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5nZXRGaWVsZFZhbHVlcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBjaGlwRW5hYmxlZCA9ICEodGhpcy5lbmFibGVkLnRvU3RyaW5nKCkgPT09ICdmYWxzZScpO1xuICAgICAgICB2YXIgZmllbGRzID0ge1xuICAgICAgICAgICAgdGV4dDogdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnID8gKGRhdGEudGV4dCA/IGRhdGEudGV4dC50b1N0cmluZygpIDogdGhpcy50ZXh0LnRvU3RyaW5nKCkpIDpcbiAgICAgICAgICAgICAgICAoIXRoaXMuY2hpcFR5cGUoKSA/ICh0aGlzLmlubmVyVGV4dCA/IHRoaXMuaW5uZXJUZXh0IDogdGhpcy50ZXh0LnRvU3RyaW5nKCkpIDogZGF0YS50b1N0cmluZygpKSxcbiAgICAgICAgICAgIGNzc0NsYXNzOiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgPyAoZGF0YS5jc3NDbGFzcyA/IGRhdGEuY3NzQ2xhc3MudG9TdHJpbmcoKSA6IHRoaXMuY3NzQ2xhc3MudG9TdHJpbmcoKSkgOlxuICAgICAgICAgICAgICAgICh0aGlzLmNzc0NsYXNzLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgbGVhZGluZ0ljb25Dc3M6IHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyA/IChkYXRhLmxlYWRpbmdJY29uQ3NzID8gZGF0YS5sZWFkaW5nSWNvbkNzcy50b1N0cmluZygpIDpcbiAgICAgICAgICAgICAgICB0aGlzLmxlYWRpbmdJY29uQ3NzLnRvU3RyaW5nKCkpIDogKHRoaXMubGVhZGluZ0ljb25Dc3MudG9TdHJpbmcoKSksXG4gICAgICAgICAgICBhdmF0YXJJY29uQ3NzOiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgPyAoZGF0YS5hdmF0YXJJY29uQ3NzID8gZGF0YS5hdmF0YXJJY29uQ3NzLnRvU3RyaW5nKCkgOlxuICAgICAgICAgICAgICAgIHRoaXMuYXZhdGFySWNvbkNzcy50b1N0cmluZygpKSA6ICh0aGlzLmF2YXRhckljb25Dc3MudG9TdHJpbmcoKSksXG4gICAgICAgICAgICBhdmF0YXJUZXh0OiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgPyAoZGF0YS5hdmF0YXJUZXh0ID8gZGF0YS5hdmF0YXJUZXh0LnRvU3RyaW5nKCkgOiB0aGlzLmF2YXRhclRleHQudG9TdHJpbmcoKSkgOlxuICAgICAgICAgICAgICAgICh0aGlzLmF2YXRhclRleHQudG9TdHJpbmcoKSksXG4gICAgICAgICAgICB0cmFpbGluZ0ljb25Dc3M6IHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyA/IChkYXRhLnRyYWlsaW5nSWNvbkNzcyA/IGRhdGEudHJhaWxpbmdJY29uQ3NzLnRvU3RyaW5nKCkgOlxuICAgICAgICAgICAgICAgIHRoaXMudHJhaWxpbmdJY29uQ3NzLnRvU3RyaW5nKCkpIDogKHRoaXMudHJhaWxpbmdJY29uQ3NzLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgZW5hYmxlZDogdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnID8gKGRhdGEuZW5hYmxlZCAhPT0gdW5kZWZpbmVkID8gKGRhdGEuZW5hYmxlZC50b1N0cmluZygpID09PSAnZmFsc2UnID8gZmFsc2UgOiB0cnVlKSA6XG4gICAgICAgICAgICAgICAgY2hpcEVuYWJsZWQpIDogKGNoaXBFbmFibGVkKSxcbiAgICAgICAgICAgIHZhbHVlOiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgPyAoKGRhdGEudmFsdWUgPyBkYXRhLnZhbHVlLnRvU3RyaW5nKCkgOiBudWxsKSkgOiBudWxsLFxuICAgICAgICAgICAgbGVhZGluZ0ljb25Vcmw6IHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyA/IChkYXRhLmxlYWRpbmdJY29uVXJsID8gZGF0YS5sZWFkaW5nSWNvblVybC50b1N0cmluZygpIDogdGhpcy5sZWFkaW5nSWNvblVybCkgOlxuICAgICAgICAgICAgICAgIHRoaXMubGVhZGluZ0ljb25VcmwsXG4gICAgICAgICAgICB0cmFpbGluZ0ljb25Vcmw6IHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyA/IChkYXRhLnRyYWlsaW5nSWNvblVybCA/IGRhdGEudHJhaWxpbmdJY29uVXJsLnRvU3RyaW5nKCkgOiB0aGlzLnRyYWlsaW5nSWNvblVybCkgOlxuICAgICAgICAgICAgICAgIHRoaXMudHJhaWxpbmdJY29uVXJsLFxuICAgICAgICAgICAgaHRtbEF0dHJpYnV0ZXM6IHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyA/IChkYXRhLmh0bWxBdHRyaWJ1dGVzID8gZGF0YS5odG1sQXR0cmlidXRlcyA6IHRoaXMuaHRtbEF0dHJpYnV0ZXMpIDogdGhpcy5odG1sQXR0cmlidXRlcyxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0eXBlb2YgZGF0YSA9PT0gJ29iamVjdCcgPyAoZGF0YS50ZW1wbGF0ZSA/IGRhdGEudGVtcGxhdGUgOiBudWxsKSA6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5lbGVtZW50Q3JlYXRpb24gPSBmdW5jdGlvbiAoZmllbGRzKSB7XG4gICAgICAgIHZhciBjaGlwQXJyYXkgPSBbXTtcbiAgICAgICAgaWYgKGZpZWxkcy5hdmF0YXJUZXh0IHx8IGZpZWxkcy5hdmF0YXJJY29uQ3NzKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gKGNsYXNzTmFtZXMuYXZhdGFyICsgJyAnICsgZmllbGRzLmF2YXRhckljb25Dc3MpLnRyaW0oKTtcbiAgICAgICAgICAgIHZhciBjaGlwQXZhdGFyRWxlbWVudCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSk7XG4gICAgICAgICAgICBjaGlwQXZhdGFyRWxlbWVudC5pbm5lclRleHQgPSBmaWVsZHMuYXZhdGFyVGV4dDtcbiAgICAgICAgICAgIGNoaXBBcnJheS5wdXNoKGNoaXBBdmF0YXJFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZHMubGVhZGluZ0ljb25Dc3MpIHtcbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAoY2xhc3NOYW1lcy5pY29uICsgJyAnICsgZmllbGRzLmxlYWRpbmdJY29uQ3NzKS50cmltKCk7XG4gICAgICAgICAgICB2YXIgY2hpcEljb25FbGVtZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KTtcbiAgICAgICAgICAgIGNoaXBBcnJheS5wdXNoKGNoaXBJY29uRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmllbGRzLmxlYWRpbmdJY29uVXJsKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gKGNsYXNzTmFtZXMuYXZhdGFyICsgJyAnICsgJ2ltYWdlLXVybCcpLnRyaW0oKTtcbiAgICAgICAgICAgIHZhciBjaGlwSWNvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0pO1xuICAgICAgICAgICAgY2hpcEljb25FbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIGZpZWxkcy5sZWFkaW5nSWNvblVybCArICcpJztcbiAgICAgICAgICAgIGNoaXBBcnJheS5wdXNoKGNoaXBJY29uRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNoaXBUZXh0RWxlbWVudCA9IHRoaXMuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzLnRleHQgfSk7XG4gICAgICAgIGNoaXBUZXh0RWxlbWVudC5pbm5lclRleHQgPSBmaWVsZHMudGV4dDtcbiAgICAgICAgY2hpcEFycmF5LnB1c2goY2hpcFRleHRFbGVtZW50KTtcbiAgICAgICAgaWYgKGZpZWxkcy50ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdmFyIHRlbXBsYXRlV3JhcHBlciA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZXMudGVtcGxhdGUgfSk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVDb250ZW50ID0gdGhpcy50ZW1wbGF0ZVBhcnNlcihmaWVsZHMudGVtcGxhdGUpKGZpZWxkcywgdGhpcywgJ3RlbXBsYXRlJywgdGhpcy5lbGVtZW50LmlkICsgJ190ZW1wbGF0ZScsIGZhbHNlKTtcbiAgICAgICAgICAgIGFwcGVuZCh0ZW1wbGF0ZUNvbnRlbnQsIHRlbXBsYXRlV3JhcHBlcik7XG4gICAgICAgICAgICBjaGlwQXJyYXkucHVzaCh0ZW1wbGF0ZVdyYXBwZXIpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUZW1wbGF0ZXMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGRzLnRyYWlsaW5nSWNvbkNzcyB8fCAodGhpcy5jaGlwVHlwZSgpICYmIHRoaXMuZW5hYmxlRGVsZXRlKSkge1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IChjbGFzc05hbWVzLmRlbGV0ZSArICcgJyArXG4gICAgICAgICAgICAgICAgKGZpZWxkcy50cmFpbGluZ0ljb25Dc3MgPyBmaWVsZHMudHJhaWxpbmdJY29uQ3NzIDogY2xhc3NOYW1lcy5kZWxldGVJY29uKSkudHJpbSgpO1xuICAgICAgICAgICAgdmFyIGNoaXBkZWxldGVFbGVtZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KTtcbiAgICAgICAgICAgIGNoaXBBcnJheS5wdXNoKGNoaXBkZWxldGVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaWVsZHMudHJhaWxpbmdJY29uVXJsKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gKCd0cmFpbGluZy1pY29uLXVybCcpLnRyaW0oKTtcbiAgICAgICAgICAgIHZhciBjaGlwSWNvbnNFbGVtZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KTtcbiAgICAgICAgICAgIGNoaXBJY29uc0VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgZmllbGRzLnRyYWlsaW5nSWNvblVybCArICcpJztcbiAgICAgICAgICAgIGNoaXBBcnJheS5wdXNoKGNoaXBJY29uc0VsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlwQXJyYXk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgZmluZHMgY2hpcCBiYXNlZCBvbiBnaXZlbiBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlciB8IEhUTUxFbGVtZW50IH0gZmllbGRzIC0gV2UgY2FuIHBhc3MgaW5kZXggbnVtYmVyIG9yIGVsZW1lbnQgb2YgY2hpcC5cbiAgICAgKiB7JSBjb2RlQmxvY2sgc3JjPSdjaGlwcy9maW5kL2luZGV4Lm1kJyAlfXslIGVuZGNvZGVCbG9jayAlfVxuICAgICAqXG4gICAgICogIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGZpZWxkcykge1xuICAgICAgICB2YXIgY2hpcERhdGEgPSB7IHRleHQ6ICcnLCBpbmRleDogLTEsIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCwgZGF0YTogJycgfTtcbiAgICAgICAgdmFyIGNoaXBFbGVtZW50ID0gZmllbGRzIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgP1xuICAgICAgICAgICAgZmllbGRzIDogdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKVtmaWVsZHNdO1xuICAgICAgICBpZiAoY2hpcEVsZW1lbnQgJiYgdGhpcy5jaGlwVHlwZSgpKSB7XG4gICAgICAgICAgICBjaGlwRGF0YS5pbmRleCA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGNsYXNzTmFtZXMuY2hpcCkpLmluZGV4T2YoY2hpcEVsZW1lbnQpO1xuICAgICAgICAgICAgdmFyIGNoaXAgPSB0aGlzLmNoaXBzW2NoaXBEYXRhLmluZGV4XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2hpcCA9PT0gJ29iamVjdCcgJiYgY2hpcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlwTW9kZWwgPSBjaGlwO1xuICAgICAgICAgICAgICAgIGlmIChjaGlwTW9kZWwudGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaXBEYXRhLnRleHQgPSBjaGlwTW9kZWwudGV4dC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNoaXBEYXRhLnRleHQgPSBjaGlwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlwRGF0YS5kYXRhID0gY2hpcDtcbiAgICAgICAgICAgIGNoaXBEYXRhLmVsZW1lbnQgPSBjaGlwRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpcERhdGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGxvd3MgYWRkaW5nIHRoZSBjaGlwIGl0ZW0ocykgYnkgcGFzc2luZyBhIHNpbmdsZSBvciBhcnJheSBvZiBzdHJpbmcsIG51bWJlciwgb3IgQ2hpcE1vZGVsIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge3N0cmluZ1tdIHwgbnVtYmVyW10gfCBDaGlwTW9kZWxbXSB8IHN0cmluZyB8IG51bWJlciB8IENoaXBNb2RlbH0gY2hpcHNEYXRhIC0gV2UgY2FuIHBhc3MgYXJyYXkgb2Ygc3RyaW5nIG9yXG4gICAgICogIGFycmF5IG9mIG51bWJlciBvciBhcnJheSBvZiBjaGlwIG1vZGVsIG9yIHN0cmluZyBkYXRhIG9yIG51bWJlciBkYXRhIG9yIGNoaXAgbW9kZWwuXG4gICAgICogeyUgY29kZUJsb2NrIHNyYz0nY2hpcHMvYWRkL2luZGV4Lm1kJyAlfXslIGVuZGNvZGVCbG9jayAlfVxuICAgICAqXG4gICAgICogQHJldHVybnMge3ZvaWR9XG5cbiAgICAgKi9cbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGNoaXBzRGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgIT09ICdjaGlwJykge1xuICAgICAgICAgICAgdmFyIGZpZWxkRGF0YSA9IGNoaXBzRGF0YSBpbnN0YW5jZW9mIEFycmF5ID9cbiAgICAgICAgICAgICAgICBjaGlwc0RhdGEgOiBbY2hpcHNEYXRhXTtcbiAgICAgICAgICAgIHRoaXMuY2hpcHMgPSAoX2EgPSBbXS5zbGljZS5jYWxsKHRoaXMuY2hpcHMpKS5jb25jYXQuYXBwbHkoX2EsIGZpZWxkRGF0YSk7XG4gICAgICAgICAgICB0aGlzLmNoaXBDcmVhdGlvbihmaWVsZERhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBbGxvd3Mgc2VsZWN0aW5nIHRoZSBjaGlwIGl0ZW0ocykgYnkgcGFzc2luZyBhIHNpbmdsZSBvciBhcnJheSBvZiBzdHJpbmcsIG51bWJlciwgb3IgQ2hpcE1vZGVsIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSAge251bWJlciB8IG51bWJlcltdIHwgSFRNTEVsZW1lbnQgfCBIVE1MRWxlbWVudFtdfSBmaWVsZHMgLSBXZSBjYW4gcGFzcyBudW1iZXIgb3IgYXJyYXkgb2YgbnVtYmVyXG4gICAgICogIG9yIGNoaXAgZWxlbWVudCBvciBhcnJheSBvZiBjaGlwIGVsZW1lbnQuXG4gICAgICogeyUgY29kZUJsb2NrIHNyYz0nY2hpcHMvc2VsZWN0L2luZGV4Lm1kJyAlfXslIGVuZGNvZGVCbG9jayAlfVxuICAgICAqXG4gICAgICogIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbiAoZmllbGRzLCBzZWxlY3Rpb25UeXBlKSB7XG4gICAgICAgIHRoaXMub25TZWxlY3QoZmllbGRzLCBmYWxzZSwgc2VsZWN0aW9uVHlwZSk7XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUubXVsdGlTZWxlY3Rpb24gPSBmdW5jdGlvbiAobmV3UHJvcCkge1xuICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWVzLmNoaXApO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld1Byb3AubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3UHJvcFtqXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGl0ZW1zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdQcm9wW2pdICE9PSBrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3UHJvcFtqXSA9PT0gaXRlbXNba10uYXR0cmlidXRlc1s1XS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXVsdGlTZWxlY3RlZENoaXAucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlTZWxlY3RlZENoaXAucHVzaChuZXdQcm9wW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLm9uU2VsZWN0ID0gZnVuY3Rpb24gKGZpZWxkcywgY2FsbEZyb21Qcm9wZXJ0eSwgc2VsZWN0aW9uVHlwZSkge1xuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIHZhciBjaGlwTm9kZXM7XG4gICAgICAgIHZhciBjaGlwVmFsdWUgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5jaGlwVHlwZSgpICYmIHRoaXMuc2VsZWN0aW9uICE9PSAnTm9uZScpIHtcbiAgICAgICAgICAgIGlmIChjYWxsRnJvbVByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaXBFbGVtZW50cyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGNsYXNzTmFtZXMuY2hpcCk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlwRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpcEVsZW1lbnRzW2ldLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgICBjaGlwRWxlbWVudHNbaV0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWVzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZpZWxkRGF0YSA9IGZpZWxkcyBpbnN0YW5jZW9mIEFycmF5ID8gZmllbGRzIDogW2ZpZWxkc107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlwRWxlbWVudCA9IGZpZWxkRGF0YVtpXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZmllbGREYXRhW2ldXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKVtmaWVsZERhdGFbaV1dO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25UeXBlICE9PSAnaW5kZXgnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5jaGlwcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hpcE5vZGVzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZHNEYXRhID0gdGhpcy5nZXRGaWVsZFZhbHVlcyh0aGlzLmNoaXBzW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25UeXBlID09PSAndmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkc0RhdGEudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpcFZhbHVlID0gY2hpcE5vZGVzLmRhdGFzZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZWN0aW9uVHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpcFZhbHVlID0gY2hpcE5vZGVzLmlubmVyVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlwVmFsdWUgPT09IGZpZWxkRGF0YVtpXS50b1N0cmluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaXBFbGVtZW50ID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKVtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaXBFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25IYW5kbGVyKGNoaXBFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsbG93cyByZW1vdmluZyB0aGUgY2hpcCBpdGVtKHMpIGJ5IHBhc3NpbmcgYSBzaW5nbGUgb3IgYXJyYXkgb2Ygc3RyaW5nLCBudW1iZXIsIG9yIENoaXBNb2RlbCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHtudW1iZXIgfCBudW1iZXJbXSB8IEhUTUxFbGVtZW50IHwgSFRNTEVsZW1lbnRbXX0gZmllbGRzIC0gV2UgY2FuIHBhc3MgbnVtYmVyIG9yIGFycmF5IG9mIG51bWJlclxuICAgICAqICBvciBjaGlwIGVsZW1lbnQgb3IgYXJyYXkgb2YgY2hpcCBlbGVtZW50LlxuICAgICAqIHslIGNvZGVCbG9jayBzcmM9J2NoaXBzL3JlbW92ZS9pbmRleC5tZCcgJX17JSBlbmRjb2RlQmxvY2sgJX1cbiAgICAgKlxuICAgICAqICBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBDaGlwTGlzdC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGZpZWxkcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5jaGlwVHlwZSgpKSB7XG4gICAgICAgICAgICB2YXIgZmllbGREYXRhID0gZmllbGRzIGluc3RhbmNlb2YgQXJyYXkgPyBmaWVsZHMgOiBbZmllbGRzXTtcbiAgICAgICAgICAgIHZhciBjaGlwRWxlbWVudHNfMSA9IFtdO1xuICAgICAgICAgICAgdmFyIGNoaXBDb2xsZWN0aW9uXzEgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWVzLmNoaXApO1xuICAgICAgICAgICAgZmllbGREYXRhLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpcEVsZW1lbnQgPSBkYXRhIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBkYXRhXG4gICAgICAgICAgICAgICAgICAgIDogY2hpcENvbGxlY3Rpb25fMVtkYXRhXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpcEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjaGlwRWxlbWVudHNfMS5wdXNoKGNoaXBFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNoaXBFbGVtZW50c18xLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpcHMgPSBfdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjaGlwcykuaW5kZXhPZihlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZWxldGVIYW5kbGVyKGVsZW1lbnQsIGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzZWxlY3RlZCBjaGlwKHMpIGRhdGEuXG4gICAgICogeyUgY29kZUJsb2NrIHNyYz0nY2hpcHMvZ2V0U2VsZWN0ZWRDaGlwcy9pbmRleC5tZCcgJX17JSBlbmRjb2RlQmxvY2sgJX1cbiAgICAgKlxuICAgICAqICBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRDaGlwcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkQ2hpcHM7XG4gICAgICAgIGlmICh0aGlzLmNoaXBUeXBlKCkgJiYgdGhpcy5zZWxlY3Rpb24gIT09ICdOb25lJykge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkSXRlbXMgPSB7IHRleHRzOiBbXSwgSW5kZXhlczogW10sIGRhdGE6IFtdLCBlbGVtZW50czogW10gfTtcbiAgICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGNsYXNzTmFtZXMuYWN0aXZlKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpcCA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXMuZWxlbWVudHMucHVzaChjaGlwKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWVzLmNoaXApKS5pbmRleE9mKGNoaXApO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSXRlbXMuSW5kZXhlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW1zLmRhdGEucHVzaCh0aGlzLmNoaXBzW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSB0eXBlb2YgdGhpcy5jaGlwc1tpbmRleF0gPT09ICdvYmplY3QnID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlwc1tpbmRleF0udGV4dCA/IHRoaXMuY2hpcHNbaW5kZXhdLnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCA6IHRoaXMuY2hpcHNbaW5kZXhdLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtcy50ZXh0cy5wdXNoKHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkSXRlbSA9IHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBzZWxlY3RlZEl0ZW1zLnRleHRzWzBdLCBpbmRleDogc2VsZWN0ZWRJdGVtcy5JbmRleGVzWzBdLFxuICAgICAgICAgICAgICAgIGRhdGE6IHNlbGVjdGVkSXRlbXMuZGF0YVswXSwgZWxlbWVudDogc2VsZWN0ZWRJdGVtcy5lbGVtZW50c1swXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNlbGVjdGVkQ2hpcHMgPSAhaXNOdWxsT3JVbmRlZmluZWQoc2VsZWN0ZWRJdGVtLmluZGV4KSA/XG4gICAgICAgICAgICAgICAgKHRoaXMuc2VsZWN0aW9uID09PSAnTXVsdGlwbGUnID8gc2VsZWN0ZWRJdGVtcyA6IHNlbGVjdGVkSXRlbSkgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkQ2hpcHM7XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUud2lyZUV2ZW50ID0gZnVuY3Rpb24gKHVuV2lyZUV2ZW50KSB7XG4gICAgICAgIGlmICghdW5XaXJlRXZlbnQpIHtcbiAgICAgICAgICAgIEV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAnY2xpY2snLCB0aGlzLmNsaWNrSGFuZGxlciwgdGhpcyk7XG4gICAgICAgICAgICBFdmVudEhhbmRsZXIuYWRkKHRoaXMuZWxlbWVudCwgJ2ZvY3Vzb3V0JywgdGhpcy5mb2N1c091dEhhbmRsZXIsIHRoaXMpO1xuICAgICAgICAgICAgRXZlbnRIYW5kbGVyLmFkZCh0aGlzLmVsZW1lbnQsICdrZXlkb3duJywgdGhpcy5rZXlIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgICAgIEV2ZW50SGFuZGxlci5hZGQodGhpcy5lbGVtZW50LCAna2V5dXAnLCB0aGlzLmtleUhhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdjbGljaycsIHRoaXMuY2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICAgIEV2ZW50SGFuZGxlci5yZW1vdmUodGhpcy5lbGVtZW50LCAnZm9jdXNvdXQnLCB0aGlzLmZvY3VzT3V0SGFuZGxlcik7XG4gICAgICAgICAgICBFdmVudEhhbmRsZXIucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ2tleWRvd24nLCB0aGlzLmtleUhhbmRsZXIpO1xuICAgICAgICAgICAgRXZlbnRIYW5kbGVyLnJlbW92ZSh0aGlzLmVsZW1lbnQsICdrZXl1cCcsIHRoaXMua2V5SGFuZGxlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5rZXlIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWVzLmNoaXApKSB7XG4gICAgICAgICAgICBpZiAoZS50eXBlID09PSAna2V5ZG93bicpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMyB8fCBlLmtleUNvZGUgPT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tIYW5kbGVyKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZS5rZXlDb2RlID09PSA0NiB8fCBlLmtleUNvZGUgPT09IDgpICYmIHRoaXMuZW5hYmxlRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tIYW5kbGVyKGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGUua2V5Q29kZSA9PT0gOSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNJbkhhbmRsZXIoZS50YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuZm9jdXNJbkhhbmRsZXIgPSBmdW5jdGlvbiAoY2hpcFdyYXBwZXIpIHtcbiAgICAgICAgaWYgKCFjaGlwV3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lcy5mb2N1c2VkKSkge1xuICAgICAgICAgICAgY2hpcFdyYXBwZXIuY2xhc3NMaXN0LmFkZChjbGFzc05hbWVzLmZvY3VzZWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuZm9jdXNPdXRIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNoaXBXcmFwcGVyID0gY2xvc2VzdChlLnRhcmdldCwgJy4nICsgY2xhc3NOYW1lcy5jaGlwKTtcbiAgICAgICAgdmFyIGZvY3VzZWRFbGVtZW50ID0gIXRoaXMuY2hpcFR5cGUoKSA/ICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZXMuZm9jdXNlZCkgP1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50IDogbnVsbCkgOiB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc05hbWVzLmZvY3VzZWQpO1xuICAgICAgICBpZiAoY2hpcFdyYXBwZXIgJiYgZm9jdXNlZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvY3VzZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lcy5mb2N1c2VkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlLCBkZWwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGRlbCA9PT0gdm9pZCAwKSB7IGRlbCA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBjaGlwV3JhcHBlciA9IGNsb3Nlc3QoZS50YXJnZXQsICcuJyArIGNsYXNzTmFtZXMuY2hpcCk7XG4gICAgICAgIGlmIChjaGlwV3JhcHBlcikge1xuICAgICAgICAgICAgdmFyIGNoaXBEYXRhQXJncyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaXBUeXBlKCkpIHtcbiAgICAgICAgICAgICAgICBjaGlwRGF0YUFyZ3MgPSB0aGlzLmZpbmQoY2hpcFdyYXBwZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lcy5jaGlwKSkuaW5kZXhPZihjaGlwV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgY2hpcERhdGFBcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLmlubmVyVGV4dCA/IHRoaXMuaW5uZXJUZXh0IDogdGhpcy50ZXh0LFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBjaGlwV3JhcHBlciwgZGF0YTogdGhpcy50ZXh0LCBpbmRleDogaW5kZXhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpcERhdGFBcmdzLmV2ZW50ID0gZTtcbiAgICAgICAgICAgIGNoaXBEYXRhQXJncy5jYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignYmVmb3JlQ2xpY2snLCBjaGlwRGF0YUFyZ3MsIGZ1bmN0aW9uIChvYnNlcnZlZEFyZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9ic2VydmVkQXJncy5jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tFdmVudEhhbmRsZXIob2JzZXJ2ZWRBcmdzLmVsZW1lbnQsIGUsIGRlbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS5jbGlja0V2ZW50SGFuZGxlciA9IGZ1bmN0aW9uIChjaGlwV3JhcHBlciwgZSwgZGVsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmNoaXBUeXBlKCkpIHtcbiAgICAgICAgICAgIHZhciBjaGlwRGF0YV8xID0gdGhpcy5maW5kKGNoaXBXcmFwcGVyKTtcbiAgICAgICAgICAgIGNoaXBEYXRhXzEuZXZlbnQgPSBlO1xuICAgICAgICAgICAgdmFyIGRlbGV0ZUVsZW1lbnQgPSBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lcy5kZWxldGVJY29uKSA/XG4gICAgICAgICAgICAgICAgZS50YXJnZXQgOiAoZGVsID8gY2hpcFdyYXBwZXIucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc05hbWVzLmRlbGV0ZUljb24pIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGlmIChkZWxldGVFbGVtZW50ICYmIHRoaXMuZW5hYmxlRGVsZXRlKSB7XG4gICAgICAgICAgICAgICAgY2hpcERhdGFfMS5jYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgZGVsZXRlZEl0ZW1BcmdzID0gY2hpcERhdGFfMTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2RlbGV0ZScsIGRlbGV0ZWRJdGVtQXJncywgZnVuY3Rpb24gKG9ic2VydmVkQXJncykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9ic2VydmVkQXJncy5jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlbGV0ZUhhbmRsZXIob2JzZXJ2ZWRBcmdzLmVsZW1lbnQsIG9ic2VydmVkQXJncy5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3Rpb25IYW5kbGVyKGNoaXBXcmFwcGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaXBEYXRhXzEuc2VsZWN0ZWQgPSBvYnNlcnZlZEFyZ3MuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lcy5hY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkSXRlbUFyZ3MgPSBjaGlwRGF0YV8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlcignY2xpY2snLCBzZWxlY3RlZEl0ZW1BcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlwRWxlbWVudCA9IF90aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWVzLmNoaXApW29ic2VydmVkQXJncy5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpcEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlwRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZvY3VzSW5IYW5kbGVyKGNoaXBFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb24gIT09ICdOb25lJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uSGFuZGxlcihjaGlwV3JhcHBlcik7XG4gICAgICAgICAgICAgICAgY2hpcERhdGFfMS5zZWxlY3RlZCA9IGNoaXBXcmFwcGVyLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWVzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkSXRlbUFyZ3MgPSBjaGlwRGF0YV8xO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2xpY2snLCBzZWxlY3RlZEl0ZW1BcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9jdXNJbkhhbmRsZXIoY2hpcFdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHZhciBjbGlja2VkSXRlbUFyZ3MgPSBjaGlwRGF0YV8xO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2xpY2snLCBjbGlja2VkSXRlbUFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mb2N1c0luSGFuZGxlcihjaGlwV3JhcHBlcik7XG4gICAgICAgICAgICB2YXIgY2xpY2tlZEl0ZW1BcmdzID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuaW5uZXJUZXh0ID8gdGhpcy5pbm5lclRleHQgOiB0aGlzLnRleHQsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogY2hpcFdyYXBwZXIsIGRhdGE6IHRoaXMudGV4dCwgZXZlbnQ6IGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ2NsaWNrJywgY2xpY2tlZEl0ZW1BcmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLnNlbGVjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoY2hpcFdyYXBwZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uID09PSAnU2luZ2xlJykge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc05hbWVzLmFjdGl2ZSk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50ICE9PSBjaGlwV3JhcHBlcikge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWVzLmFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh7IHNlbGVjdGVkQ2hpcHM6IG51bGwgfSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMoeyBzZWxlY3RlZENoaXBzOiBbXSB9LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpcFdyYXBwZXIuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZXMuYWN0aXZlKSkge1xuICAgICAgICAgICAgY2hpcFdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWVzLmFjdGl2ZSk7XG4gICAgICAgICAgICBjaGlwV3JhcHBlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoaXBXcmFwcGVyLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lcy5hY3RpdmUpO1xuICAgICAgICAgICAgY2hpcFdyYXBwZXIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkQ2hpcHMoKTtcbiAgICB9O1xuICAgIENoaXBMaXN0LnByb3RvdHlwZS51cGRhdGVTZWxlY3RlZENoaXBzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hpcExpc3RFbGUgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBjbGFzc05hbWVzLmNoaXApO1xuICAgICAgICB2YXIgY2hpcENvbGxJbmRleCA9IFtdO1xuICAgICAgICB2YXIgY2hpcENvbGxWYWx1ZSA9IFtdO1xuICAgICAgICB2YXIgY2hpcCA9IG51bGw7XG4gICAgICAgIHZhciB2YWx1ZSA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpcExpc3RFbGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEVsZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGNsYXNzTmFtZXMuY2hpcClbaV07XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGUuZ2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJykgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gc2VsZWN0ZWRFbGUuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uID09PSAnU2luZ2xlJyAmJiBzZWxlY3RlZEVsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2UtYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpcCA9IHZhbHVlID8gdmFsdWUgOiBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaXAgPSB2YWx1ZSA/IGNoaXBDb2xsVmFsdWUucHVzaCh2YWx1ZSkgOiBjaGlwQ29sbEluZGV4LnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh7IHNlbGVjdGVkQ2hpcHM6IHRoaXMuc2VsZWN0aW9uID09PSAnU2luZ2xlJyA/IGNoaXAgOiB2YWx1ZSA/IGNoaXBDb2xsVmFsdWUgOiBjaGlwQ29sbEluZGV4IH0sIHRydWUpO1xuICAgIH07XG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmRlbGV0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoY2hpcFdyYXBwZXIsIGluZGV4KSB7XG4gICAgICAgIC8vIFVzZWQgdG8gc3RvcmUgdGhlIGRlbGV0ZWQgY2hpcCBpdGVtIGRldGFpbHMuXG4gICAgICAgIHZhciBkZWxldGVkQ2hpcERhdGEgPSB0aGlzLmZpbmQoY2hpcFdyYXBwZXIpO1xuICAgICAgICB0aGlzLmNoaXBzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh7IGNoaXBzOiB0aGlzLmNoaXBzIH0sIHRydWUpO1xuICAgICAgICBkZXRhY2goY2hpcFdyYXBwZXIpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RlbGV0ZWQnLCBkZWxldGVkQ2hpcERhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgY29tcG9uZW50IGZyb20gdGhlIERPTSBhbmQgZGV0YWNoZXMgYWxsIGl0cyByZWxhdGVkIGV2ZW50IGhhbmRsZXJzLiBBbHNvLCBpdCByZW1vdmVzIHRoZSBhdHRyaWJ1dGVzIGFuZCBjbGFzc2VzLlxuICAgICAqIHslIGNvZGVCbG9jayBzcmM9J2NoaXBzL2Rlc3Ryb3kvaW5kZXgubWQnICV9eyUgZW5kY29kZUJsb2NrICV9XG4gICAgICpcbiAgICAgKiAgQHJldHVybnMge3ZvaWR9XG4gICAgICovXG4gICAgQ2hpcExpc3QucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmFnQ29sbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kcmFnQ29sbGVjdGlvbltpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmFnQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgICB0aGlzLmNsZWFyVGVtcGxhdGUoKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFtjbGFzc05hbWVzLmNoaXBTZXQsIGNsYXNzTmFtZXMuY2hpcCwgY2xhc3NOYW1lcy5ydGwsXG4gICAgICAgICAgICBjbGFzc05hbWVzLm11bHRpU2VsZWN0aW9uLCBjbGFzc05hbWVzLnNpbmdsZVNlbGVjdGlvbiwgY2xhc3NOYW1lcy5kaXNhYmxlZCwgY2xhc3NOYW1lcy5jaGlwV3JhcHBlciwgY2xhc3NOYW1lcy5pY29uV3JhcHBlcixcbiAgICAgICAgICAgIGNsYXNzTmFtZXMuYWN0aXZlLCBjbGFzc05hbWVzLmZvY3VzZWRdLmNvbmNhdCh0aGlzLmNzc0NsYXNzID8gdGhpcy5jc3NDbGFzcy50b1N0cmluZygpLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uIChjc3MpIHsgcmV0dXJuIGNzczsgfSkgOiBbXSkpO1xuICAgICAgICB0aGlzLnJlbW92ZU11bHRpcGxlQXR0cmlidXRlcyhbJ3RhYmluZGV4JywgJ3JvbGUnLCAnYXJpYS1sYWJlbCcsICdhcmlhLW11bHRpc2VsZWN0YWJsZSddLCB0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLndpcmVFdmVudCh0cnVlKTtcbiAgICAgICAgdGhpcy5yaXBwbGVGdW5jdGlvbigpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5pbm5lclRleHQ7XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUucmVtb3ZlTXVsdGlwbGVBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKGF0dHJpYnV0ZXMsIGVsZW1lbnQpIHtcbiAgICAgICAgYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuZ2V0UGVyc2lzdERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZE9uUGVyc2lzdChbXSk7XG4gICAgfTtcbiAgICBDaGlwTGlzdC5wcm90b3R5cGUuZ2V0TW9kdWxlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdjaGlwLWxpc3QnO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGludGVybmFsbHkgaWYgYW55IG9mIHRoZSBwcm9wZXJ0eSB2YWx1ZSBjaGFuZ2VkLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ2hpcExpc3QucHJvdG90eXBlLm9uUHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld1Byb3AsIG9sZFByb3ApIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKG5ld1Byb3ApOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIHByb3AgPSBfYVtfaV07XG4gICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjaGlwcyc6XG4gICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYXZhdGFyVGV4dCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYXZhdGFySWNvbkNzcyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnbGVhZGluZ0ljb25Dc3MnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3RyYWlsaW5nSWNvbkNzcyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc2VsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVEZWxldGUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZWQnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3NzQ2xhc3MnOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hpcFR5cGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW3RoaXMuZWxlbWVudF0sIG9sZFByb3AuY3NzQ2xhc3MudG9TdHJpbmcoKS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbiAoY3NzKSB7IHJldHVybiBjc3M7IH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCBuZXdQcm9wLmNzc0NsYXNzLnRvU3RyaW5nKCkuc3BsaXQoJyAnKS5maWx0ZXIoZnVuY3Rpb24gKGNzcykgeyByZXR1cm4gY3NzOyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzZWxlY3RlZENoaXBzJzpcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5lLWFjdGl2ZScpLCAnZS1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uID09PSAnTXVsdGlwbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11bHRpU2VsZWN0ZWRDaGlwID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm11bHRpU2VsZWN0aW9uKG5ld1Byb3Auc2VsZWN0ZWRDaGlwcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2VsZWN0KHRoaXMubXVsdGlTZWxlY3RlZENoaXAsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZENoaXBzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2VsZWN0KG5ld1Byb3Auc2VsZWN0ZWRDaGlwcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW5hYmxlUnRsJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRSdGwoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYWxsb3dEcmFnQW5kRHJvcCc6XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmFnQ29sbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnQ29sbGVjdGlvbltpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmFnQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hbGxvd0RyYWdBbmREcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZURyYWdnaW5nQ2hpcHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdkcmFnQXJlYSc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFsbG93RHJhZ0FuZERyb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5kcmFnQ29sbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhZ0NvbGxlY3Rpb25baV0uZHJhZ0FyZWEgPSB0aGlzLmRyYWdBcmVhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgQ2hpcExpc3RfMTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoW10pXG4gICAgXSwgQ2hpcExpc3QucHJvdG90eXBlLCBcImNoaXBzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KCcnKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KCcnKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJhdmF0YXJUZXh0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KCcnKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJhdmF0YXJJY29uQ3NzXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KCcnKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJodG1sQXR0cmlidXRlc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnJylcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwibGVhZGluZ0ljb25Dc3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoJycpXG4gICAgXSwgQ2hpcExpc3QucHJvdG90eXBlLCBcInRyYWlsaW5nSWNvbkNzc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnJylcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwibGVhZGluZ0ljb25VcmxcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoJycpXG4gICAgXSwgQ2hpcExpc3QucHJvdG90eXBlLCBcInRyYWlsaW5nSWNvblVybFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnJylcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwiY3NzQ2xhc3NcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkodHJ1ZSlcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwiZW5hYmxlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eShbXSlcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwic2VsZWN0ZWRDaGlwc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnTm9uZScpXG4gICAgXSwgQ2hpcExpc3QucHJvdG90eXBlLCBcInNlbGVjdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwiZW5hYmxlRGVsZXRlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KGZhbHNlKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJhbGxvd0RyYWdBbmREcm9wXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KG51bGwpXG4gICAgXSwgQ2hpcExpc3QucHJvdG90eXBlLCBcImRyYWdBcmVhXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEV2ZW50KClcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwiY3JlYXRlZFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBFdmVudCgpXG4gICAgXSwgQ2hpcExpc3QucHJvdG90eXBlLCBcImNsaWNrXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEV2ZW50KClcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwiYmVmb3JlQ2xpY2tcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgRXZlbnQoKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJkZWxldGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgRXZlbnQoKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJkZWxldGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEV2ZW50KClcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwiZHJhZ1N0YXJ0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEV2ZW50KClcbiAgICBdLCBDaGlwTGlzdC5wcm90b3R5cGUsIFwiZHJhZ2dpbmdcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgRXZlbnQoKVxuICAgIF0sIENoaXBMaXN0LnByb3RvdHlwZSwgXCJkcmFnU3RvcFwiLCB2b2lkIDApO1xuICAgIENoaXBMaXN0ID0gQ2hpcExpc3RfMSA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBOb3RpZnlQcm9wZXJ0eUNoYW5nZXNcbiAgICBdLCBDaGlwTGlzdCk7XG4gICAgcmV0dXJuIENoaXBMaXN0O1xufShDb21wb25lbnQpKTtcbmV4cG9ydCB7IENoaXBMaXN0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/chips/chip-list.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/common/common.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/common/common.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BeforeChangeEventArgs: () => (/* binding */ BeforeChangeEventArgs),\n/* harmony export */   createCheckBox: () => (/* binding */ createCheckBox),\n/* harmony export */   destroy: () => (/* binding */ destroy),\n/* harmony export */   getTextNode: () => (/* binding */ getTextNode),\n/* harmony export */   preRender: () => (/* binding */ preRender),\n/* harmony export */   rippleMouseHandler: () => (/* binding */ rippleMouseHandler),\n/* harmony export */   setHiddenInput: () => (/* binding */ setHiddenInput),\n/* harmony export */   wrapperInitialize: () => (/* binding */ wrapperInitialize)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"(ssr)/./node_modules/.pnpm/@syncfusion+ej2-base@29.1.36/node_modules/@syncfusion/ej2-base/index.js\");\n\n\n/**\n * Initialize wrapper element for angular.\n *\n * @private\n *\n * @param {CreateElementArgs} createElement - Specifies created element args\n * @param {string} tag - Specifies tag name\n * @param {string} type - Specifies type name\n * @param {HTMLInputElement} element - Specifies input element\n * @param {string} WRAPPER - Specifies wrapper element\n * @param {string} role - Specifies role\n * @returns {HTMLInputElement} - Input Element\n */\nfunction wrapperInitialize(createElement, tag, type, element, WRAPPER, role) {\n    var input = element;\n    if (element.tagName === tag) {\n        var ejInstance = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getValue)('ej2_instances', element);\n        input = createElement('input', { attrs: { 'type': type } });\n        var props = ['change', 'cssClass', 'label', 'labelPosition', 'id'];\n        for (var index = 0, len = element.attributes.length; index < len; index++) {\n            if (props.indexOf(element.attributes[index].nodeName) === -1) {\n                input.setAttribute(element.attributes[index].nodeName, element.attributes[index].nodeValue);\n            }\n        }\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.attributes)(element, { 'class': WRAPPER });\n        element.appendChild(input);\n        element.classList.add(role);\n        element.classList.remove(role);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setValue)('ej2_instances', ejInstance, input);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.deleteObject)(element, 'ej2_instances');\n    }\n    return input;\n}\n/**\n * Get the text node.\n *\n * @param {HTMLElement} element - Specifies html element\n * @private\n * @returns {Node} - Text node.\n */\nfunction getTextNode(element) {\n    var node;\n    var childnode = element.childNodes;\n    for (var i = 0; i < childnode.length; i++) {\n        node = childnode[i];\n        if (node.nodeType === 3) {\n            return node;\n        }\n    }\n    return null;\n}\n/**\n * Destroy the button components.\n *\n * @private\n * @param {Switch | CheckBox} ejInst - Specifies eJ2 Instance\n * @param {Element} wrapper - Specifies wrapper element\n * @param {string} tagName - Specifies tag name\n * @returns {void}\n */\nfunction destroy(ejInst, wrapper, tagName) {\n    if (tagName === 'INPUT') {\n        wrapper.parentNode.insertBefore(ejInst.element, wrapper);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(wrapper);\n        ejInst.element.checked = false;\n        ['name', 'value', 'disabled'].forEach(function (key) {\n            ejInst.element.removeAttribute(key);\n        });\n    }\n    else {\n        ['role', 'aria-checked', 'class'].forEach(function (key) {\n            wrapper.removeAttribute(key);\n        });\n        wrapper.innerHTML = '';\n        ejInst.element = wrapper;\n    }\n}\n/**\n * Initialize control pre rendering.\n *\n * @private\n * @param {Switch | CheckBox} proxy - Specifies proxy\n * @param {string} control - Specifies control\n * @param {string} wrapper - Specifies wrapper element\n * @param {HTMLInputElement} element - Specifies input element\n * @param {string} moduleName - Specifies module name\n * @returns {void}\n */\nfunction preRender(proxy, control, wrapper, element, moduleName) {\n    element = wrapperInitialize(proxy.createElement, control, 'checkbox', element, wrapper, moduleName);\n    proxy.element = element;\n    if (proxy.element.getAttribute('type') !== 'checkbox') {\n        proxy.element.setAttribute('type', 'checkbox');\n    }\n    if (!proxy.element.id) {\n        proxy.element.id = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.getUniqueID)('e-' + moduleName);\n    }\n}\n/**\n * Creates CheckBox component UI with theming and ripple support.\n *\n * @private\n * @param {CreateElementArgs} createElement - Specifies Created Element args\n * @param {boolean} enableRipple - Specifies ripple effect\n * @param {CheckBoxUtilModel} options - Specifies Checkbox util Model\n * @returns {Element} - Checkbox Element\n */\nfunction createCheckBox(createElement, enableRipple, options) {\n    if (enableRipple === void 0) { enableRipple = false; }\n    if (options === void 0) { options = {}; }\n    var wrapper = createElement('div', { className: 'e-checkbox-wrapper e-css' });\n    if (options.cssClass) {\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([wrapper], options.cssClass.split(' '));\n    }\n    if (options.enableRtl) {\n        wrapper.classList.add('e-rtl');\n    }\n    if (enableRipple) {\n        var rippleSpan = createElement('span', { className: 'e-ripple-container' });\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.rippleEffect)(rippleSpan, { isCenterRipple: true, duration: 400 });\n        wrapper.appendChild(rippleSpan);\n    }\n    var frameSpan = createElement('span', { className: 'e-frame e-icons' });\n    if (options.checked) {\n        frameSpan.classList.add('e-check');\n    }\n    wrapper.appendChild(frameSpan);\n    if (options.label) {\n        var labelSpan = createElement('span', { className: 'e-label' });\n        if (options.disableHtmlEncode) {\n            labelSpan.textContent = options.label;\n        }\n        else {\n            labelSpan.innerHTML = options.label;\n        }\n        wrapper.appendChild(labelSpan);\n    }\n    return wrapper;\n}\n/**\n * Handles ripple mouse.\n *\n * @private\n * @param {MouseEvent} e - Specifies mouse event\n * @param {Element} rippleSpan - Specifies Ripple span element\n * @returns {void}\n */\nfunction rippleMouseHandler(e, rippleSpan) {\n    if (rippleSpan) {\n        var event_1 = document.createEvent('MouseEvents');\n        event_1.initEvent(e.type, false, true);\n        rippleSpan.dispatchEvent(event_1);\n    }\n}\n/**\n * Append hidden input to given element\n *\n * @private\n * @param {Switch | CheckBox} proxy - Specifies Proxy\n * @param {Element} wrap - Specifies Wrapper ELement\n * @returns {void}\n */\nfunction setHiddenInput(proxy, wrap) {\n    if (proxy.element.getAttribute('ejs-for')) {\n        wrap.appendChild(proxy.createElement('input', {\n            attrs: { 'name': proxy.name || proxy.element.name, 'value': 'false', 'type': 'hidden' }\n        }));\n    }\n}\n/**\n * Represents the event arguments for a \"beforeChange\" event.\n *\n * This object contains details about an action that is about to occur, allowing you to intercept and cancel the action before it's finalized.\n */\nvar BeforeChangeEventArgs = /** @class */ (function () {\n    function BeforeChangeEventArgs() {\n    }\n    return BeforeChangeEventArgs;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHN5bmNmdXNpb24rZWoyLWJ1dHRvbnNAMjkuMS4zNC9ub2RlX21vZHVsZXMvQHN5bmNmdXNpb24vZWoyLWJ1dHRvbnMvc3JjL2NvbW1vbi9jb21tb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsa0JBQWtCO0FBQzdCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxrQkFBa0I7QUFDL0I7QUFDTztBQUNQO0FBQ0E7QUFDQSx5QkFBeUIsOERBQVE7QUFDakMseUNBQXlDLFNBQVMsZ0JBQWdCO0FBQ2xFO0FBQ0EsNkRBQTZELGFBQWE7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLGdFQUFVLFlBQVksa0JBQWtCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsOERBQVE7QUFDaEIsUUFBUSxrRUFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGFBQWE7QUFDeEI7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDTztBQUNQO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQjtBQUM5QixXQUFXLFNBQVM7QUFDcEIsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsNERBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxrQkFBa0I7QUFDN0IsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGlFQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCLFdBQVcsU0FBUztBQUNwQixXQUFXLG1CQUFtQjtBQUM5QixhQUFhLFNBQVM7QUFDdEI7QUFDTztBQUNQLG1DQUFtQztBQUNuQyw4QkFBOEI7QUFDOUIseUNBQXlDLHVDQUF1QztBQUNoRjtBQUNBLFFBQVEsOERBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxpQ0FBaUM7QUFDbEYsUUFBUSxrRUFBWSxlQUFlLHFDQUFxQztBQUN4RTtBQUNBO0FBQ0EsNENBQTRDLDhCQUE4QjtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELHNCQUFzQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCLFdBQVcsU0FBUztBQUNwQixhQUFhO0FBQ2I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsV0FBVyxTQUFTO0FBQ3BCLGFBQWE7QUFDYjtBQUNPO0FBQ1A7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDZ0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haV90cmF2ZWwvLi9ub2RlX21vZHVsZXMvLnBucG0vQHN5bmNmdXNpb24rZWoyLWJ1dHRvbnNAMjkuMS4zNC9ub2RlX21vZHVsZXMvQHN5bmNmdXNpb24vZWoyLWJ1dHRvbnMvc3JjL2NvbW1vbi9jb21tb24uanM/NDgxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXRhY2gsIGdldFVuaXF1ZUlELCByaXBwbGVFZmZlY3QsIHNldFZhbHVlLCBhdHRyaWJ1dGVzIH0gZnJvbSAnQHN5bmNmdXNpb24vZWoyLWJhc2UnO1xuaW1wb3J0IHsgZ2V0VmFsdWUsIGFkZENsYXNzLCBkZWxldGVPYmplY3QgfSBmcm9tICdAc3luY2Z1c2lvbi9lajItYmFzZSc7XG4vKipcbiAqIEluaXRpYWxpemUgd3JhcHBlciBlbGVtZW50IGZvciBhbmd1bGFyLlxuICpcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtDcmVhdGVFbGVtZW50QXJnc30gY3JlYXRlRWxlbWVudCAtIFNwZWNpZmllcyBjcmVhdGVkIGVsZW1lbnQgYXJnc1xuICogQHBhcmFtIHtzdHJpbmd9IHRhZyAtIFNwZWNpZmllcyB0YWcgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBTcGVjaWZpZXMgdHlwZSBuYW1lXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGVsZW1lbnQgLSBTcGVjaWZpZXMgaW5wdXQgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IFdSQVBQRVIgLSBTcGVjaWZpZXMgd3JhcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcm9sZSAtIFNwZWNpZmllcyByb2xlXG4gKiBAcmV0dXJucyB7SFRNTElucHV0RWxlbWVudH0gLSBJbnB1dCBFbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwcGVySW5pdGlhbGl6ZShjcmVhdGVFbGVtZW50LCB0YWcsIHR5cGUsIGVsZW1lbnQsIFdSQVBQRVIsIHJvbGUpIHtcbiAgICB2YXIgaW5wdXQgPSBlbGVtZW50O1xuICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09IHRhZykge1xuICAgICAgICB2YXIgZWpJbnN0YW5jZSA9IGdldFZhbHVlKCdlajJfaW5zdGFuY2VzJywgZWxlbWVudCk7XG4gICAgICAgIGlucHV0ID0gY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IGF0dHJzOiB7ICd0eXBlJzogdHlwZSB9IH0pO1xuICAgICAgICB2YXIgcHJvcHMgPSBbJ2NoYW5nZScsICdjc3NDbGFzcycsICdsYWJlbCcsICdsYWJlbFBvc2l0aW9uJywgJ2lkJ107XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMCwgbGVuID0gZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaW5kZXggPCBsZW47IGluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5pbmRleE9mKGVsZW1lbnQuYXR0cmlidXRlc1tpbmRleF0ubm9kZU5hbWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGlucHV0LnNldEF0dHJpYnV0ZShlbGVtZW50LmF0dHJpYnV0ZXNbaW5kZXhdLm5vZGVOYW1lLCBlbGVtZW50LmF0dHJpYnV0ZXNbaW5kZXhdLm5vZGVWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlcyhlbGVtZW50LCB7ICdjbGFzcyc6IFdSQVBQRVIgfSk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQocm9sZSk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShyb2xlKTtcbiAgICAgICAgc2V0VmFsdWUoJ2VqMl9pbnN0YW5jZXMnLCBlakluc3RhbmNlLCBpbnB1dCk7XG4gICAgICAgIGRlbGV0ZU9iamVjdChlbGVtZW50LCAnZWoyX2luc3RhbmNlcycpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQ7XG59XG4vKipcbiAqIEdldCB0aGUgdGV4dCBub2RlLlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBTcGVjaWZpZXMgaHRtbCBlbGVtZW50XG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge05vZGV9IC0gVGV4dCBub2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGV4dE5vZGUoZWxlbWVudCkge1xuICAgIHZhciBub2RlO1xuICAgIHZhciBjaGlsZG5vZGUgPSBlbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbm9kZSA9IGNoaWxkbm9kZVtpXTtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBEZXN0cm95IHRoZSBidXR0b24gY29tcG9uZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtTd2l0Y2ggfCBDaGVja0JveH0gZWpJbnN0IC0gU3BlY2lmaWVzIGVKMiBJbnN0YW5jZVxuICogQHBhcmFtIHtFbGVtZW50fSB3cmFwcGVyIC0gU3BlY2lmaWVzIHdyYXBwZXIgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHRhZ05hbWUgLSBTcGVjaWZpZXMgdGFnIG5hbWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveShlakluc3QsIHdyYXBwZXIsIHRhZ05hbWUpIHtcbiAgICBpZiAodGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICB3cmFwcGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGVqSW5zdC5lbGVtZW50LCB3cmFwcGVyKTtcbiAgICAgICAgZGV0YWNoKHdyYXBwZXIpO1xuICAgICAgICBlakluc3QuZWxlbWVudC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIFsnbmFtZScsICd2YWx1ZScsICdkaXNhYmxlZCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgZWpJbnN0LmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgWydyb2xlJywgJ2FyaWEtY2hlY2tlZCcsICdjbGFzcyddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGVqSW5zdC5lbGVtZW50ID0gd3JhcHBlcjtcbiAgICB9XG59XG4vKipcbiAqIEluaXRpYWxpemUgY29udHJvbCBwcmUgcmVuZGVyaW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1N3aXRjaCB8IENoZWNrQm94fSBwcm94eSAtIFNwZWNpZmllcyBwcm94eVxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRyb2wgLSBTcGVjaWZpZXMgY29udHJvbFxuICogQHBhcmFtIHtzdHJpbmd9IHdyYXBwZXIgLSBTcGVjaWZpZXMgd3JhcHBlciBlbGVtZW50XG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9IGVsZW1lbnQgLSBTcGVjaWZpZXMgaW5wdXQgZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZU5hbWUgLSBTcGVjaWZpZXMgbW9kdWxlIG5hbWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlUmVuZGVyKHByb3h5LCBjb250cm9sLCB3cmFwcGVyLCBlbGVtZW50LCBtb2R1bGVOYW1lKSB7XG4gICAgZWxlbWVudCA9IHdyYXBwZXJJbml0aWFsaXplKHByb3h5LmNyZWF0ZUVsZW1lbnQsIGNvbnRyb2wsICdjaGVja2JveCcsIGVsZW1lbnQsIHdyYXBwZXIsIG1vZHVsZU5hbWUpO1xuICAgIHByb3h5LmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIGlmIChwcm94eS5lbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpICE9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIHByb3h5LmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2NoZWNrYm94Jyk7XG4gICAgfVxuICAgIGlmICghcHJveHkuZWxlbWVudC5pZCkge1xuICAgICAgICBwcm94eS5lbGVtZW50LmlkID0gZ2V0VW5pcXVlSUQoJ2UtJyArIG1vZHVsZU5hbWUpO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBDaGVja0JveCBjb21wb25lbnQgVUkgd2l0aCB0aGVtaW5nIGFuZCByaXBwbGUgc3VwcG9ydC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtDcmVhdGVFbGVtZW50QXJnc30gY3JlYXRlRWxlbWVudCAtIFNwZWNpZmllcyBDcmVhdGVkIEVsZW1lbnQgYXJnc1xuICogQHBhcmFtIHtib29sZWFufSBlbmFibGVSaXBwbGUgLSBTcGVjaWZpZXMgcmlwcGxlIGVmZmVjdFxuICogQHBhcmFtIHtDaGVja0JveFV0aWxNb2RlbH0gb3B0aW9ucyAtIFNwZWNpZmllcyBDaGVja2JveCB1dGlsIE1vZGVsXG4gKiBAcmV0dXJucyB7RWxlbWVudH0gLSBDaGVja2JveCBFbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGVja0JveChjcmVhdGVFbGVtZW50LCBlbmFibGVSaXBwbGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoZW5hYmxlUmlwcGxlID09PSB2b2lkIDApIHsgZW5hYmxlUmlwcGxlID0gZmFsc2U7IH1cbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciB3cmFwcGVyID0gY3JlYXRlRWxlbWVudCgnZGl2JywgeyBjbGFzc05hbWU6ICdlLWNoZWNrYm94LXdyYXBwZXIgZS1jc3MnIH0pO1xuICAgIGlmIChvcHRpb25zLmNzc0NsYXNzKSB7XG4gICAgICAgIGFkZENsYXNzKFt3cmFwcGVyXSwgb3B0aW9ucy5jc3NDbGFzcy5zcGxpdCgnICcpKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZW5hYmxlUnRsKSB7XG4gICAgICAgIHdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZS1ydGwnKTtcbiAgICB9XG4gICAgaWYgKGVuYWJsZVJpcHBsZSkge1xuICAgICAgICB2YXIgcmlwcGxlU3BhbiA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogJ2UtcmlwcGxlLWNvbnRhaW5lcicgfSk7XG4gICAgICAgIHJpcHBsZUVmZmVjdChyaXBwbGVTcGFuLCB7IGlzQ2VudGVyUmlwcGxlOiB0cnVlLCBkdXJhdGlvbjogNDAwIH0pO1xuICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHJpcHBsZVNwYW4pO1xuICAgIH1cbiAgICB2YXIgZnJhbWVTcGFuID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1mcmFtZSBlLWljb25zJyB9KTtcbiAgICBpZiAob3B0aW9ucy5jaGVja2VkKSB7XG4gICAgICAgIGZyYW1lU3Bhbi5jbGFzc0xpc3QuYWRkKCdlLWNoZWNrJyk7XG4gICAgfVxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZnJhbWVTcGFuKTtcbiAgICBpZiAob3B0aW9ucy5sYWJlbCkge1xuICAgICAgICB2YXIgbGFiZWxTcGFuID0gY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiAnZS1sYWJlbCcgfSk7XG4gICAgICAgIGlmIChvcHRpb25zLmRpc2FibGVIdG1sRW5jb2RlKSB7XG4gICAgICAgICAgICBsYWJlbFNwYW4udGV4dENvbnRlbnQgPSBvcHRpb25zLmxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGFiZWxTcGFuLmlubmVySFRNTCA9IG9wdGlvbnMubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChsYWJlbFNwYW4pO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcHBlcjtcbn1cbi8qKlxuICogSGFuZGxlcyByaXBwbGUgbW91c2UuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZSAtIFNwZWNpZmllcyBtb3VzZSBldmVudFxuICogQHBhcmFtIHtFbGVtZW50fSByaXBwbGVTcGFuIC0gU3BlY2lmaWVzIFJpcHBsZSBzcGFuIGVsZW1lbnRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmlwcGxlTW91c2VIYW5kbGVyKGUsIHJpcHBsZVNwYW4pIHtcbiAgICBpZiAocmlwcGxlU3Bhbikge1xuICAgICAgICB2YXIgZXZlbnRfMSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgICAgICBldmVudF8xLmluaXRFdmVudChlLnR5cGUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgcmlwcGxlU3Bhbi5kaXNwYXRjaEV2ZW50KGV2ZW50XzEpO1xuICAgIH1cbn1cbi8qKlxuICogQXBwZW5kIGhpZGRlbiBpbnB1dCB0byBnaXZlbiBlbGVtZW50XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3dpdGNoIHwgQ2hlY2tCb3h9IHByb3h5IC0gU3BlY2lmaWVzIFByb3h5XG4gKiBAcGFyYW0ge0VsZW1lbnR9IHdyYXAgLSBTcGVjaWZpZXMgV3JhcHBlciBFTGVtZW50XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZGRlbklucHV0KHByb3h5LCB3cmFwKSB7XG4gICAgaWYgKHByb3h5LmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdlanMtZm9yJykpIHtcbiAgICAgICAgd3JhcC5hcHBlbmRDaGlsZChwcm94eS5jcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcbiAgICAgICAgICAgIGF0dHJzOiB7ICduYW1lJzogcHJveHkubmFtZSB8fCBwcm94eS5lbGVtZW50Lm5hbWUsICd2YWx1ZSc6ICdmYWxzZScsICd0eXBlJzogJ2hpZGRlbicgfVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBldmVudCBhcmd1bWVudHMgZm9yIGEgXCJiZWZvcmVDaGFuZ2VcIiBldmVudC5cbiAqXG4gKiBUaGlzIG9iamVjdCBjb250YWlucyBkZXRhaWxzIGFib3V0IGFuIGFjdGlvbiB0aGF0IGlzIGFib3V0IHRvIG9jY3VyLCBhbGxvd2luZyB5b3UgdG8gaW50ZXJjZXB0IGFuZCBjYW5jZWwgdGhlIGFjdGlvbiBiZWZvcmUgaXQncyBmaW5hbGl6ZWQuXG4gKi9cbnZhciBCZWZvcmVDaGFuZ2VFdmVudEFyZ3MgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmVmb3JlQ2hhbmdlRXZlbnRBcmdzKCkge1xuICAgIH1cbiAgICByZXR1cm4gQmVmb3JlQ2hhbmdlRXZlbnRBcmdzO1xufSgpKTtcbmV4cG9ydCB7IEJlZm9yZUNoYW5nZUV2ZW50QXJncyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@syncfusion+ej2-buttons@29.1.34/node_modules/@syncfusion/ej2-buttons/src/common/common.js\n");

/***/ })

};
;