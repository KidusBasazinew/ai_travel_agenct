"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@syncfusion+ej2-navigations@29.1.40";
exports.ids = ["vendor-chunks/@syncfusion+ej2-navigations@29.1.40"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@syncfusion+ej2-navigations@29.1.40/node_modules/@syncfusion/ej2-navigations/src/sidebar/sidebar.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@syncfusion+ej2-navigations@29.1.40/node_modules/@syncfusion/ej2-navigations/src/sidebar/sidebar.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Sidebar: () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"(ssr)/./node_modules/.pnpm/@syncfusion+ej2-base@29.1.36/node_modules/@syncfusion/ej2-base/index.js\");\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\n\n\nvar CONTROL = 'e-control';\nvar ROOT = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar RTL = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar DISPLAY = 'e-sidebar-display';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @class */ (function (_super) {\n    __extends(Sidebar, _super);\n    function Sidebar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.documentClickContext = _this.documentclickHandler.bind(_this);\n        return _this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n            this.firstRender = true;\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.checkType(true);\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n        if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        (this.enableRtl ? _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], RTL);\n    };\n    Sidebar.prototype.setTarget = function () {\n        this.targetEle = this.element.nextElementSibling;\n        this.sidebarEleCopy = this.element.cloneNode(true);\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], SIDEBARABSOLUTE);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.target], CONTEXT);\n            this.targetEle = this.getTargetElement();\n        }\n    };\n    Sidebar.prototype.getTargetElement = function () {\n        var siblingElement = this.element.nextElementSibling;\n        while (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(siblingElement)) {\n            if (!siblingElement.classList.contains(ROOT)) {\n                break;\n            }\n            siblingElement = siblingElement.nextElementSibling;\n        }\n        return siblingElement;\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            document.addEventListener('mousedown', this.documentClickContext);\n            document.addEventListener('touchstart', this.documentClickContext);\n        }\n        else {\n            document.removeEventListener('mousedown', this.documentClickContext);\n            document.removeEventListener('touchstart', this.documentClickContext);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        if (this.element.tagName === 'EJS-SIDEBAR') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], DISPLAY);\n        }\n        var classELement = document.querySelector('.e-main-content');\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(classELement || this.targetEle)) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([classELement || this.targetEle], [MAINCONTENTANIMATION]);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : null;\n        if (!this.enableDock && this.type !== 'Auto') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], [VISIBILITY]);\n        }\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.enableDock) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], DOCKER);\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.tabIndex)) {\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        if (this.type === 'Auto' && !_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice && this.checkMediaQuery()) {\n            this.show();\n        }\n        else if (!this.isOpen) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], [CLOSE, DISABLEANIMATION]);\n        }\n    };\n    Sidebar.prototype.checkType = function (val) {\n        if (!(this.type === 'Push' || this.type === 'Over' || this.type === 'Slide')) {\n            this.type = 'Auto';\n        }\n        else {\n            if (!this.element.classList.contains(CLOSE) && !val) {\n                this.hide();\n            }\n        }\n    };\n    Sidebar.prototype.transitionEnd = function (e) {\n        this.setDock();\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e) && !this.firstRender) {\n            this.triggerChange();\n        }\n        this.firstRender = false;\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(this.element, 'transitionend', this.transitionEnd);\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (this.target && this.showBackdrop && sibling && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.defaultBackdropDiv)) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.defaultBackdropDiv], DEFAULTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     *\n     * @param {Event} e - The event triggering the hide action.\n     * @returns {void}\n     *\n     */\n    Sidebar.prototype.hide = function (e) {\n        var _this = this;\n        var closeArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e),\n            event: (e || null)\n        };\n        this.trigger('close', closeArguments, function (observedcloseArgs) {\n            if (!observedcloseArgs.cancel) {\n                if (_this.element.classList.contains(CLOSE)) {\n                    return;\n                }\n                if (_this.element.classList.contains(OPEN) && !_this.animate) {\n                    _this.triggerChange();\n                }\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([_this.element], CLOSE);\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([_this.element], OPEN);\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(_this.element, { 'width': (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(_this.enableDock ? _this.dockSize : _this.width) });\n                _this.setType(_this.type);\n                var sibling = document.querySelector('.e-main-content') || _this.targetEle;\n                if (!_this.enableDock && sibling) {\n                    sibling.style.transform = 'translateX(' + 0 + 'px)';\n                    sibling.style[_this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n                }\n                _this.destroyBackDrop();\n                _this.setAnimation();\n                if (_this.type === 'Slide') {\n                    document.body.classList.remove('e-sidebar-overflow');\n                }\n                _this.setProperties({ isOpen: false }, true);\n                if (_this.enableDock) {\n                    setTimeout(function () { return _this.setTimeOut(); }, 50);\n                }\n                _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n            }\n        });\n    };\n    Sidebar.prototype.setTimeOut = function () {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        var elementWidth = this.element.getBoundingClientRect().width;\n        if (this.element.classList.contains(OPEN) && sibling && !(this.type === 'Over' && this.enableDock)) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n        }\n        else if (this.element.classList.contains(CLOSE) && sibling) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n        }\n    };\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     *\n     * @param {Event} e - The optional event triggering the show action.\n     * @returns {void}\n     */\n    Sidebar.prototype.show = function (e) {\n        var _this = this;\n        var openArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(e),\n            event: (e || null)\n        };\n        this.trigger('open', openArguments, function (observedopenArgs) {\n            if (!observedopenArgs.cancel) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([_this.element], [VISIBILITY, DISABLEANIMATION]);\n                if (_this.element.classList.contains(OPEN)) {\n                    return;\n                }\n                if (_this.element.classList.contains(CLOSE) && !_this.animate) {\n                    _this.triggerChange();\n                }\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([_this.element], [OPEN, TRASITION]);\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(_this.element, { 'transform': '' });\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([_this.element], CLOSE);\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(_this.element, { 'width': (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(_this.width) });\n                _this.setType(_this.type);\n                _this.createBackDrop();\n                _this.setAnimation();\n                if (_this.type === 'Slide') {\n                    document.body.classList.add('e-sidebar-overflow');\n                }\n                _this.setProperties({ isOpen: true }, true);\n                _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n            }\n        });\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], DISABLEANIMATION);\n        }\n        else {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.triggerChange = function () {\n        var changeArguments = { name: 'change', element: this.element };\n        this.trigger('change', changeArguments);\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop && this.getState()) {\n            var targetString = this.target;\n            var sibling = document.querySelector('.e-main-content') || this.targetEle;\n            this.defaultBackdropDiv = this.createElement('div');\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.defaultBackdropDiv], DEFAULTBACKDROP);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(this.defaultBackdropDiv, { height: targetString.style.height });\n            sibling.appendChild(this.defaultBackdropDiv);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     *\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     *\n     * @returns {void}\n     */\n    Sidebar.prototype.toggle = function () {\n        if (this.element.classList.contains(OPEN)) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery) {\n            var media = false;\n            if (typeof (this.mediaQuery) === 'string') {\n                media = window.matchMedia(this.mediaQuery).matches;\n            }\n            else {\n                media = (this.mediaQuery).matches;\n            }\n            if (media && this.windowWidth !== window.innerWidth) {\n                this.show();\n            }\n            else if (this.getState() && this.windowWidth !== window.innerWidth) {\n                this.hide();\n            }\n        }\n    };\n    Sidebar.prototype.checkMediaQuery = function () {\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.mediaQuery)) {\n            return true;\n        }\n        return (typeof (this.mediaQuery) === 'string') ?\n            window.matchMedia(this.mediaQuery).matches : (this.mediaQuery).matches;\n    };\n    Sidebar.prototype.resize = function () {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.width) && this.width !== 'auto' && typeof this.width === 'string' && !this.width.includes('px')) {\n            this.setType(this.type);\n        }\n        if (this.type === 'Auto') {\n            if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], OVER);\n            }\n            else {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n        if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(e.target, '.' + CONTROL + '' + '.' + ROOT)) {\n            return;\n        }\n        this.hide(e);\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (!this.isOpen && this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.isOpen && this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide(args.originalEvent);\n        }\n        else if (this.isOpen && this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide(args.originalEvent);\n        }\n        else if (!this.isOpen && this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.add(window, 'resize', this.resize, this);\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(window, 'resize', this.resize);\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {SidebarModel} newProp - specifies newProp value.\n     * @param {SidebarModel} oldProp - specifies oldProp value.\n     * @returns {void}\n     * @private\n     *\n     */\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        var isRendered = this.isServerRendered;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    if (this.isOpen) {\n                        this.show();\n                    }\n                    else {\n                        this.hide();\n                    }\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    this.checkType(false);\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], [VISIBILITY]);\n                    this.addClass();\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], this.type === 'Auto' ? (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice ? ['e-over'] :\n                        ['e-push']) : ['e-' + this.type.toLowerCase()]);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginRight' : 'marginLeft'] = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], LEFT);\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], RIGHT);\n                    }\n                    else {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], RIGHT);\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.target)) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], SIDEBARABSOLUTE);\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([oldProp.target], CONTEXT);\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.setStyleAttribute)(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    this.isServerRendered = false;\n                    _super.prototype.refresh.call(this);\n                    this.isServerRendered = isRendered;\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice && this.type !== 'Auto' && !(this.type === 'Over' && this.enableDock)) {\n                sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                }\n                break;\n            case 'Slide':\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], [OVER]);\n                if (this.enableDock && (this.element.classList.contains(CLOSE) || this.isOpen)) {\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = this.setDimension(this.dockSize);\n                    }\n                }\n                break;\n            case 'Auto':\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], [TRASITION]);\n                if (_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], PUSH);\n                    }\n                    else {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], OVER);\n                    }\n                }\n                else {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                    }\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @returns {void}\n     *\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.target) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        if (this.element) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION, DISABLEANIMATION]);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([this.element], SIDEBARABSOLUTE);\n            this.element.style.width = '';\n            this.element.style.zIndex = '';\n            this.element.style.transform = '';\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(this.sidebarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        this.windowWidth = null;\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('en-US')\n    ], Sidebar.prototype, \"locale\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Sidebar.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Property)(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate([\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Event)()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate([\n        _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.Component));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHN5bmNmdXNpb24rZWoyLW5hdmlnYXRpb25zQDI5LjEuNDAvbm9kZV9tb2R1bGVzL0BzeW5jZnVzaW9uL2VqMi1uYXZpZ2F0aW9ucy9zcmMvc2lkZWJhci9zaWRlYmFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCO0FBQ0E7QUFDQSxlQUFlLGdCQUFnQixzQ0FBc0Msa0JBQWtCO0FBQ3ZGLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFrQixTQUFJLElBQUksU0FBSTtBQUM5QjtBQUNBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUN1SDtBQUNwQjtBQUNBO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkseURBQU87QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMERBQVEsR0FBRyw2REFBVztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDZDQUE2QztBQUM5RTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhEQUFRO0FBQ3BCLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQSxRQUFRLDhEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRLDhEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRLDhEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRLDhEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRLDhEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRLDhEQUFRO0FBQ2hCO0FBQ0E7QUFDQSxRQUFRLDJEQUFLO0FBQ2I7QUFDQTtBQUNBLFFBQVEsMkRBQUs7QUFDYjtBQUNBO0FBQ0EsUUFBUSwyREFBSztBQUNiO0FBQ0E7QUFDQSxRQUFRLDJEQUFLO0FBQ2I7QUFDQTtBQUNBLFFBQVEsMkRBQUs7QUFDYjtBQUNBO0FBQ0EsUUFBUSx1RUFBcUI7QUFDN0I7QUFDQTtBQUNBLENBQUMsQ0FBQywyREFBUztBQUNRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWlfdHJhdmVsLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzeW5jZnVzaW9uK2VqMi1uYXZpZ2F0aW9uc0AyOS4xLjQwL25vZGVfbW9kdWxlcy9Ac3luY2Z1c2lvbi9lajItbmF2aWdhdGlvbnMvc3JjL3NpZGViYXIvc2lkZWJhci5qcz9jMzVkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuaW1wb3J0IHsgQ29tcG9uZW50LCBmb3JtYXRVbml0LCBFdmVudEhhbmRsZXIsIEV2ZW50LCBpc051bGxPclVuZGVmaW5lZCwgY2xvc2VzdCwgQnJvd3NlciB9IGZyb20gJ0BzeW5jZnVzaW9uL2VqMi1iYXNlJztcbmltcG9ydCB7IFByb3BlcnR5LCBOb3RpZnlQcm9wZXJ0eUNoYW5nZXMsIGlzTnVsbE9yVW5kZWZpbmVkIGFzIGlzTk9VIH0gZnJvbSAnQHN5bmNmdXNpb24vZWoyLWJhc2UnO1xuaW1wb3J0IHsgc2V0U3R5bGVBdHRyaWJ1dGUgYXMgc2V0U3R5bGUsIGFkZENsYXNzLCByZW1vdmVDbGFzcywgVG91Y2ggfSBmcm9tICdAc3luY2Z1c2lvbi9lajItYmFzZSc7XG52YXIgQ09OVFJPTCA9ICdlLWNvbnRyb2wnO1xudmFyIFJPT1QgPSAnZS1zaWRlYmFyJztcbnZhciBET0NLRVIgPSAnZS1kb2NrJztcbnZhciBDTE9TRSA9ICdlLWNsb3NlJztcbnZhciBPUEVOID0gJ2Utb3Blbic7XG52YXIgVFJBU0lUSU9OID0gJ2UtdHJhbnNpdGlvbic7XG52YXIgREVGQVVMVEJBQ0tEUk9QID0gJ2Utc2lkZWJhci1vdmVybGF5JztcbnZhciBSVEwgPSAnZS1ydGwnO1xudmFyIFJJR0hUID0gJ2UtcmlnaHQnO1xudmFyIExFRlQgPSAnZS1sZWZ0JztcbnZhciBPVkVSID0gJ2Utb3Zlcic7XG52YXIgUFVTSCA9ICdlLXB1c2gnO1xudmFyIFNMSURFID0gJ2Utc2xpZGUnO1xudmFyIFZJU0lCSUxJVFkgPSAnZS12aXNpYmlsaXR5JztcbnZhciBESVNQTEFZID0gJ2Utc2lkZWJhci1kaXNwbGF5JztcbnZhciBNQUlOQ09OVEVOVEFOSU1BVElPTiA9ICdlLWNvbnRlbnQtYW5pbWF0aW9uJztcbnZhciBESVNBQkxFQU5JTUFUSU9OID0gJ2UtZGlzYWJsZS1hbmltYXRpb24nO1xudmFyIENPTlRFWFQgPSAnZS1zaWRlYmFyLWNvbnRleHQnO1xudmFyIFNJREVCQVJBQlNPTFVURSA9ICdlLXNpZGViYXItYWJzb2x1dGUnO1xuLyoqXG4gKiBTaWRlYmFyIGlzIGFuIGV4cGFuZGFibGUgb3IgY29sbGFwc2libGVcbiAqIGNvbXBvbmVudCB0aGF0IHR5cGljYWxseSBhY3QgYXMgYSBzaWRlIGNvbnRhaW5lciB0byBwbGFjZSB0aGUgcHJpbWFyeSBvciBzZWNvbmRhcnkgY29udGVudCBhbG9uZ3NpZGUgb2YgdGhlIG1haW4gY29udGVudC5cbiAqIGBgYGh0bWxcbiAqIDxhc2lkZSBpZD1cInNpZGViYXJcIj5cbiAqIDwvYXNpZGU+XG4gKiBgYGBcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIDxzY3JpcHQ+XG4gKiAgIGxldCBzaWRlYmFyT2JqZWN0OiBTaWRlYmFyID0gbmV3IFNpZGViYXIoKTtcbiAqICAgc2lkZWJhck9iamVjdC5hcHBlbmRUbyhcIiNzaWRlYmFyXCIpO1xuICogPC9zY3JpcHQ+XG4gKiBgYGBcbiAqL1xudmFyIFNpZGViYXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpZGViYXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2lkZWJhcihvcHRpb25zLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMsIGVsZW1lbnQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmRvY3VtZW50Q2xpY2tDb250ZXh0ID0gX3RoaXMuZG9jdW1lbnRjbGlja0hhbmRsZXIuYmluZChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2lkZWJhci5wcm90b3R5cGUucHJlUmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldFdpZHRoKCk7XG4gICAgfTtcbiAgICBTaWRlYmFyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLndpcmVFdmVudHMoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDb21wbGV0ZSgpO1xuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRUYXJnZXQoKTtcbiAgICAgICAgdGhpcy5hZGRDbGFzcygpO1xuICAgICAgICB0aGlzLnNldFppbmRleCgpO1xuICAgICAgICBpZiAodGhpcy5lbmFibGVEb2NrKSB7XG4gICAgICAgICAgICB0aGlzLnNldERvY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc09wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgdGhpcy5maXJzdFJlbmRlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldE1lZGlhUXVlcnkoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoZWNrVHlwZSh0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRUeXBlKHRoaXMudHlwZSk7XG4gICAgICAgIHRoaXMuc2V0Q2xvc2VPbkRvY3VtZW50Q2xpY2soKTtcbiAgICAgICAgdGhpcy5zZXRFbmFibGVSVEwoKTtcbiAgICAgICAgaWYgKEJyb3dzZXIuaXNEZXZpY2UpIHtcbiAgICAgICAgICAgIHRoaXMud2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUuc2V0RW5hYmxlUlRMID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAodGhpcy5lbmFibGVSdGwgPyBhZGRDbGFzcyA6IHJlbW92ZUNsYXNzKShbdGhpcy5lbGVtZW50XSwgUlRMKTtcbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnNldFRhcmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50YXJnZXRFbGUgPSB0aGlzLmVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICB0aGlzLnNpZGViYXJFbGVDb3B5ID0gdGhpcy5lbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiAodGhpcy50YXJnZXQpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5zZXRQcm9wZXJ0aWVzKHsgdGFyZ2V0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMudGFyZ2V0KSB9LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0Lmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQsIHRoaXMudGFyZ2V0LmNoaWxkcmVuWzBdKTtcbiAgICAgICAgICAgIGFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCBTSURFQkFSQUJTT0xVVEUpO1xuICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMudGFyZ2V0XSwgQ09OVEVYVCk7XG4gICAgICAgICAgICB0aGlzLnRhcmdldEVsZSA9IHRoaXMuZ2V0VGFyZ2V0RWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaWRlYmFyLnByb3RvdHlwZS5nZXRUYXJnZXRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2libGluZ0VsZW1lbnQgPSB0aGlzLmVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICB3aGlsZSAoIWlzTk9VKHNpYmxpbmdFbGVtZW50KSkge1xuICAgICAgICAgICAgaWYgKCFzaWJsaW5nRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoUk9PVCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNpYmxpbmdFbGVtZW50ID0gc2libGluZ0VsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaWJsaW5nRWxlbWVudDtcbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnNldENsb3NlT25Eb2N1bWVudENsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZU9uRG9jdW1lbnRDbGljaykge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5kb2N1bWVudENsaWNrQ29udGV4dCk7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5kb2N1bWVudENsaWNrQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmRvY3VtZW50Q2xpY2tDb250ZXh0KTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLmRvY3VtZW50Q2xpY2tDb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUuc2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZURvY2sgJiYgdGhpcy5wb3NpdGlvbiA9PT0gJ0xlZnQnKSB7XG4gICAgICAgICAgICBzZXRTdHlsZSh0aGlzLmVsZW1lbnQsIHsgJ3dpZHRoJzogdGhpcy5zZXREaW1lbnNpb24odGhpcy5kb2NrU2l6ZSkgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmFibGVEb2NrICYmIHRoaXMucG9zaXRpb24gPT09ICdSaWdodCcpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHRoaXMuZWxlbWVudCwgeyAnd2lkdGgnOiB0aGlzLnNldERpbWVuc2lvbih0aGlzLmRvY2tTaXplKSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5lbmFibGVEb2NrKSB7XG4gICAgICAgICAgICBzZXRTdHlsZSh0aGlzLmVsZW1lbnQsIHsgJ3dpZHRoJzogdGhpcy5zZXREaW1lbnNpb24odGhpcy53aWR0aCkgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnNldERpbWVuc2lvbiA9IGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpZHRoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgd2lkdGggPSBmb3JtYXRVbml0KHdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2lkdGggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB3aWR0aCA9ICh3aWR0aC5tYXRjaCgvcHh8JXxlbS8pKSA/IHdpZHRoIDogZm9ybWF0VW5pdCh3aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCA9ICcxMDAlJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfTtcbiAgICBTaWRlYmFyLnByb3RvdHlwZS5zZXRaaW5kZXggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldFN0eWxlKHRoaXMuZWxlbWVudCwgeyAnei1pbmRleCc6ICcnICsgdGhpcy56SW5kZXggfSk7XG4gICAgfTtcbiAgICBTaWRlYmFyLnByb3RvdHlwZS5hZGRDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC50YWdOYW1lID09PSAnRUpTLVNJREVCQVInKSB7XG4gICAgICAgICAgICBhZGRDbGFzcyhbdGhpcy5lbGVtZW50XSwgRElTUExBWSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsYXNzRUxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lLW1haW4tY29udGVudCcpO1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGNsYXNzRUxlbWVudCB8fCB0aGlzLnRhcmdldEVsZSkpIHtcbiAgICAgICAgICAgIGFkZENsYXNzKFtjbGFzc0VMZW1lbnQgfHwgdGhpcy50YXJnZXRFbGVdLCBbTUFJTkNPTlRFTlRBTklNQVRJT05dKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhYkluZGV4ID0gdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSA/IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JykgOiBudWxsO1xuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlRG9jayAmJiB0aGlzLnR5cGUgIT09ICdBdXRvJykge1xuICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFtWSVNJQklMSVRZXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFtPUEVOLCBDTE9TRSwgUklHSFQsIExFRlQsIFNMSURFLCBQVVNILCBPVkVSXSk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFJPT1QpO1xuICAgICAgICBhZGRDbGFzcyhbdGhpcy5lbGVtZW50XSwgKHRoaXMucG9zaXRpb24gPT09ICdSaWdodCcpID8gUklHSFQgOiBMRUZUKTtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlRG9jaykge1xuICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIERPQ0tFUik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZCh0aGlzLnRhYkluZGV4KSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCB0aGlzLnRhYkluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnQXV0bycgJiYgIUJyb3dzZXIuaXNEZXZpY2UgJiYgdGhpcy5jaGVja01lZGlhUXVlcnkoKSkge1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICBhZGRDbGFzcyhbdGhpcy5lbGVtZW50XSwgW0NMT1NFLCBESVNBQkxFQU5JTUFUSU9OXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLmNoZWNrVHlwZSA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgaWYgKCEodGhpcy50eXBlID09PSAnUHVzaCcgfHwgdGhpcy50eXBlID09PSAnT3ZlcicgfHwgdGhpcy50eXBlID09PSAnU2xpZGUnKSkge1xuICAgICAgICAgICAgdGhpcy50eXBlID0gJ0F1dG8nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMT1NFKSAmJiAhdmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB0aGlzLnNldERvY2soKTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChlKSAmJiAhdGhpcy5maXJzdFJlbmRlcikge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maXJzdFJlbmRlciA9IGZhbHNlO1xuICAgICAgICBFdmVudEhhbmRsZXIucmVtb3ZlKHRoaXMuZWxlbWVudCwgJ3RyYW5zaXRpb25lbmQnLCB0aGlzLnRyYW5zaXRpb25FbmQpO1xuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUuZGVzdHJveUJhY2tEcm9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2libGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lLW1haW4tY29udGVudCcpIHx8IHRoaXMudGFyZ2V0RWxlO1xuICAgICAgICBpZiAodGhpcy50YXJnZXQgJiYgdGhpcy5zaG93QmFja2Ryb3AgJiYgc2libGluZyAmJiAhaXNOdWxsT3JVbmRlZmluZWQodGhpcy5kZWZhdWx0QmFja2Ryb3BEaXYpKSB7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhbdGhpcy5kZWZhdWx0QmFja2Ryb3BEaXZdLCBERUZBVUxUQkFDS0RST1ApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc2hvd0JhY2tkcm9wICYmIHRoaXMubW9kYWwpIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMubW9kYWwub3V0ZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB0aGlzLm1vZGFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSGlkZSB0aGUgU2lkZWJhciBjb21wb25lbnQsIGlmIGl0IGlzIGluIGFuIG9wZW4gc3RhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gVGhlIGV2ZW50IHRyaWdnZXJpbmcgdGhlIGhpZGUgYWN0aW9uLlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqXG4gICAgICovXG4gICAgU2lkZWJhci5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjbG9zZUFyZ3VtZW50cyA9IHtcbiAgICAgICAgICAgIG1vZGVsOiB0aGlzLFxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgY2FuY2VsOiBmYWxzZSxcbiAgICAgICAgICAgIGlzSW50ZXJhY3RlZDogIWlzTnVsbE9yVW5kZWZpbmVkKGUpLFxuICAgICAgICAgICAgZXZlbnQ6IChlIHx8IG51bGwpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHJpZ2dlcignY2xvc2UnLCBjbG9zZUFyZ3VtZW50cywgZnVuY3Rpb24gKG9ic2VydmVkY2xvc2VBcmdzKSB7XG4gICAgICAgICAgICBpZiAoIW9ic2VydmVkY2xvc2VBcmdzLmNhbmNlbCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTE9TRSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoT1BFTikgJiYgIV90aGlzLmFuaW1hdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJpZ2dlckNoYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhbX3RoaXMuZWxlbWVudF0sIENMT1NFKTtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhbX3RoaXMuZWxlbWVudF0sIE9QRU4pO1xuICAgICAgICAgICAgICAgIHNldFN0eWxlKF90aGlzLmVsZW1lbnQsIHsgJ3dpZHRoJzogZm9ybWF0VW5pdChfdGhpcy5lbmFibGVEb2NrID8gX3RoaXMuZG9ja1NpemUgOiBfdGhpcy53aWR0aCkgfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0VHlwZShfdGhpcy50eXBlKTtcbiAgICAgICAgICAgICAgICB2YXIgc2libGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lLW1haW4tY29udGVudCcpIHx8IF90aGlzLnRhcmdldEVsZTtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmVuYWJsZURvY2sgJiYgc2libGluZykge1xuICAgICAgICAgICAgICAgICAgICBzaWJsaW5nLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKCcgKyAwICsgJ3B4KSc7XG4gICAgICAgICAgICAgICAgICAgIHNpYmxpbmcuc3R5bGVbX3RoaXMucG9zaXRpb24gPT09ICdMZWZ0JyA/ICdtYXJnaW5MZWZ0JyA6ICdtYXJnaW5SaWdodCddID0gJzBweCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3Ryb3lCYWNrRHJvcCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNldEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy50eXBlID09PSAnU2xpZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZS1zaWRlYmFyLW92ZXJmbG93Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnNldFByb3BlcnRpZXMoeyBpc09wZW46IGZhbHNlIH0sIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5lbmFibGVEb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2V0VGltZU91dCgpOyB9LCA1MCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEV2ZW50SGFuZGxlci5hZGQoX3RoaXMuZWxlbWVudCwgJ3RyYW5zaXRpb25lbmQnLCBfdGhpcy50cmFuc2l0aW9uRW5kLCBfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUuc2V0VGltZU91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZS1tYWluLWNvbnRlbnQnKSB8fCB0aGlzLnRhcmdldEVsZTtcbiAgICAgICAgdmFyIGVsZW1lbnRXaWR0aCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoT1BFTikgJiYgc2libGluZyAmJiAhKHRoaXMudHlwZSA9PT0gJ092ZXInICYmIHRoaXMuZW5hYmxlRG9jaykpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAnTGVmdCcpIHtcbiAgICAgICAgICAgICAgICBzaWJsaW5nLnN0eWxlLm1hcmdpbkxlZnQgPSB0aGlzLnNldERpbWVuc2lvbih0aGlzLndpZHRoID09PSAnYXV0bycgPyBlbGVtZW50V2lkdGggOiB0aGlzLndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpYmxpbmcuc3R5bGUubWFyZ2luUmlnaHQgPSB0aGlzLnNldERpbWVuc2lvbih0aGlzLndpZHRoID09PSAnYXV0bycgPyBlbGVtZW50V2lkdGggOiB0aGlzLndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMT1NFKSAmJiBzaWJsaW5nKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wb3NpdGlvbiA9PT0gJ0xlZnQnKSB7XG4gICAgICAgICAgICAgICAgc2libGluZy5zdHlsZS5tYXJnaW5MZWZ0ID0gdGhpcy5zZXREaW1lbnNpb24odGhpcy5kb2NrU2l6ZSA9PT0gJ2F1dG8nID8gZWxlbWVudFdpZHRoIDogdGhpcy5kb2NrU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaWJsaW5nLnN0eWxlLm1hcmdpblJpZ2h0ID0gdGhpcy5zZXREaW1lbnNpb24odGhpcy5kb2NrU2l6ZSA9PT0gJ2F1dG8nID8gZWxlbWVudFdpZHRoIDogdGhpcy5kb2NrU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBTaWRlYmFyIGNvbXBvbmVudCwgaWYgaXQgaXMgaW4gY2xvc2VkIHN0YXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSAtIFRoZSBvcHRpb25hbCBldmVudCB0cmlnZ2VyaW5nIHRoZSBzaG93IGFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKi9cbiAgICBTaWRlYmFyLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG9wZW5Bcmd1bWVudHMgPSB7XG4gICAgICAgICAgICBtb2RlbDogdGhpcyxcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIGNhbmNlbDogZmFsc2UsXG4gICAgICAgICAgICBpc0ludGVyYWN0ZWQ6ICFpc051bGxPclVuZGVmaW5lZChlKSxcbiAgICAgICAgICAgIGV2ZW50OiAoZSB8fCBudWxsKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRyaWdnZXIoJ29wZW4nLCBvcGVuQXJndW1lbnRzLCBmdW5jdGlvbiAob2JzZXJ2ZWRvcGVuQXJncykge1xuICAgICAgICAgICAgaWYgKCFvYnNlcnZlZG9wZW5BcmdzLmNhbmNlbCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKFtfdGhpcy5lbGVtZW50XSwgW1ZJU0lCSUxJVFksIERJU0FCTEVBTklNQVRJT05dKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoT1BFTikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xPU0UpICYmICFfdGhpcy5hbmltYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyaWdnZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoW190aGlzLmVsZW1lbnRdLCBbT1BFTiwgVFJBU0lUSU9OXSk7XG4gICAgICAgICAgICAgICAgc2V0U3R5bGUoX3RoaXMuZWxlbWVudCwgeyAndHJhbnNmb3JtJzogJycgfSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW190aGlzLmVsZW1lbnRdLCBDTE9TRSk7XG4gICAgICAgICAgICAgICAgc2V0U3R5bGUoX3RoaXMuZWxlbWVudCwgeyAnd2lkdGgnOiBmb3JtYXRVbml0KF90aGlzLndpZHRoKSB9KTtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUeXBlKF90aGlzLnR5cGUpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNyZWF0ZUJhY2tEcm9wKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0QW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnR5cGUgPT09ICdTbGlkZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdlLXNpZGViYXItb3ZlcmZsb3cnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0UHJvcGVydGllcyh7IGlzT3BlbjogdHJ1ZSB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBFdmVudEhhbmRsZXIuYWRkKF90aGlzLmVsZW1lbnQsICd0cmFuc2l0aW9uZW5kJywgX3RoaXMudHJhbnNpdGlvbkVuZCwgX3RoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnNldEFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0ZSkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW3RoaXMuZWxlbWVudF0sIERJU0FCTEVBTklNQVRJT04pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIERJU0FCTEVBTklNQVRJT04pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaWRlYmFyLnByb3RvdHlwZS50cmlnZ2VyQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhbmdlQXJndW1lbnRzID0geyBuYW1lOiAnY2hhbmdlJywgZWxlbWVudDogdGhpcy5lbGVtZW50IH07XG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgY2hhbmdlQXJndW1lbnRzKTtcbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnNldERvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZURvY2sgJiYgdGhpcy5wb3NpdGlvbiA9PT0gJ0xlZnQnICYmICF0aGlzLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHRoaXMuZWxlbWVudCwgeyAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZVgoJyArIC0xMDAgKyAnJSkgdHJhbnNsYXRlWCgnICsgdGhpcy5zZXREaW1lbnNpb24odGhpcy5kb2NrU2l6ZSkgKyAnKScgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmFibGVEb2NrICYmIHRoaXMucG9zaXRpb24gPT09ICdSaWdodCcgJiYgIXRoaXMuZ2V0U3RhdGUoKSkge1xuICAgICAgICAgICAgc2V0U3R5bGUodGhpcy5lbGVtZW50LCB7ICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlWCgnICsgMTAwICsgJyUpIHRyYW5zbGF0ZVgoJyArICctJyArIHRoaXMuc2V0RGltZW5zaW9uKHRoaXMuZG9ja1NpemUpICsgJyknIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMT1NFKSAmJiB0aGlzLmVuYWJsZURvY2spIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHRoaXMuZWxlbWVudCwgeyAnd2lkdGgnOiB0aGlzLnNldERpbWVuc2lvbih0aGlzLmRvY2tTaXplKSB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUuY3JlYXRlQmFja0Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLnNob3dCYWNrZHJvcCAmJiB0aGlzLmdldFN0YXRlKCkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRTdHJpbmcgPSB0aGlzLnRhcmdldDtcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmUtbWFpbi1jb250ZW50JykgfHwgdGhpcy50YXJnZXRFbGU7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRCYWNrZHJvcERpdiA9IHRoaXMuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBhZGRDbGFzcyhbdGhpcy5kZWZhdWx0QmFja2Ryb3BEaXZdLCBERUZBVUxUQkFDS0RST1ApO1xuICAgICAgICAgICAgc2V0U3R5bGUodGhpcy5kZWZhdWx0QmFja2Ryb3BEaXYsIHsgaGVpZ2h0OiB0YXJnZXRTdHJpbmcuc3R5bGUuaGVpZ2h0IH0pO1xuICAgICAgICAgICAgc2libGluZy5hcHBlbmRDaGlsZCh0aGlzLmRlZmF1bHRCYWNrZHJvcERpdik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zaG93QmFja2Ryb3AgJiYgIXRoaXMubW9kYWwgJiYgdGhpcy5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGFsID0gdGhpcy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuY2xhc3NOYW1lID0gREVGQVVMVEJBQ0tEUk9QO1xuICAgICAgICAgICAgdGhpcy5tb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5tb2RhbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLmdldFBlcnNpc3REYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRPblBlcnNpc3QoWyd0eXBlJywgJ3Bvc2l0aW9uJywgJ2lzT3BlbiddKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgbW9kdWxlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIHJldHVybnMgbW9kdWxlIG5hbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIFNpZGViYXIucHJvdG90eXBlLmdldE1vZHVsZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnc2lkZWJhcic7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTaG93cyBvciBoaWRlcyB0aGUgU2lkZWJhciBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIFNpZGViYXIucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoT1BFTikpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhPUEVOKSA/IHRydWUgOiBmYWxzZTtcbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnNldE1lZGlhUXVlcnkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhUXVlcnkpIHtcbiAgICAgICAgICAgIHZhciBtZWRpYSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAodGhpcy5tZWRpYVF1ZXJ5KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBtZWRpYSA9IHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMubWVkaWFRdWVyeSkubWF0Y2hlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lZGlhID0gKHRoaXMubWVkaWFRdWVyeSkubWF0Y2hlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtZWRpYSAmJiB0aGlzLndpbmRvd1dpZHRoICE9PSB3aW5kb3cuaW5uZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nZXRTdGF0ZSgpICYmIHRoaXMud2luZG93V2lkdGggIT09IHdpbmRvdy5pbm5lcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLmNoZWNrTWVkaWFRdWVyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKHRoaXMubWVkaWFRdWVyeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodHlwZW9mICh0aGlzLm1lZGlhUXVlcnkpID09PSAnc3RyaW5nJykgP1xuICAgICAgICAgICAgd2luZG93Lm1hdGNoTWVkaWEodGhpcy5tZWRpYVF1ZXJ5KS5tYXRjaGVzIDogKHRoaXMubWVkaWFRdWVyeSkubWF0Y2hlcztcbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZCh0aGlzLndpZHRoKSAmJiB0aGlzLndpZHRoICE9PSAnYXV0bycgJiYgdHlwZW9mIHRoaXMud2lkdGggPT09ICdzdHJpbmcnICYmICF0aGlzLndpZHRoLmluY2x1ZGVzKCdweCcpKSB7XG4gICAgICAgICAgICB0aGlzLnNldFR5cGUodGhpcy50eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnQXV0bycpIHtcbiAgICAgICAgICAgIGlmIChCcm93c2VyLmlzRGV2aWNlKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIE9WRVIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFBVU0gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0TWVkaWFRdWVyeSgpO1xuICAgICAgICBpZiAoQnJvd3Nlci5pc0RldmljZSkge1xuICAgICAgICAgICAgdGhpcy53aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaWRlYmFyLnByb3RvdHlwZS5kb2N1bWVudGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChjbG9zZXN0KGUudGFyZ2V0LCAnLicgKyBDT05UUk9MICsgJycgKyAnLicgKyBST09UKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGlkZShlKTtcbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLmVuYWJsZUdlc3R1cmVIYW5kbGVyID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3BlbiAmJiB0aGlzLnBvc2l0aW9uID09PSAnTGVmdCcgJiYgYXJncy5zd2lwZURpcmVjdGlvbiA9PT0gJ1JpZ2h0JyAmJlxuICAgICAgICAgICAgKGFyZ3Muc3RhcnRYIDw9IDIwICYmIGFyZ3MuZGlzdGFuY2VYID49IDUwICYmIGFyZ3MudmVsb2NpdHkgPj0gMC41KSkge1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc09wZW4gJiYgdGhpcy5wb3NpdGlvbiA9PT0gJ0xlZnQnICYmIGFyZ3Muc3dpcGVEaXJlY3Rpb24gPT09ICdMZWZ0Jykge1xuICAgICAgICAgICAgdGhpcy5oaWRlKGFyZ3Mub3JpZ2luYWxFdmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5pc09wZW4gJiYgdGhpcy5wb3NpdGlvbiA9PT0gJ1JpZ2h0JyAmJiBhcmdzLnN3aXBlRGlyZWN0aW9uID09PSAnUmlnaHQnKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoYXJncy5vcmlnaW5hbEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5pc09wZW4gJiYgdGhpcy5wb3NpdGlvbiA9PT0gJ1JpZ2h0JyAmJiBhcmdzLnN3aXBlRGlyZWN0aW9uID09PSAnTGVmdCdcbiAgICAgICAgICAgICYmICh3aW5kb3cuaW5uZXJXaWR0aCAtIGFyZ3Muc3RhcnRYIDw9IDIwICYmIGFyZ3MuZGlzdGFuY2VYID49IDUwICYmIGFyZ3MudmVsb2NpdHkgPj0gMC41KSkge1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNpZGViYXIucHJvdG90eXBlLnNldEVuYWJsZUdlc3R1cmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5lbmFibGVHZXN0dXJlcykge1xuICAgICAgICAgICAgdGhpcy5tYWluQ29udGVudEVsZSA9IG5ldyBUb3VjaChkb2N1bWVudC5ib2R5LCB7IHN3aXBlOiB0aGlzLmVuYWJsZUdlc3R1cmVIYW5kbGVyLmJpbmQodGhpcykgfSk7XG4gICAgICAgICAgICB0aGlzLnNpZGViYXJFbGUgPSBuZXcgVG91Y2godGhpcy5lbGVtZW50LCB7IHN3aXBlOiB0aGlzLmVuYWJsZUdlc3R1cmVIYW5kbGVyLmJpbmQodGhpcykgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYWluQ29udGVudEVsZSAmJiB0aGlzLnNpZGViYXJFbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Db250ZW50RWxlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXJFbGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTaWRlYmFyLnByb3RvdHlwZS53aXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldEVuYWJsZUdlc3R1cmVzKCk7XG4gICAgICAgIEV2ZW50SGFuZGxlci5hZGQod2luZG93LCAncmVzaXplJywgdGhpcy5yZXNpemUsIHRoaXMpO1xuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUudW5XaXJlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBFdmVudEhhbmRsZXIucmVtb3ZlKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMucmVzaXplKTtcbiAgICAgICAgRXZlbnRIYW5kbGVyLnJlbW92ZShkb2N1bWVudCwgJ21vdXNlZG93biB0b3VjaHN0YXJ0JywgdGhpcy5kb2N1bWVudGNsaWNrSGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLm1haW5Db250ZW50RWxlKSB7XG4gICAgICAgICAgICB0aGlzLm1haW5Db250ZW50RWxlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zaWRlYmFyRWxlKSB7XG4gICAgICAgICAgICB0aGlzLnNpZGViYXJFbGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaW50ZXJuYWxseSBpZiBhbnkgb2YgdGhlIHByb3BlcnR5IHZhbHVlIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1NpZGViYXJNb2RlbH0gbmV3UHJvcCAtIHNwZWNpZmllcyBuZXdQcm9wIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U2lkZWJhck1vZGVsfSBvbGRQcm9wIC0gc3BlY2lmaWVzIG9sZFByb3AgdmFsdWUuXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKlxuICAgICAqL1xuICAgIFNpZGViYXIucHJvdG90eXBlLm9uUHJvcGVydHlDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld1Byb3AsIG9sZFByb3ApIHtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZS1tYWluLWNvbnRlbnQnKSB8fCB0aGlzLnRhcmdldEVsZTtcbiAgICAgICAgdmFyIGlzUmVuZGVyZWQgPSB0aGlzLmlzU2VydmVyUmVuZGVyZWQ7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhuZXdQcm9wKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBwcm9wID0gX2FbX2ldO1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaXNPcGVuJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dpZHRoJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaWR0aCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZ2V0U3RhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYW5pbWF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3R5cGUnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrVHlwZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbVklTSUJJTElUWV0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENsYXNzKCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCB0aGlzLnR5cGUgPT09ICdBdXRvJyA/IChCcm93c2VyLmlzRGV2aWNlID8gWydlLW92ZXInXSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBbJ2UtcHVzaCddKSA6IFsnZS0nICsgdGhpcy50eXBlLnRvTG93ZXJDYXNlKCldKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncG9zaXRpb24nOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RG9jaygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2libGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZy5zdHlsZVt0aGlzLnBvc2l0aW9uID09PSAnTGVmdCcgPyAnbWFyZ2luUmlnaHQnIDogJ21hcmdpbkxlZnQnXSA9ICcwcHgnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAnUmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgTEVGVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhbdGhpcy5lbGVtZW50XSwgUklHSFQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFJJR0hUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCBMRUZUKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFR5cGUodGhpcy50eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2hvd0JhY2tkcm9wJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2hvd0JhY2tkcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUJhY2tEcm9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLm91dGVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kYWwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3RhcmdldCc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgKHRoaXMudGFyZ2V0KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UHJvcGVydGllcyh7IHRhcmdldDogZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnRhcmdldCkgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKHRoaXMudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFNJREVCQVJBQlNPTFVURSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhbb2xkUHJvcC50YXJnZXRdLCBDT05URVhUKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFN0eWxlKHNpYmxpbmcsIHsgJ21hcmdpbi1sZWZ0JzogMCwgJ21hcmdpbi1yaWdodCc6IDAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJiZWdpbicsIHRoaXMuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1NlcnZlclJlbmRlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUucmVmcmVzaC5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzU2VydmVyUmVuZGVyZWQgPSBpc1JlbmRlcmVkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjbG9zZU9uRG9jdW1lbnRDbGljayc6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2xvc2VPbkRvY3VtZW50Q2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZW5hYmxlRG9jayc6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERvY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd6SW5kZXgnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFppbmRleCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtZWRpYVF1ZXJ5JzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNZWRpYVF1ZXJ5KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VuYWJsZUdlc3R1cmVzJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFbmFibGVHZXN0dXJlcygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVSdGwnOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVuYWJsZVJUTCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2lkZWJhci5wcm90b3R5cGUuc2V0VHlwZSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHZhciBlbGVtZW50V2lkdGggPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGg7XG4gICAgICAgIHRoaXMuc2V0WmluZGV4KCk7XG4gICAgICAgIHZhciBzaWJsaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmUtbWFpbi1jb250ZW50JykgfHwgdGhpcy50YXJnZXRFbGU7XG4gICAgICAgIGlmIChzaWJsaW5nKSB7XG4gICAgICAgICAgICBzaWJsaW5nLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKCcgKyAwICsgJ3B4KSc7XG4gICAgICAgICAgICBpZiAoIUJyb3dzZXIuaXNEZXZpY2UgJiYgdGhpcy50eXBlICE9PSAnQXV0bycgJiYgISh0aGlzLnR5cGUgPT09ICdPdmVyJyAmJiB0aGlzLmVuYWJsZURvY2spKSB7XG4gICAgICAgICAgICAgICAgc2libGluZy5zdHlsZVt0aGlzLnBvc2l0aW9uID09PSAnTGVmdCcgPyAnbWFyZ2luTGVmdCcgOiAnbWFyZ2luUmlnaHQnXSA9ICcwcHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBtYXJnaW4gPSB0aGlzLnBvc2l0aW9uID09PSAnTGVmdCcgPyBlbGVtZW50V2lkdGggKyAncHgnIDogZWxlbWVudFdpZHRoICsgJ3B4JztcbiAgICAgICAgdmFyIGVsZVdpZHRoID0gdGhpcy5wb3NpdGlvbiA9PT0gJ0xlZnQnID8gZWxlbWVudFdpZHRoIDogLShlbGVtZW50V2lkdGgpO1xuICAgICAgICByZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgW1BVU0gsIE9WRVIsIFNMSURFXSk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnUHVzaCc6XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFtQVVNIXSk7XG4gICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcgJiYgKHRoaXMuZW5hYmxlRG9jayB8fCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKE9QRU4pKSkge1xuICAgICAgICAgICAgICAgICAgICBzaWJsaW5nLnN0eWxlW3RoaXMucG9zaXRpb24gPT09ICdMZWZ0JyA/ICdtYXJnaW5MZWZ0JyA6ICdtYXJnaW5SaWdodCddID0gbWFyZ2luO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NsaWRlJzpcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhbdGhpcy5lbGVtZW50XSwgW1NMSURFXSk7XG4gICAgICAgICAgICAgICAgaWYgKHNpYmxpbmcgJiYgKHRoaXMuZW5hYmxlRG9jayB8fCB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKE9QRU4pKSkge1xuICAgICAgICAgICAgICAgICAgICBzaWJsaW5nLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKCcgKyBlbGVXaWR0aCArICdweCknO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ092ZXInOlxuICAgICAgICAgICAgICAgIGFkZENsYXNzKFt0aGlzLmVsZW1lbnRdLCBbT1ZFUl0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZURvY2sgJiYgKHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xPU0UpIHx8IHRoaXMuaXNPcGVuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2libGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZy5zdHlsZVt0aGlzLnBvc2l0aW9uID09PSAnTGVmdCcgPyAnbWFyZ2luTGVmdCcgOiAnbWFyZ2luUmlnaHQnXSA9IHRoaXMuc2V0RGltZW5zaW9uKHRoaXMuZG9ja1NpemUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXV0byc6XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFtUUkFTSVRJT05dKTtcbiAgICAgICAgICAgICAgICBpZiAoQnJvd3Nlci5pc0RldmljZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2libGluZyAmJiAodGhpcy5lbmFibGVEb2NrKSAmJiAhdGhpcy5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nLnN0eWxlW3RoaXMucG9zaXRpb24gPT09ICdMZWZ0JyA/ICdtYXJnaW5MZWZ0JyA6ICdtYXJnaW5SaWdodCddID0gbWFyZ2luO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIFBVU0gpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoW3RoaXMuZWxlbWVudF0sIE9WRVIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhbdGhpcy5lbGVtZW50XSwgUFVTSCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWJsaW5nICYmICh0aGlzLmVuYWJsZURvY2sgfHwgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhPUEVOKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcuc3R5bGVbdGhpcy5wb3NpdGlvbiA9PT0gJ0xlZnQnID8gJ21hcmdpbkxlZnQnIDogJ21hcmdpblJpZ2h0J10gPSBtYXJnaW47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVCYWNrRHJvcCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBjb250cm9sIGZyb20gdGhlIERPTSBhbmQgZGV0YWNoZXMgYWxsIGl0cyByZWxhdGVkIGV2ZW50IGhhbmRsZXJzLiBBbHNvIGl0IHJlbW92ZXMgdGhlIGF0dHJpYnV0ZXMgYW5kIGNsYXNzZXMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKlxuICAgICAqL1xuICAgIFNpZGViYXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKFt0aGlzLnRhcmdldF0sIENPTlRFWFQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdHJveUJhY2tEcm9wKCk7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKFt0aGlzLmVsZW1lbnRdLCBbT1BFTiwgQ0xPU0UsIFBVU0gsIFNMSURFLCBPVkVSLCBMRUZULCBSSUdIVCwgVFJBU0lUSU9OLCBESVNBQkxFQU5JTUFUSU9OXSk7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhbdGhpcy5lbGVtZW50XSwgU0lERUJBUkFCU09MVVRFKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnpJbmRleCA9ICcnO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICcnO1xuICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZCh0aGlzLnNpZGViYXJFbGVDb3B5LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIHRoaXMudGFiSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpbmRvd1dpZHRoID0gbnVsbDtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZS1tYWluLWNvbnRlbnQnKSB8fCB0aGlzLnRhcmdldEVsZTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChzaWJsaW5nKSkge1xuICAgICAgICAgICAgc2libGluZy5zdHlsZS5tYXJnaW4gPSAnJztcbiAgICAgICAgICAgIHNpYmxpbmcuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bldpcmVFdmVudHMoKTtcbiAgICB9O1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnYXV0bycpXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwiZG9ja1NpemVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkobnVsbClcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJtZWRpYVF1ZXJ5XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KGZhbHNlKVxuICAgIF0sIFNpZGViYXIucHJvdG90eXBlLCBcImVuYWJsZURvY2tcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoJ2VuLVVTJylcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJsb2NhbGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwiZW5hYmxlUGVyc2lzdGVuY2VcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkodHJ1ZSlcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJlbmFibGVHZXN0dXJlc1wiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJpc09wZW5cIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoZmFsc2UpXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwiZW5hYmxlUnRsXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KHRydWUpXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwiYW5pbWF0ZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eSgnYXV0bycpXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KGZhbHNlKVxuICAgIF0sIFNpZGViYXIucHJvdG90eXBlLCBcImNsb3NlT25Eb2N1bWVudENsaWNrXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KCdMZWZ0JylcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJwb3NpdGlvblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eShudWxsKVxuICAgIF0sIFNpZGViYXIucHJvdG90eXBlLCBcInRhcmdldFwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBQcm9wZXJ0eShmYWxzZSlcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJzaG93QmFja2Ryb3BcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoJ0F1dG8nKVxuICAgIF0sIFNpZGViYXIucHJvdG90eXBlLCBcInR5cGVcIiwgdm9pZCAwKTtcbiAgICBfX2RlY29yYXRlKFtcbiAgICAgICAgUHJvcGVydHkoJ2F1dG8nKVxuICAgIF0sIFNpZGViYXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIFByb3BlcnR5KDEwMDApXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwiekluZGV4XCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEV2ZW50KClcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJjcmVhdGVkXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEV2ZW50KClcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJjbG9zZVwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBFdmVudCgpXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwib3BlblwiLCB2b2lkIDApO1xuICAgIF9fZGVjb3JhdGUoW1xuICAgICAgICBFdmVudCgpXG4gICAgXSwgU2lkZWJhci5wcm90b3R5cGUsIFwiY2hhbmdlXCIsIHZvaWQgMCk7XG4gICAgX19kZWNvcmF0ZShbXG4gICAgICAgIEV2ZW50KClcbiAgICBdLCBTaWRlYmFyLnByb3RvdHlwZSwgXCJkZXN0cm95ZWRcIiwgdm9pZCAwKTtcbiAgICBTaWRlYmFyID0gX19kZWNvcmF0ZShbXG4gICAgICAgIE5vdGlmeVByb3BlcnR5Q2hhbmdlc1xuICAgIF0sIFNpZGViYXIpO1xuICAgIHJldHVybiBTaWRlYmFyO1xufShDb21wb25lbnQpKTtcbmV4cG9ydCB7IFNpZGViYXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@syncfusion+ej2-navigations@29.1.40/node_modules/@syncfusion/ej2-navigations/src/sidebar/sidebar.js\n");

/***/ })

};
;