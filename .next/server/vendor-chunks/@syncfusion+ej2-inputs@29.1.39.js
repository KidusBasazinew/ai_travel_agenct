"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@syncfusion+ej2-inputs@29.1.39";
exports.ids = ["vendor-chunks/@syncfusion+ej2-inputs@29.1.39"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@syncfusion+ej2-inputs@29.1.39/node_modules/@syncfusion/ej2-inputs/src/input/input.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@syncfusion+ej2-inputs@29.1.39/node_modules/@syncfusion/ej2-inputs/src/input/input.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   TEXTBOX_FOCUS: () => (/* binding */ TEXTBOX_FOCUS),\n/* harmony export */   containerAttributes: () => (/* binding */ containerAttributes)\n/* harmony export */ });\n/* harmony import */ var _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @syncfusion/ej2-base */ \"(ssr)/./node_modules/.pnpm/@syncfusion+ej2-base@29.1.36/node_modules/@syncfusion/ej2-base/index.js\");\n/* eslint-disable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\n\n\nvar CLASSNAMES = {\n    RTL: 'e-rtl',\n    DISABLE: 'e-disabled',\n    INPUT: 'e-input',\n    TEXTAREA: 'e-multi-line-input',\n    INPUTGROUP: 'e-input-group',\n    FLOATINPUT: 'e-float-input',\n    FLOATLINE: 'e-float-line',\n    FLOATTEXT: 'e-float-text',\n    FLOATTEXTCONTENT: 'e-float-text-content',\n    CLEARICON: 'e-clear-icon',\n    CLEARICONHIDE: 'e-clear-icon-hide',\n    LABELTOP: 'e-label-top',\n    LABELBOTTOM: 'e-label-bottom',\n    NOFLOATLABEL: 'e-no-float-label',\n    INPUTCUSTOMTAG: 'e-input-custom-tag',\n    FLOATCUSTOMTAG: 'e-float-custom-tag'\n};\n/**\n * Defines the constant attributes for the input element container.\n */\nvar containerAttributes = ['title', 'style', 'class'];\n/**\n * Defines the constant focus class for the input element.\n */\nvar TEXTBOX_FOCUS = 'e-input-focus';\n/**\n * Base for Input creation through util methods.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar Input;\n(function (Input) {\n    var privateInputObj = {\n        container: null,\n        buttons: [],\n        clearButton: null\n    };\n    var floatType;\n    var isBindClearAction = true;\n    /**\n     * Create a wrapper to input element with multiple span elements and set the basic properties to input based components.\n     * ```\n     * E.g : Input.createInput({ element: element, floatLabelType : \"Auto\", properties: { placeholder: 'Search' } });\n     * ```\n     *\n     */\n    function createInput(args, internalCreateElement) {\n        args.element.__eventHandlers = {};\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        var inputObject = { container: null, buttons: [], clearButton: null };\n        floatType = args.floatLabelType;\n        isBindClearAction = args.bindClearAction;\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.floatLabelType) || args.floatLabelType === 'Never') {\n            inputObject.container = createInputContainer(args, CLASSNAMES.INPUTGROUP, CLASSNAMES.INPUTCUSTOMTAG, 'span', makeElement);\n            args.element.parentNode.insertBefore(inputObject.container, args.element);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([args.element], CLASSNAMES.INPUT);\n            inputObject.container.appendChild(args.element);\n        }\n        else {\n            createFloatingInput(args, inputObject, makeElement);\n        }\n        bindInitialEvent(args);\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.properties) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.properties.showClearButton) &&\n            args.properties.showClearButton) {\n            setClearButton(args.properties.showClearButton, args.element, inputObject, true, makeElement);\n            inputObject.clearButton.setAttribute('role', 'button');\n            if (inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([inputObject.container], CLASSNAMES.INPUTGROUP);\n            }\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.buttons)) {\n            for (var i = 0; i < args.buttons.length; i++) {\n                inputObject.buttons.push(appendSpan(args.buttons[i], inputObject.container, makeElement));\n            }\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element) && args.element.tagName === 'TEXTAREA') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([inputObject.container], CLASSNAMES.TEXTAREA);\n        }\n        validateInputType(inputObject.container, args.element);\n        inputObject = setPropertyValue(args, inputObject);\n        createSpanElement(inputObject.container, makeElement);\n        privateInputObj = inputObject;\n        return inputObject;\n    }\n    Input.createInput = createInput;\n    function bindFocusEventHandler(args) {\n        var parent = getParentNode(args.element);\n        if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline') || parent.classList.contains('e-filled')) {\n            parent.classList.add('e-input-focus');\n        }\n        if (args.floatLabelType !== 'Never') {\n            setTimeout(function () {\n                Input.calculateWidth(args.element, parent);\n            }, 80);\n        }\n    }\n    function bindBlurEventHandler(args) {\n        var parent = getParentNode(args.element);\n        if (parent.classList.contains('e-input-group') || parent.classList.contains('e-outline') || parent.classList.contains('e-filled')) {\n            parent.classList.remove('e-input-focus');\n        }\n        if (args.floatLabelType !== 'Never') {\n            setTimeout(function () {\n                Input.calculateWidth(args.element, parent);\n            }, 80);\n        }\n    }\n    function bindInputEventHandler(args) {\n        checkInputValue(args.floatLabelType, args.element);\n    }\n    function bindInitialEvent(args) {\n        checkInputValue(args.floatLabelType, args.element);\n        var focusHandler = function () { return bindFocusEventHandler(args); };\n        var blurHandler = function () { return bindBlurEventHandler(args); };\n        var inputHandler = function () { return bindInputEventHandler(args); };\n        args.element.addEventListener('focus', focusHandler);\n        args.element.addEventListener('blur', blurHandler);\n        args.element.addEventListener('input', inputHandler);\n        args.element.__eventHandlers['inputFocusHandler'] = { focusHandler: focusHandler };\n        args.element.__eventHandlers['inputBlurHandler'] = { blurHandler: blurHandler };\n        args.element.__eventHandlers['inputHandler'] = { inputHandler: inputHandler };\n    }\n    Input.bindInitialEvent = bindInitialEvent;\n    function unbindInitialEvent(args) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element)) {\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.__eventHandlers)) {\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.__eventHandlers['inputFocusHandler'])\n                    && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.__eventHandlers['inputBlurHandler'])\n                    && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.__eventHandlers['inputHandler'])) {\n                    var focusHandler_1 = args.element.__eventHandlers['inputFocusHandler'].focusHandler;\n                    var blurHandler_1 = args.element.__eventHandlers['inputBlurHandler'].blurHandler;\n                    var inputHandler_1 = args.element.__eventHandlers['inputHandler'].inputHandler;\n                    args.element.removeEventListener('focus', focusHandler_1);\n                    args.element.removeEventListener('blur', blurHandler_1);\n                    args.element.removeEventListener('input', inputHandler_1);\n                    // Clean up stored bound functions\n                    delete args.element.__eventHandlers['inputFocusHandler'];\n                    delete args.element.__eventHandlers['inputBlurHandler'];\n                    delete args.element.__eventHandlers['inputHandler'];\n                }\n            }\n        }\n    }\n    function checkInputValue(floatLabelType, inputElement) {\n        var inputValue = inputElement.value;\n        var inputParent = inputElement.parentElement;\n        var grandParent = inputParent && inputParent.parentElement;\n        if (inputValue !== '' && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputValue)) {\n            if (inputParent && inputParent.classList.contains('e-input-group')) {\n                inputParent.classList.add('e-valid-input');\n            }\n            else if (grandParent && grandParent.classList.contains('e-input-group')) {\n                grandParent.classList.add('e-valid-input');\n            }\n        }\n        else if (floatLabelType !== 'Always') {\n            if (inputParent && inputParent.classList.contains('e-input-group')) {\n                inputParent.classList.remove('e-valid-input');\n            }\n            else if (grandParent && grandParent.classList.contains('e-input-group')) {\n                grandParent.classList.remove('e-valid-input');\n            }\n        }\n    }\n    function _focusFn() {\n        var label = getParentNode(this).getElementsByClassName('e-float-text')[0];\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(label)) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function _blurFn() {\n        var parent = getParentNode(this);\n        if ((parent.getElementsByTagName('textarea')[0]) ? parent.getElementsByTagName('textarea')[0].value === '' :\n            parent.getElementsByTagName('input')[0].value === '') {\n            var label = parent.getElementsByClassName('e-float-text')[0];\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(label)) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([label], CLASSNAMES.LABELTOP);\n                }\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function wireFloatingEvents(element) {\n        element.addEventListener('focus', _focusFn);\n        element.addEventListener('blur', _blurFn);\n    }\n    Input.wireFloatingEvents = wireFloatingEvents;\n    function unwireFloatingEvents(element) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element)) {\n            element.removeEventListener('focus', _focusFn);\n            element.removeEventListener('blur', _blurFn);\n        }\n    }\n    function inputEventHandler(args) {\n        validateLabel(args.element, args.floatLabelType);\n    }\n    function blurEventHandler(args) {\n        validateLabel(args.element, args.floatLabelType);\n    }\n    function createFloatingInput(args, inputObject, internalCreateElement) {\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        if (args.floatLabelType === 'Auto') {\n            wireFloatingEvents(args.element);\n        }\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputObject.container)) {\n            inputObject.container = createInputContainer(args, CLASSNAMES.FLOATINPUT, CLASSNAMES.FLOATCUSTOMTAG, 'div', makeElement);\n            inputObject.container.classList.add(CLASSNAMES.INPUTGROUP);\n            if (args.element.parentNode) {\n                args.element.parentNode.insertBefore(inputObject.container, args.element);\n            }\n        }\n        else {\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.customTag)) {\n                inputObject.container.classList.add(CLASSNAMES.FLOATCUSTOMTAG);\n            }\n            inputObject.container.classList.add(CLASSNAMES.FLOATINPUT);\n        }\n        var floatLinelement = makeElement('span', { className: CLASSNAMES.FLOATLINE });\n        var floatLabelElement = makeElement('label', { className: CLASSNAMES.FLOATTEXT });\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.id) && args.element.id !== '') {\n            floatLabelElement.id = 'label_' + args.element.id.replace(/ /g, '_');\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.attributes)(args.element, { 'aria-labelledby': floatLabelElement.id });\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.placeholder) && args.element.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.element.placeholder);\n            args.element.removeAttribute('placeholder');\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.properties) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.properties.placeholder) &&\n            args.properties.placeholder !== '') {\n            floatLabelElement.innerText = encodePlaceHolder(args.properties.placeholder);\n        }\n        if (!floatLabelElement.innerText) {\n            inputObject.container.classList.add(CLASSNAMES.NOFLOATLABEL);\n        }\n        if (inputObject.container.classList.contains('e-float-icon-left')) {\n            var inputWrap = inputObject.container.querySelector('.e-input-in-wrap');\n            inputWrap.appendChild(args.element);\n            inputWrap.appendChild(floatLinelement);\n            inputWrap.appendChild(floatLabelElement);\n        }\n        else {\n            inputObject.container.appendChild(args.element);\n            inputObject.container.appendChild(floatLinelement);\n            inputObject.container.appendChild(floatLabelElement);\n        }\n        updateLabelState(args.element.value, floatLabelElement);\n        if (args.floatLabelType === 'Always') {\n            if (floatLabelElement.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([floatLabelElement], CLASSNAMES.LABELBOTTOM);\n            }\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([floatLabelElement], CLASSNAMES.LABELTOP);\n        }\n        if (args.floatLabelType === 'Auto') {\n            var inputFloatHandler = function () { return inputEventHandler(args); };\n            var blurFloatHandler = function () { return blurEventHandler(args); };\n            // Add event listeners using the defined functions\n            args.element.addEventListener('input', inputFloatHandler);\n            args.element.addEventListener('blur', blurFloatHandler);\n            // Store the event handler functions to remove them later\n            args.element.__eventHandlers['floatInputHandler'] = { inputFloatHandler: inputFloatHandler };\n            args.element.__eventHandlers['floatBlurHandler'] = { blurFloatHandler: blurFloatHandler };\n        }\n        else {\n            unWireFloatLabelEvents(args);\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.getAttribute('id'))) {\n            floatLabelElement.setAttribute('for', args.element.getAttribute('id'));\n        }\n    }\n    function unWireFloatLabelEvents(args) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element) &&\n            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.__eventHandlers)\n            && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.__eventHandlers['floatInputHandler'])\n            && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element.__eventHandlers['floatBlurHandler'])) {\n            var inputFloatHandler = args.element.__eventHandlers['floatInputHandler'].inputFloatHandler;\n            var blurFloatHandler = args.element.__eventHandlers['floatBlurHandler'].blurFloatHandler;\n            // Remove the event listeners using the defined functions\n            args.element.removeEventListener('input', inputFloatHandler);\n            args.element.removeEventListener('blur', blurFloatHandler);\n            // Clean up stored event handler functions\n            delete args.element.__eventHandlers['floatInputHandler'];\n            delete args.element.__eventHandlers['floatBlurHandler'];\n        }\n    }\n    function checkFloatLabelType(type, container) {\n        if (type === 'Always' && container.classList.contains('e-outline')) {\n            container.classList.add('e-valid-input');\n        }\n    }\n    function setPropertyValue(args, inputObject) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.properties)) {\n            for (var _i = 0, _a = Object.keys(args.properties); _i < _a.length; _i++) {\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'cssClass':\n                        setCssClass(args.properties.cssClass, [inputObject.container]);\n                        checkFloatLabelType(args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enabled':\n                        setEnabled(args.properties.enabled, args.element, args.floatLabelType, inputObject.container);\n                        break;\n                    case 'enableRtl':\n                        setEnableRtl(args.properties.enableRtl, [inputObject.container]);\n                        break;\n                    case 'placeholder':\n                        setPlaceholder(args.properties.placeholder, args.element);\n                        break;\n                    case 'readonly':\n                        setReadonly(args.properties.readonly, args.element);\n                        break;\n                }\n            }\n        }\n        return inputObject;\n    }\n    function updateIconState(value, button, readonly) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(button)) {\n            if (value && !readonly) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([button], CLASSNAMES.CLEARICONHIDE);\n            }\n            else {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([button], CLASSNAMES.CLEARICONHIDE);\n            }\n        }\n    }\n    function updateLabelState(value, label, element) {\n        if (element === void 0) { element = null; }\n        if (value) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([label], CLASSNAMES.LABELTOP);\n            if (label.classList.contains(CLASSNAMES.LABELBOTTOM)) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n        else {\n            var isNotFocused = element != null ? element !== document.activeElement : true;\n            if (isNotFocused) {\n                if (label.classList.contains(CLASSNAMES.LABELTOP)) {\n                    (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([label], CLASSNAMES.LABELTOP);\n                }\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([label], CLASSNAMES.LABELBOTTOM);\n            }\n        }\n    }\n    function getParentNode(element) {\n        var parentNode = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element.parentNode) ? element\n            : element.parentNode;\n        if (parentNode && parentNode.classList.contains('e-input-in-wrap')) {\n            parentNode = parentNode.parentNode;\n        }\n        return parentNode;\n    }\n    /**\n     * To create clear button.\n     */\n    function createClearButton(element, inputObject, initial, internalCreateElement) {\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        var button = makeElement('span', { className: CLASSNAMES.CLEARICON });\n        var container = inputObject.container;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(initial)) {\n            container.appendChild(button);\n        }\n        else {\n            var baseElement = inputObject.container.classList.contains(CLASSNAMES.FLOATINPUT) ?\n                inputObject.container.querySelector('.' + CLASSNAMES.FLOATTEXT) : element;\n            baseElement.insertAdjacentElement('afterend', button);\n        }\n        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([button], CLASSNAMES.CLEARICONHIDE);\n        wireClearBtnEvents(element, button, container);\n        button.setAttribute('aria-label', 'close');\n        return button;\n    }\n    function clickHandler(event, element, button) {\n        if (!(element.classList.contains(CLASSNAMES.DISABLE) || element.readOnly)) {\n            event.preventDefault();\n            if (element !== document.activeElement) {\n                element.focus();\n            }\n            element.value = '';\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([button], CLASSNAMES.CLEARICONHIDE);\n        }\n    }\n    function inputHandler(element, button) {\n        updateIconState(element.value, button);\n    }\n    function focusHandler(element, button) {\n        updateIconState(element.value, button, element.readOnly);\n    }\n    function blurHandler(element, button) {\n        setTimeout(function () {\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(button)) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([button], CLASSNAMES.CLEARICONHIDE);\n                button = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element) && element.classList.contains('e-combobox') ? null : button;\n            }\n        }, 200);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    function wireClearBtnEvents(element, button, container) {\n        if (isBindClearAction === undefined || isBindClearAction) {\n            var clickHandlerEvent = function (e) { return clickHandler(e, element, button); };\n            button.addEventListener('click', clickHandlerEvent);\n            element.__eventHandlers['clearClickHandler'] = { clickHandlerEvent: clickHandlerEvent };\n        }\n        var inputHandlerEvent = function () { return inputHandler(element, button); };\n        var focusHandlerEvent = function () { return focusHandler(element, button); };\n        var blurHandlerEvent = function () { return blurHandler(element, button); };\n        element.addEventListener('input', inputHandlerEvent);\n        element.addEventListener('focus', focusHandlerEvent);\n        element.addEventListener('blur', blurHandlerEvent);\n        // Store the bound functions to remove them later\n        element.__eventHandlers['clearInputHandler'] = { inputHandlerEvent: inputHandlerEvent };\n        element.__eventHandlers['clearFocusHandler'] = { focusHandlerEvent: focusHandlerEvent };\n        element.__eventHandlers['clearBlurHandler'] = { blurHandlerEvent: blurHandlerEvent };\n    }\n    Input.wireClearBtnEvents = wireClearBtnEvents;\n    function unWireClearBtnEvents(element, button) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element) &&\n            !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element.__eventHandlers)) {\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element.__eventHandlers['clearClickHandler'])) {\n                var clickHandlerEvent = element.__eventHandlers['clearClickHandler'].clickHandlerEvent;\n                if (isBindClearAction === undefined || isBindClearAction) {\n                    if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(button)) {\n                        button.removeEventListener('click', clickHandlerEvent);\n                    }\n                }\n                delete element.__eventHandlers['clearClickHandler'];\n            }\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element.__eventHandlers['clearInputHandler'])\n                && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element.__eventHandlers['clearFocusHandler'])\n                && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(element.__eventHandlers['clearBlurHandler'])) {\n                var inputHandlerEvent = element.__eventHandlers['clearInputHandler'].inputHandlerEvent;\n                var focusHandlerEvent = element.__eventHandlers['clearFocusHandler'].focusHandlerEvent;\n                var blurHandlerEvent = element.__eventHandlers['clearBlurHandler'].blurHandlerEvent;\n                element.removeEventListener('input', inputHandlerEvent);\n                element.removeEventListener('focus', focusHandlerEvent);\n                element.removeEventListener('blur', blurHandlerEvent);\n                // Clean up stored Event functions\n                delete element.__eventHandlers['clearInputHandler'];\n                delete element.__eventHandlers['clearFocusHandler'];\n                delete element.__eventHandlers['clearBlurHandler'];\n            }\n        }\n    }\n    function destroy(args, button) {\n        if (button === void 0) { button = null; }\n        unbindInitialEvent(args);\n        if (args.floatLabelType === 'Auto') {\n            unWireFloatLabelEvents(args);\n        }\n        if (args.properties.showClearButton) {\n            unWireClearBtnEvents(args.element, button);\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.buttons)) {\n            _internalRipple(false, null, args.buttons);\n        }\n        unwireFloatingEvents(args.element);\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.element)) {\n            delete args.element.__eventHandlers;\n            if (args.element.classList.contains(CLASSNAMES.INPUT)) {\n                args.element.classList.remove(CLASSNAMES.INPUT);\n            }\n        }\n        privateInputObj = null;\n    }\n    Input.destroy = destroy;\n    function validateLabel(element, floatLabelType) {\n        var parent = getParentNode(element);\n        if (parent.classList.contains(CLASSNAMES.FLOATINPUT) && floatLabelType === 'Auto') {\n            var label = getParentNode(element).getElementsByClassName('e-float-text')[0];\n            updateLabelState(element.value, label, element);\n        }\n    }\n    /**\n     * To create input box contianer.\n     */\n    function createInputContainer(args, className, tagClass, tag, internalCreateElement) {\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        var container;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(args.customTag)) {\n            container = makeElement(args.customTag, { className: className });\n            container.classList.add(tagClass);\n        }\n        else {\n            container = makeElement(tag, { className: className });\n        }\n        container.classList.add('e-control-wrapper');\n        return container;\n    }\n    function encodePlaceHolder(placeholder) {\n        var result = '';\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(placeholder) && placeholder !== '') {\n            var spanEle = document.createElement('span');\n            spanEle.innerHTML = '<input  placeholder=\"' + placeholder + '\"/>';\n            var hiddenInput = (spanEle.children[0]);\n            result = hiddenInput.placeholder;\n        }\n        return result;\n    }\n    /**\n     * Sets the value to the input element.\n     * ```\n     * E.g : Input.setValue('content', element, \"Auto\", true );\n     * ```\n     *\n     * @param {string} value - Specify the value of the input element.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the specified value is updated.\n     * @param {string} floatLabelType - Specify the float label type of the input element.\n     * @param {boolean} clearButton - Boolean value to specify whether the clear icon is enabled / disabled on the input.\n     */\n    function setValue(value, element, floatLabelType, clearButton) {\n        element.value = value;\n        if (floatLabelType !== 'Never') {\n            calculateWidth(element, element.parentElement);\n        }\n        if ((!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(floatLabelType)) && floatLabelType === 'Auto') {\n            validateLabel(element, floatLabelType);\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(clearButton) && clearButton) {\n            var parentElement = getParentNode(element);\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(parentElement)) {\n                var button = parentElement.getElementsByClassName(CLASSNAMES.CLEARICON)[0];\n                if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(button)) {\n                    if (element.value && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(parentElement) && parentElement.classList.contains('e-input-focus')) {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                    else {\n                        (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([button], CLASSNAMES.CLEARICONHIDE);\n                    }\n                }\n            }\n        }\n        checkInputValue(floatLabelType, element);\n    }\n    Input.setValue = setValue;\n    /**\n     * Sets the single or multiple cssClass to wrapper of input element.\n     * ```\n     * E.g : Input.setCssClass('e-custom-class', [element]);\n     * ```\n     *\n     * @param {string} cssClass - Css class names which are needed to add.\n     * @param {Element[] | NodeList} elements - The elements which are needed to add / remove classes.\n     * @param {string} oldClass\n     * - Css class names which are needed to remove. If old classes are need to remove, can give this optional parameter.\n     */\n    function setCssClass(cssClass, elements, oldClass) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(oldClass) && oldClass !== '') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)(elements, oldClass.split(' '));\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(cssClass) && cssClass !== '') {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)(elements, cssClass.split(' '));\n        }\n    }\n    Input.setCssClass = setCssClass;\n    /**\n     * Set the width to the placeholder when it overflows on the button such as spinbutton, clearbutton, icon etc\n     * ```\n     * E.g : Input.calculateWidth(element, container);\n     * ```\n     *\n     * @param {any} element - Input element which is need to add.\n     * @param {HTMLElement} container - The parent element which is need to get the label span to calculate width\n     */\n    function calculateWidth(element, container, moduleName) {\n        if (moduleName !== 'multiselect' && !_isElementVisible(element)) {\n            return;\n        }\n        var elementWidth = moduleName === 'multiselect' ? element : element.clientWidth - parseInt(getComputedStyle(element, null).getPropertyValue('padding-left'), 10);\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(container) && !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(container.getElementsByClassName('e-float-text-content')[0])) {\n            if (container.getElementsByClassName('e-float-text-content')[0].classList.contains('e-float-text-overflow')) {\n                container.getElementsByClassName('e-float-text-content')[0].classList.remove('e-float-text-overflow');\n            }\n            if (elementWidth < container.getElementsByClassName('e-float-text-content')[0].clientWidth || elementWidth === container.getElementsByClassName('e-float-text-content')[0].clientWidth) {\n                container.getElementsByClassName('e-float-text-content')[0].classList.add('e-float-text-overflow');\n            }\n        }\n    }\n    Input.calculateWidth = calculateWidth;\n    /**\n     * Set the width to the wrapper of input element.\n     * ```\n     * E.g : Input.setWidth('200px', container);\n     * ```\n     *\n     * @param {number | string} width - Width value which is need to add.\n     * @param {HTMLElement} container - The element on which the width is need to add.\n     */\n    function setWidth(width, container) {\n        if (typeof width === 'number') {\n            container.style.width = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(width);\n        }\n        else if (typeof width === 'string') {\n            container.style.width = (width.match(/px|%|em/)) ? (width) : ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.formatUnit)(width));\n        }\n        calculateWidth(container.firstChild, container);\n    }\n    Input.setWidth = setWidth;\n    /**\n     * Set the placeholder attribute to the input element.\n     * ```\n     * E.g : Input.setPlaceholder('Search here', element);\n     * ```\n     *\n     * @param {string} placeholder - Placeholder value which is need to add.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element - The element on which the placeholder is need to add.\n     */\n    function setPlaceholder(placeholder, element) {\n        placeholder = encodePlaceHolder(placeholder);\n        var parentElement = getParentNode(element);\n        if (parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(placeholder) && placeholder !== '') {\n                var floatTextContent = parentElement.getElementsByClassName('e-float-text-content')[0];\n                if (floatTextContent && floatTextContent.children[0]) {\n                    floatTextContent.children[0].textContent = placeholder;\n                }\n                else {\n                    parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = placeholder;\n                }\n                parentElement.classList.remove(CLASSNAMES.NOFLOATLABEL);\n                element.removeAttribute('placeholder');\n            }\n            else {\n                parentElement.classList.add(CLASSNAMES.NOFLOATLABEL);\n                var floatTextContent = parentElement.getElementsByClassName('e-float-text-content')[0];\n                if (floatTextContent) {\n                    floatTextContent.children[0].textContent = '';\n                }\n                else {\n                    parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n                }\n            }\n        }\n        else {\n            if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(placeholder) && placeholder !== '') {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.attributes)(element, { 'placeholder': placeholder });\n            }\n            else {\n                element.removeAttribute('placeholder');\n            }\n        }\n    }\n    Input.setPlaceholder = setPlaceholder;\n    /**\n     * Set the read only attribute to the input element\n     * ```\n     * E.g : Input.setReadonly(true, element);\n     * ```\n     *\n     * @param {boolean} isReadonly\n     * - Boolean value to specify whether to set read only. Setting \"True\" value enables read only.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - The element which is need to enable read only.\n     */\n    function setReadonly(isReadonly, element, floatLabelType) {\n        if (isReadonly) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.attributes)(element, { readonly: '' });\n        }\n        else {\n            element.removeAttribute('readonly');\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setReadonly = setReadonly;\n    /**\n     * Displays the element direction from right to left when its enabled.\n     * ```\n     * E.g : Input.setEnableRtl(true, [inputObj.container]);\n     * ```\n     *\n     * @param {boolean} isRtl\n     * - Boolean value to specify whether to set RTL. Setting \"True\" value enables the RTL mode.\n     * @param {Element[] | NodeList} elements\n     * - The elements that are needed to enable/disable RTL.\n     */\n    function setEnableRtl(isRtl, elements) {\n        if (isRtl) {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)(elements, CLASSNAMES.RTL);\n        }\n        else {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)(elements, CLASSNAMES.RTL);\n        }\n    }\n    Input.setEnableRtl = setEnableRtl;\n    /**\n     * Enables or disables the given input element.\n     * ```\n     * E.g : Input.setEnabled(false, element);\n     * ```\n     *\n     * @param {boolean} isEnable\n     * - Boolean value to specify whether to enable or disable.\n     * @param {HTMLInputElement | HTMLTextAreaElement} element\n     * - Element to be enabled or disabled.\n     */\n    function setEnabled(isEnable, element, floatLabelType, inputContainer) {\n        var disabledAttrs = { 'disabled': '', 'aria-disabled': 'true' };\n        var considerWrapper = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputContainer) ? false : true;\n        if (isEnable) {\n            element.classList.remove(CLASSNAMES.DISABLE);\n            removeAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.removeClass)([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        else {\n            element.classList.add(CLASSNAMES.DISABLE);\n            addAttributes(disabledAttrs, element);\n            if (considerWrapper) {\n                (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([inputContainer], CLASSNAMES.DISABLE);\n            }\n        }\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(floatLabelType)) {\n            validateLabel(element, floatLabelType);\n        }\n    }\n    Input.setEnabled = setEnabled;\n    function setClearButton(isClear, element, inputObject, initial, internalCreateElement) {\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        if (isClear) {\n            inputObject.clearButton = createClearButton(element, inputObject, initial, makeElement);\n        }\n        else {\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.remove)(inputObject.clearButton);\n            inputObject.clearButton = null;\n        }\n    }\n    Input.setClearButton = setClearButton;\n    /**\n     * Removing the multiple attributes from the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.removeAttributes({ 'disabled': 'disabled', 'aria-disabled': 'true' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which are need to removed from the element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be removed.\n     */\n    function removeAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.remove(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = '';\n            }\n            else {\n                element.removeAttribute(key);\n            }\n        }\n    }\n    Input.removeAttributes = removeAttributes;\n    /**\n     * Adding the multiple attributes to the given element such as \"disabled\",\"id\" , etc.\n     * ```\n     * E.g : Input.addAttributes({ 'id': 'inputpopup' }, element);\n     * ```\n     *\n     * @param {string} attrs\n     * - Array of attributes which is added to element.\n     * @param {HTMLInputElement | HTMLElement} element\n     * - Element on which the attributes are needed to be added.\n     */\n    function addAttributes(attrs, element) {\n        for (var _i = 0, _a = Object.keys(attrs); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var parentElement = getParentNode(element);\n            if (key === 'disabled') {\n                element.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'disabled' && parentElement.classList.contains(CLASSNAMES.INPUTGROUP)) {\n                parentElement.classList.add(CLASSNAMES.DISABLE);\n            }\n            if (key === 'placeholder' && parentElement.classList.contains(CLASSNAMES.FLOATINPUT)) {\n                parentElement.getElementsByClassName(CLASSNAMES.FLOATTEXT)[0].textContent = attrs[\"\" + key];\n            }\n            else {\n                element.setAttribute(key, attrs[\"\" + key]);\n            }\n        }\n    }\n    Input.addAttributes = addAttributes;\n    function removeFloating(input) {\n        var container = input.container;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(container) && container.classList.contains(CLASSNAMES.FLOATINPUT)) {\n            var inputEle = container.querySelector('textarea') ? container.querySelector('textarea') :\n                container.querySelector('input');\n            var placeholder = container.querySelector('.' + CLASSNAMES.FLOATTEXT).textContent;\n            var clearButton = container.querySelector('.e-clear-icon') !== null;\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(container.querySelector('.' + CLASSNAMES.FLOATLINE));\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.detach)(container.querySelector('.' + CLASSNAMES.FLOATTEXT));\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.classList)(container, [CLASSNAMES.INPUTGROUP], [CLASSNAMES.FLOATINPUT]);\n            unwireFloatingEvents(inputEle);\n            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.attributes)(inputEle, { 'placeholder': placeholder });\n            inputEle.classList.add(CLASSNAMES.INPUT);\n            if (!clearButton && inputEle.tagName === 'INPUT') {\n                inputEle.removeAttribute('required');\n            }\n        }\n    }\n    Input.removeFloating = removeFloating;\n    function addFloating(input, type, placeholder, internalCreateElement) {\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        var container = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.closest)(input, '.' + CLASSNAMES.INPUTGROUP);\n        floatType = type;\n        var customTag = container.tagName;\n        customTag = customTag !== 'DIV' && customTag !== 'SPAN' ? customTag : null;\n        var args = { element: input, floatLabelType: type,\n            customTag: customTag, properties: { placeholder: placeholder } };\n        if (type !== 'Never') {\n            var iconEle = container.querySelector('.e-clear-icon');\n            var inputObj = { container: container };\n            input.classList.remove(CLASSNAMES.INPUT);\n            createFloatingInput(args, inputObj, makeElement);\n            createSpanElement(inputObj.container, makeElement);\n            calculateWidth(args.element, inputObj.container);\n            var isPrependIcon = container.classList.contains('e-float-icon-left');\n            if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(iconEle)) {\n                if (isPrependIcon) {\n                    var inputWrap = container.querySelector('.e-input-in-wrap');\n                    iconEle = inputWrap.querySelector('.e-input-group-icon');\n                }\n                else {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n            }\n            if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(iconEle)) {\n                if (isPrependIcon) {\n                    iconEle = container.querySelector('.e-input-group-icon');\n                }\n            }\n            else {\n                var floatLine = container.querySelector('.' + CLASSNAMES.FLOATLINE);\n                var floatText = container.querySelector('.' + CLASSNAMES.FLOATTEXT);\n                var wrapper = isPrependIcon ? container.querySelector('.e-input-in-wrap') : container;\n                wrapper.insertBefore(input, iconEle);\n                wrapper.insertBefore(floatLine, iconEle);\n                wrapper.insertBefore(floatText, iconEle);\n            }\n        }\n        else {\n            unWireFloatLabelEvents(args);\n        }\n        checkFloatLabelType(type, input.parentElement);\n    }\n    Input.addFloating = addFloating;\n    /**\n     * Create the span inside the label and add the label text into the span textcontent\n     * ```\n     * E.g : Input.createSpanElement(inputObject, makeElement);\n     * ```\n     *\n     * @param {Element} inputObject\n     * - Element which is need to get the label\n     * @param {createElementParams} makeElement\n     * - Element which is need to create the span\n     */\n    function createSpanElement(inputObject, makeElement) {\n        if (inputObject.classList.contains('e-outline') && inputObject.getElementsByClassName('e-float-text')[0]) {\n            var labelSpanElement = makeElement('span', { className: CLASSNAMES.FLOATTEXTCONTENT });\n            labelSpanElement.innerHTML = inputObject.getElementsByClassName('e-float-text')[0].innerHTML;\n            inputObject.getElementsByClassName('e-float-text')[0].innerHTML = '';\n            inputObject.getElementsByClassName('e-float-text')[0].appendChild(labelSpanElement);\n        }\n    }\n    Input.createSpanElement = createSpanElement;\n    /**\n     * Enable or Disable the ripple effect on the icons inside the Input. Ripple effect is only applicable for material theme.\n     * ```\n     * E.g : Input.setRipple(true, [inputObjects]);\n     * ```\n     *\n     * @param {boolean} isRipple\n     * - Boolean value to specify whether to enable the ripple effect.\n     * @param {InputObject[]} inputObj\n     * - Specify the collection of input objects.\n     */\n    function setRipple(isRipple, inputObj) {\n        for (var i = 0; i < inputObj.length; i++) {\n            _internalRipple(isRipple, inputObj[parseInt(i.toString(), 10)].container);\n        }\n    }\n    Input.setRipple = setRipple;\n    function _internalRipple(isRipple, container, button) {\n        var argsButton = [];\n        argsButton.push(button);\n        var buttons = (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(button) ?\n            container.querySelectorAll('.e-input-group-icon') : argsButton;\n        if (isRipple && buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[parseInt(index.toString(), 10)].addEventListener('mousedown', _onMouseDownRipple, false);\n                buttons[parseInt(index.toString(), 10)].addEventListener('mouseup', _onMouseUpRipple, false);\n            }\n        }\n        else if (buttons.length > 0) {\n            for (var index = 0; index < buttons.length; index++) {\n                buttons[parseInt(index.toString(), 10)].removeEventListener('mousedown', _onMouseDownRipple, this);\n                buttons[parseInt(index.toString(), 10)].removeEventListener('mouseup', _onMouseUpRipple, this);\n            }\n        }\n    }\n    function _onMouseRipple(container, button) {\n        if (!container.classList.contains('e-disabled') && !container.querySelector('input').readOnly) {\n            button.classList.add('e-input-btn-ripple');\n        }\n    }\n    function _isElementVisible(element) {\n        if (!element) {\n            return false;\n        }\n        // Check if the element or any of its parents are hidden using display: none\n        var currentElement = element;\n        while (currentElement && currentElement !== document.body) {\n            var style = window.getComputedStyle(currentElement);\n            if (style.display === 'none') {\n                return false;\n            }\n            currentElement = currentElement.parentElement;\n        }\n        // If none of the elements have display: none, the element is considered visible\n        return true;\n    }\n    function _onMouseDownRipple() {\n        var ele =  false || this;\n        var parentEle = this.parentElement;\n        while (!parentEle.classList.contains('e-input-group')) {\n            parentEle = parentEle.parentElement;\n        }\n        _onMouseRipple(parentEle, ele);\n    }\n    function _onMouseUpRipple() {\n        var ele =  false || this;\n        setTimeout(function () {\n            ele.classList.remove('e-input-btn-ripple');\n        }, 500);\n    }\n    function createIconEle(iconClass, makeElement) {\n        var button = makeElement('span', { className: iconClass });\n        button.classList.add('e-input-group-icon');\n        return button;\n    }\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.addIcon('append', 'e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} position - Specify the icon placement on the input.Possible values are append and prepend.\n     * @param {string | string[]} icons - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} input - The inputElement on which created span element is going to prepend.\n     */\n    function addIcon(position, icons, container, input, internalCreate) {\n        var result = typeof (icons) === 'string' ? icons.split(',')\n            : icons;\n        if (position.toLowerCase() === 'append') {\n            for (var _i = 0, result_1 = result; _i < result_1.length; _i++) {\n                var icon = result_1[_i];\n                appendSpan(icon, container, internalCreate);\n            }\n        }\n        else {\n            for (var _a = 0, result_2 = result; _a < result_2.length; _a++) {\n                var icon = result_2[_a];\n                prependSpan(icon, container, input, internalCreate);\n            }\n        }\n        if (container.getElementsByClassName('e-input-group-icon')[0] && container.getElementsByClassName('e-float-text-overflow')[0]) {\n            container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n        }\n    }\n    Input.addIcon = addIcon;\n    /**\n     * Creates a new span element with the given icons added and prepend it in input element.\n     * ```\n     * E.g : Input.prependSpan('e-icon-spin', inputObj.container, inputElement);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     * @param {HTMLElement} inputElement - The inputElement on which created span element is going to prepend.\n     */\n    function prependSpan(iconClass, container, inputElement, internalCreateElement) {\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        var button = createIconEle(iconClass, makeElement);\n        container.classList.add('e-float-icon-left');\n        var innerWrapper = container.querySelector('.e-input-in-wrap');\n        if ((0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(innerWrapper)) {\n            innerWrapper = makeElement('span', { className: 'e-input-in-wrap' });\n            inputElement.parentNode.insertBefore(innerWrapper, inputElement);\n            var result = container.querySelectorAll(inputElement.tagName + ' ~ *');\n            innerWrapper.appendChild(inputElement);\n            for (var i = 0; i < result.length; i++) {\n                var element = result[parseInt(i.toString(), 10)];\n                var parentElement = innerWrapper.parentElement;\n                if (!(element.classList.contains('e-float-line')) || (!(parentElement && parentElement.classList.contains('e-filled')) && parentElement)) {\n                    innerWrapper.appendChild(element);\n                }\n            }\n        }\n        innerWrapper.parentNode.insertBefore(button, innerWrapper);\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.prependSpan = prependSpan;\n    /**\n     * Creates a new span element with the given icons added and append it in container element.\n     * ```\n     * E.g : Input.appendSpan('e-icon-spin', inputObj.container);\n     * ```\n     *\n     * @param {string} iconClass - Icon classes which are need to add to the span element which is going to created.\n     * Span element acts as icon or button element for input.\n     * @param {HTMLElement} container - The container on which created span element is going to append.\n     */\n    function appendSpan(iconClass, container, internalCreateElement) {\n        var makeElement = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(internalCreateElement) ? internalCreateElement : _syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.createElement;\n        var button = createIconEle(iconClass, makeElement);\n        var wrap = (container.classList.contains('e-float-icon-left')) ? container.querySelector('.e-input-in-wrap') :\n            container;\n        wrap.appendChild(button);\n        _internalRipple(true, container, button);\n        return button;\n    }\n    Input.appendSpan = appendSpan;\n    function validateInputType(containerElement, input) {\n        if (input.type === 'hidden') {\n            containerElement.classList.add('e-hidden');\n        }\n        else if (containerElement.classList.contains('e-hidden')) {\n            containerElement.classList.remove('e-hidden');\n        }\n    }\n    Input.validateInputType = validateInputType;\n    function updateHTMLAttributesToElement(htmlAttributes, element) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttributes.indexOf(key) < 0) {\n                    element.setAttribute(key, htmlAttributes[\"\" + key]);\n                }\n            }\n        }\n    }\n    Input.updateHTMLAttributesToElement = updateHTMLAttributesToElement;\n    function updateCssClass(newClass, oldClass, container) {\n        setCssClass(getInputValidClassList(newClass), [container], getInputValidClassList(oldClass));\n    }\n    Input.updateCssClass = updateCssClass;\n    function getInputValidClassList(inputClassName) {\n        var result = inputClassName;\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(inputClassName) && inputClassName !== '') {\n            result = (inputClassName.replace(/\\s+/g, ' ')).trim();\n        }\n        return result;\n    }\n    Input.getInputValidClassList = getInputValidClassList;\n    function updateHTMLAttributesToWrapper(htmlAttributes, container) {\n        if (!(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassValues = this.getInputValidClassList(htmlAttributes[\"\" + key]);\n                        if (updatedClassValues !== '') {\n                            (0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.addClass)([container], updatedClassValues.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var setStyle = container.getAttribute(key);\n                        setStyle = !(0,_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_0__.isNullOrUndefined)(setStyle) ? (setStyle + htmlAttributes[\"\" + key]) :\n                            htmlAttributes[\"\" + key];\n                        container.setAttribute(key, setStyle);\n                    }\n                    else {\n                        container.setAttribute(key, htmlAttributes[\"\" + key]);\n                    }\n                }\n            }\n        }\n    }\n    Input.updateHTMLAttributesToWrapper = updateHTMLAttributesToWrapper;\n    function isBlank(inputString) {\n        return (!inputString || /^\\s*$/.test(inputString));\n    }\n    Input.isBlank = isBlank;\n})(Input || (Input = {}));\n/* eslint-enable valid-jsdoc, jsdoc/require-jsdoc, jsdoc/require-returns, jsdoc/require-param */\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQHN5bmNmdXNpb24rZWoyLWlucHV0c0AyOS4xLjM5L25vZGVfbW9kdWxlcy9Ac3luY2Z1c2lvbi9lajItaW5wdXRzL3NyYy9pbnB1dC9pbnB1dC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDMkc7QUFDckI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHlEQUF5RCx5QkFBeUI7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1RUFBaUIsa0RBQWtELCtEQUFhO0FBQzNHLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0EsWUFBWSx1RUFBaUI7QUFDN0I7QUFDQTtBQUNBLFlBQVksOERBQVE7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx1RUFBaUIsc0JBQXNCLHVFQUFpQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4REFBUTtBQUN4QjtBQUNBO0FBQ0EsYUFBYSx1RUFBaUI7QUFDOUIsNEJBQTRCLHlCQUF5QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVFQUFpQjtBQUM5QixZQUFZLDhEQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtB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Q0E7QUFDQSxhQUFhLHVFQUFpQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVFQUFpQjtBQUM5QiwrREFBK0QsZ0JBQWdCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOERBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsdUVBQWlCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsc0JBQXNCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWlfdHJhdmVsLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzeW5jZnVzaW9uK2VqMi1pbnB1dHNAMjkuMS4zOS9ub2RlX21vZHVsZXMvQHN5bmNmdXNpb24vZWoyLWlucHV0cy9zcmMvaW5wdXQvaW5wdXQuanM/MzExZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYywganNkb2MvcmVxdWlyZS1qc2RvYywganNkb2MvcmVxdWlyZS1yZXR1cm5zLCBqc2RvYy9yZXF1aXJlLXBhcmFtICovXG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBhdHRyaWJ1dGVzLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGRldGFjaCwgY2xhc3NMaXN0IH0gZnJvbSAnQHN5bmNmdXNpb24vZWoyLWJhc2UnO1xuaW1wb3J0IHsgY2xvc2VzdCwgZm9ybWF0VW5pdCwgaXNOdWxsT3JVbmRlZmluZWQsIHJlbW92ZSB9IGZyb20gJ0BzeW5jZnVzaW9uL2VqMi1iYXNlJztcbnZhciBDTEFTU05BTUVTID0ge1xuICAgIFJUTDogJ2UtcnRsJyxcbiAgICBESVNBQkxFOiAnZS1kaXNhYmxlZCcsXG4gICAgSU5QVVQ6ICdlLWlucHV0JyxcbiAgICBURVhUQVJFQTogJ2UtbXVsdGktbGluZS1pbnB1dCcsXG4gICAgSU5QVVRHUk9VUDogJ2UtaW5wdXQtZ3JvdXAnLFxuICAgIEZMT0FUSU5QVVQ6ICdlLWZsb2F0LWlucHV0JyxcbiAgICBGTE9BVExJTkU6ICdlLWZsb2F0LWxpbmUnLFxuICAgIEZMT0FUVEVYVDogJ2UtZmxvYXQtdGV4dCcsXG4gICAgRkxPQVRURVhUQ09OVEVOVDogJ2UtZmxvYXQtdGV4dC1jb250ZW50JyxcbiAgICBDTEVBUklDT046ICdlLWNsZWFyLWljb24nLFxuICAgIENMRUFSSUNPTkhJREU6ICdlLWNsZWFyLWljb24taGlkZScsXG4gICAgTEFCRUxUT1A6ICdlLWxhYmVsLXRvcCcsXG4gICAgTEFCRUxCT1RUT006ICdlLWxhYmVsLWJvdHRvbScsXG4gICAgTk9GTE9BVExBQkVMOiAnZS1uby1mbG9hdC1sYWJlbCcsXG4gICAgSU5QVVRDVVNUT01UQUc6ICdlLWlucHV0LWN1c3RvbS10YWcnLFxuICAgIEZMT0FUQ1VTVE9NVEFHOiAnZS1mbG9hdC1jdXN0b20tdGFnJ1xufTtcbi8qKlxuICogRGVmaW5lcyB0aGUgY29uc3RhbnQgYXR0cmlidXRlcyBmb3IgdGhlIGlucHV0IGVsZW1lbnQgY29udGFpbmVyLlxuICovXG5leHBvcnQgdmFyIGNvbnRhaW5lckF0dHJpYnV0ZXMgPSBbJ3RpdGxlJywgJ3N0eWxlJywgJ2NsYXNzJ107XG4vKipcbiAqIERlZmluZXMgdGhlIGNvbnN0YW50IGZvY3VzIGNsYXNzIGZvciB0aGUgaW5wdXQgZWxlbWVudC5cbiAqL1xuZXhwb3J0IHZhciBURVhUQk9YX0ZPQ1VTID0gJ2UtaW5wdXQtZm9jdXMnO1xuLyoqXG4gKiBCYXNlIGZvciBJbnB1dCBjcmVhdGlvbiB0aHJvdWdoIHV0aWwgbWV0aG9kcy5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2VcbmV4cG9ydCB2YXIgSW5wdXQ7XG4oZnVuY3Rpb24gKElucHV0KSB7XG4gICAgdmFyIHByaXZhdGVJbnB1dE9iaiA9IHtcbiAgICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgICBidXR0b25zOiBbXSxcbiAgICAgICAgY2xlYXJCdXR0b246IG51bGxcbiAgICB9O1xuICAgIHZhciBmbG9hdFR5cGU7XG4gICAgdmFyIGlzQmluZENsZWFyQWN0aW9uID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB3cmFwcGVyIHRvIGlucHV0IGVsZW1lbnQgd2l0aCBtdWx0aXBsZSBzcGFuIGVsZW1lbnRzIGFuZCBzZXQgdGhlIGJhc2ljIHByb3BlcnRpZXMgdG8gaW5wdXQgYmFzZWQgY29tcG9uZW50cy5cbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5jcmVhdGVJbnB1dCh7IGVsZW1lbnQ6IGVsZW1lbnQsIGZsb2F0TGFiZWxUeXBlIDogXCJBdXRvXCIsIHByb3BlcnRpZXM6IHsgcGxhY2Vob2xkZXI6ICdTZWFyY2gnIH0gfSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnB1dChhcmdzLCBpbnRlcm5hbENyZWF0ZUVsZW1lbnQpIHtcbiAgICAgICAgYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVycyA9IHt9O1xuICAgICAgICB2YXIgbWFrZUVsZW1lbnQgPSAhaXNOdWxsT3JVbmRlZmluZWQoaW50ZXJuYWxDcmVhdGVFbGVtZW50KSA/IGludGVybmFsQ3JlYXRlRWxlbWVudCA6IGNyZWF0ZUVsZW1lbnQ7XG4gICAgICAgIHZhciBpbnB1dE9iamVjdCA9IHsgY29udGFpbmVyOiBudWxsLCBidXR0b25zOiBbXSwgY2xlYXJCdXR0b246IG51bGwgfTtcbiAgICAgICAgZmxvYXRUeXBlID0gYXJncy5mbG9hdExhYmVsVHlwZTtcbiAgICAgICAgaXNCaW5kQ2xlYXJBY3Rpb24gPSBhcmdzLmJpbmRDbGVhckFjdGlvbjtcbiAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuZmxvYXRMYWJlbFR5cGUpIHx8IGFyZ3MuZmxvYXRMYWJlbFR5cGUgPT09ICdOZXZlcicpIHtcbiAgICAgICAgICAgIGlucHV0T2JqZWN0LmNvbnRhaW5lciA9IGNyZWF0ZUlucHV0Q29udGFpbmVyKGFyZ3MsIENMQVNTTkFNRVMuSU5QVVRHUk9VUCwgQ0xBU1NOQU1FUy5JTlBVVENVU1RPTVRBRywgJ3NwYW4nLCBtYWtlRWxlbWVudCk7XG4gICAgICAgICAgICBhcmdzLmVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaW5wdXRPYmplY3QuY29udGFpbmVyLCBhcmdzLmVsZW1lbnQpO1xuICAgICAgICAgICAgYWRkQ2xhc3MoW2FyZ3MuZWxlbWVudF0sIENMQVNTTkFNRVMuSU5QVVQpO1xuICAgICAgICAgICAgaW5wdXRPYmplY3QuY29udGFpbmVyLmFwcGVuZENoaWxkKGFyZ3MuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjcmVhdGVGbG9hdGluZ0lucHV0KGFyZ3MsIGlucHV0T2JqZWN0LCBtYWtlRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgYmluZEluaXRpYWxFdmVudChhcmdzKTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChhcmdzLnByb3BlcnRpZXMpICYmICFpc051bGxPclVuZGVmaW5lZChhcmdzLnByb3BlcnRpZXMuc2hvd0NsZWFyQnV0dG9uKSAmJlxuICAgICAgICAgICAgYXJncy5wcm9wZXJ0aWVzLnNob3dDbGVhckJ1dHRvbikge1xuICAgICAgICAgICAgc2V0Q2xlYXJCdXR0b24oYXJncy5wcm9wZXJ0aWVzLnNob3dDbGVhckJ1dHRvbiwgYXJncy5lbGVtZW50LCBpbnB1dE9iamVjdCwgdHJ1ZSwgbWFrZUVsZW1lbnQpO1xuICAgICAgICAgICAgaW5wdXRPYmplY3QuY2xlYXJCdXR0b24uc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgICAgICAgICAgaWYgKGlucHV0T2JqZWN0LmNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5GTE9BVElOUFVUKSkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKFtpbnB1dE9iamVjdC5jb250YWluZXJdLCBDTEFTU05BTUVTLklOUFVUR1JPVVApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoYXJncy5idXR0b25zKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpbnB1dE9iamVjdC5idXR0b25zLnB1c2goYXBwZW5kU3BhbihhcmdzLmJ1dHRvbnNbaV0sIGlucHV0T2JqZWN0LmNvbnRhaW5lciwgbWFrZUVsZW1lbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuZWxlbWVudCkgJiYgYXJncy5lbGVtZW50LnRhZ05hbWUgPT09ICdURVhUQVJFQScpIHtcbiAgICAgICAgICAgIGFkZENsYXNzKFtpbnB1dE9iamVjdC5jb250YWluZXJdLCBDTEFTU05BTUVTLlRFWFRBUkVBKTtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZUlucHV0VHlwZShpbnB1dE9iamVjdC5jb250YWluZXIsIGFyZ3MuZWxlbWVudCk7XG4gICAgICAgIGlucHV0T2JqZWN0ID0gc2V0UHJvcGVydHlWYWx1ZShhcmdzLCBpbnB1dE9iamVjdCk7XG4gICAgICAgIGNyZWF0ZVNwYW5FbGVtZW50KGlucHV0T2JqZWN0LmNvbnRhaW5lciwgbWFrZUVsZW1lbnQpO1xuICAgICAgICBwcml2YXRlSW5wdXRPYmogPSBpbnB1dE9iamVjdDtcbiAgICAgICAgcmV0dXJuIGlucHV0T2JqZWN0O1xuICAgIH1cbiAgICBJbnB1dC5jcmVhdGVJbnB1dCA9IGNyZWF0ZUlucHV0O1xuICAgIGZ1bmN0aW9uIGJpbmRGb2N1c0V2ZW50SGFuZGxlcihhcmdzKSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSBnZXRQYXJlbnROb2RlKGFyZ3MuZWxlbWVudCk7XG4gICAgICAgIGlmIChwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWlucHV0LWdyb3VwJykgfHwgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZS1vdXRsaW5lJykgfHwgcGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZS1maWxsZWQnKSkge1xuICAgICAgICAgICAgcGFyZW50LmNsYXNzTGlzdC5hZGQoJ2UtaW5wdXQtZm9jdXMnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5mbG9hdExhYmVsVHlwZSAhPT0gJ05ldmVyJykge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgSW5wdXQuY2FsY3VsYXRlV2lkdGgoYXJncy5lbGVtZW50LCBwYXJlbnQpO1xuICAgICAgICAgICAgfSwgODApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRCbHVyRXZlbnRIYW5kbGVyKGFyZ3MpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IGdldFBhcmVudE5vZGUoYXJncy5lbGVtZW50KTtcbiAgICAgICAgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2UtaW5wdXQtZ3JvdXAnKSB8fCBwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLW91dGxpbmUnKSB8fCBwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWZpbGxlZCcpKSB7XG4gICAgICAgICAgICBwYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZS1pbnB1dC1mb2N1cycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzLmZsb2F0TGFiZWxUeXBlICE9PSAnTmV2ZXInKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBJbnB1dC5jYWxjdWxhdGVXaWR0aChhcmdzLmVsZW1lbnQsIHBhcmVudCk7XG4gICAgICAgICAgICB9LCA4MCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYmluZElucHV0RXZlbnRIYW5kbGVyKGFyZ3MpIHtcbiAgICAgICAgY2hlY2tJbnB1dFZhbHVlKGFyZ3MuZmxvYXRMYWJlbFR5cGUsIGFyZ3MuZWxlbWVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRJbml0aWFsRXZlbnQoYXJncykge1xuICAgICAgICBjaGVja0lucHV0VmFsdWUoYXJncy5mbG9hdExhYmVsVHlwZSwgYXJncy5lbGVtZW50KTtcbiAgICAgICAgdmFyIGZvY3VzSGFuZGxlciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJpbmRGb2N1c0V2ZW50SGFuZGxlcihhcmdzKTsgfTtcbiAgICAgICAgdmFyIGJsdXJIYW5kbGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gYmluZEJsdXJFdmVudEhhbmRsZXIoYXJncyk7IH07XG4gICAgICAgIHZhciBpbnB1dEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBiaW5kSW5wdXRFdmVudEhhbmRsZXIoYXJncyk7IH07XG4gICAgICAgIGFyZ3MuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZvY3VzSGFuZGxlcik7XG4gICAgICAgIGFyZ3MuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXIpO1xuICAgICAgICBhcmdzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dEhhbmRsZXIpO1xuICAgICAgICBhcmdzLmVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydpbnB1dEZvY3VzSGFuZGxlciddID0geyBmb2N1c0hhbmRsZXI6IGZvY3VzSGFuZGxlciB9O1xuICAgICAgICBhcmdzLmVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydpbnB1dEJsdXJIYW5kbGVyJ10gPSB7IGJsdXJIYW5kbGVyOiBibHVySGFuZGxlciB9O1xuICAgICAgICBhcmdzLmVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydpbnB1dEhhbmRsZXInXSA9IHsgaW5wdXRIYW5kbGVyOiBpbnB1dEhhbmRsZXIgfTtcbiAgICB9XG4gICAgSW5wdXQuYmluZEluaXRpYWxFdmVudCA9IGJpbmRJbml0aWFsRXZlbnQ7XG4gICAgZnVuY3Rpb24gdW5iaW5kSW5pdGlhbEV2ZW50KGFyZ3MpIHtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChhcmdzLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChhcmdzLmVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydpbnB1dEZvY3VzSGFuZGxlciddKVxuICAgICAgICAgICAgICAgICAgICAmJiAhaXNOdWxsT3JVbmRlZmluZWQoYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snaW5wdXRCbHVySGFuZGxlciddKVxuICAgICAgICAgICAgICAgICAgICAmJiAhaXNOdWxsT3JVbmRlZmluZWQoYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snaW5wdXRIYW5kbGVyJ10pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2N1c0hhbmRsZXJfMSA9IGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2lucHV0Rm9jdXNIYW5kbGVyJ10uZm9jdXNIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmx1ckhhbmRsZXJfMSA9IGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2lucHV0Qmx1ckhhbmRsZXInXS5ibHVySGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0SGFuZGxlcl8xID0gYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snaW5wdXRIYW5kbGVyJ10uaW5wdXRIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICBhcmdzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmb2N1c0hhbmRsZXJfMSk7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXJfMSk7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0SGFuZGxlcl8xKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgc3RvcmVkIGJvdW5kIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snaW5wdXRGb2N1c0hhbmRsZXInXTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2lucHV0Qmx1ckhhbmRsZXInXTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2lucHV0SGFuZGxlciddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lucHV0VmFsdWUoZmxvYXRMYWJlbFR5cGUsIGlucHV0RWxlbWVudCkge1xuICAgICAgICB2YXIgaW5wdXRWYWx1ZSA9IGlucHV0RWxlbWVudC52YWx1ZTtcbiAgICAgICAgdmFyIGlucHV0UGFyZW50ID0gaW5wdXRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHZhciBncmFuZFBhcmVudCA9IGlucHV0UGFyZW50ICYmIGlucHV0UGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGlmIChpbnB1dFZhbHVlICE9PSAnJyAmJiAhaXNOdWxsT3JVbmRlZmluZWQoaW5wdXRWYWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dFBhcmVudCAmJiBpbnB1dFBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2UtaW5wdXQtZ3JvdXAnKSkge1xuICAgICAgICAgICAgICAgIGlucHV0UGFyZW50LmNsYXNzTGlzdC5hZGQoJ2UtdmFsaWQtaW5wdXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGdyYW5kUGFyZW50ICYmIGdyYW5kUGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZS1pbnB1dC1ncm91cCcpKSB7XG4gICAgICAgICAgICAgICAgZ3JhbmRQYXJlbnQuY2xhc3NMaXN0LmFkZCgnZS12YWxpZC1pbnB1dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZsb2F0TGFiZWxUeXBlICE9PSAnQWx3YXlzJykge1xuICAgICAgICAgICAgaWYgKGlucHV0UGFyZW50ICYmIGlucHV0UGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnZS1pbnB1dC1ncm91cCcpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRQYXJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnZS12YWxpZC1pbnB1dCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ3JhbmRQYXJlbnQgJiYgZ3JhbmRQYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWlucHV0LWdyb3VwJykpIHtcbiAgICAgICAgICAgICAgICBncmFuZFBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKCdlLXZhbGlkLWlucHV0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX2ZvY3VzRm4oKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IGdldFBhcmVudE5vZGUodGhpcykuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0JylbMF07XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQobGFiZWwpKSB7XG4gICAgICAgICAgICBhZGRDbGFzcyhbbGFiZWxdLCBDTEFTU05BTUVTLkxBQkVMVE9QKTtcbiAgICAgICAgICAgIGlmIChsYWJlbC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5MQUJFTEJPVFRPTSkpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhbbGFiZWxdLCBDTEFTU05BTUVTLkxBQkVMQk9UVE9NKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfYmx1ckZuKCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50Tm9kZSh0aGlzKTtcbiAgICAgICAgaWYgKChwYXJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RleHRhcmVhJylbMF0pID8gcGFyZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZXh0YXJlYScpWzBdLnZhbHVlID09PSAnJyA6XG4gICAgICAgICAgICBwYXJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JylbMF0udmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0JylbMF07XG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGxhYmVsKSkge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5MQUJFTFRPUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW2xhYmVsXSwgQ0xBU1NOQU1FUy5MQUJFTFRPUCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZENsYXNzKFtsYWJlbF0sIENMQVNTTkFNRVMuTEFCRUxCT1RUT00pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdpcmVGbG9hdGluZ0V2ZW50cyhlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBfZm9jdXNGbik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIF9ibHVyRm4pO1xuICAgIH1cbiAgICBJbnB1dC53aXJlRmxvYXRpbmdFdmVudHMgPSB3aXJlRmxvYXRpbmdFdmVudHM7XG4gICAgZnVuY3Rpb24gdW53aXJlRmxvYXRpbmdFdmVudHMoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgX2ZvY3VzRm4pO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgX2JsdXJGbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW5wdXRFdmVudEhhbmRsZXIoYXJncykge1xuICAgICAgICB2YWxpZGF0ZUxhYmVsKGFyZ3MuZWxlbWVudCwgYXJncy5mbG9hdExhYmVsVHlwZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJsdXJFdmVudEhhbmRsZXIoYXJncykge1xuICAgICAgICB2YWxpZGF0ZUxhYmVsKGFyZ3MuZWxlbWVudCwgYXJncy5mbG9hdExhYmVsVHlwZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZsb2F0aW5nSW5wdXQoYXJncywgaW5wdXRPYmplY3QsIGludGVybmFsQ3JlYXRlRWxlbWVudCkge1xuICAgICAgICB2YXIgbWFrZUVsZW1lbnQgPSAhaXNOdWxsT3JVbmRlZmluZWQoaW50ZXJuYWxDcmVhdGVFbGVtZW50KSA/IGludGVybmFsQ3JlYXRlRWxlbWVudCA6IGNyZWF0ZUVsZW1lbnQ7XG4gICAgICAgIGlmIChhcmdzLmZsb2F0TGFiZWxUeXBlID09PSAnQXV0bycpIHtcbiAgICAgICAgICAgIHdpcmVGbG9hdGluZ0V2ZW50cyhhcmdzLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc051bGxPclVuZGVmaW5lZChpbnB1dE9iamVjdC5jb250YWluZXIpKSB7XG4gICAgICAgICAgICBpbnB1dE9iamVjdC5jb250YWluZXIgPSBjcmVhdGVJbnB1dENvbnRhaW5lcihhcmdzLCBDTEFTU05BTUVTLkZMT0FUSU5QVVQsIENMQVNTTkFNRVMuRkxPQVRDVVNUT01UQUcsICdkaXYnLCBtYWtlRWxlbWVudCk7XG4gICAgICAgICAgICBpbnB1dE9iamVjdC5jb250YWluZXIuY2xhc3NMaXN0LmFkZChDTEFTU05BTUVTLklOUFVUR1JPVVApO1xuICAgICAgICAgICAgaWYgKGFyZ3MuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgYXJncy5lbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGlucHV0T2JqZWN0LmNvbnRhaW5lciwgYXJncy5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoYXJncy5jdXN0b21UYWcpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRPYmplY3QuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQ0xBU1NOQU1FUy5GTE9BVENVU1RPTVRBRyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dE9iamVjdC5jb250YWluZXIuY2xhc3NMaXN0LmFkZChDTEFTU05BTUVTLkZMT0FUSU5QVVQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmbG9hdExpbmVsZW1lbnQgPSBtYWtlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBDTEFTU05BTUVTLkZMT0FUTElORSB9KTtcbiAgICAgICAgdmFyIGZsb2F0TGFiZWxFbGVtZW50ID0gbWFrZUVsZW1lbnQoJ2xhYmVsJywgeyBjbGFzc05hbWU6IENMQVNTTkFNRVMuRkxPQVRURVhUIH0pO1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuZWxlbWVudC5pZCkgJiYgYXJncy5lbGVtZW50LmlkICE9PSAnJykge1xuICAgICAgICAgICAgZmxvYXRMYWJlbEVsZW1lbnQuaWQgPSAnbGFiZWxfJyArIGFyZ3MuZWxlbWVudC5pZC5yZXBsYWNlKC8gL2csICdfJyk7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzKGFyZ3MuZWxlbWVudCwgeyAnYXJpYS1sYWJlbGxlZGJ5JzogZmxvYXRMYWJlbEVsZW1lbnQuaWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChhcmdzLmVsZW1lbnQucGxhY2Vob2xkZXIpICYmIGFyZ3MuZWxlbWVudC5wbGFjZWhvbGRlciAhPT0gJycpIHtcbiAgICAgICAgICAgIGZsb2F0TGFiZWxFbGVtZW50LmlubmVyVGV4dCA9IGVuY29kZVBsYWNlSG9sZGVyKGFyZ3MuZWxlbWVudC5wbGFjZWhvbGRlcik7XG4gICAgICAgICAgICBhcmdzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoYXJncy5wcm9wZXJ0aWVzKSAmJiAhaXNOdWxsT3JVbmRlZmluZWQoYXJncy5wcm9wZXJ0aWVzLnBsYWNlaG9sZGVyKSAmJlxuICAgICAgICAgICAgYXJncy5wcm9wZXJ0aWVzLnBsYWNlaG9sZGVyICE9PSAnJykge1xuICAgICAgICAgICAgZmxvYXRMYWJlbEVsZW1lbnQuaW5uZXJUZXh0ID0gZW5jb2RlUGxhY2VIb2xkZXIoYXJncy5wcm9wZXJ0aWVzLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZsb2F0TGFiZWxFbGVtZW50LmlubmVyVGV4dCkge1xuICAgICAgICAgICAgaW5wdXRPYmplY3QuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoQ0xBU1NOQU1FUy5OT0ZMT0FUTEFCRUwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dE9iamVjdC5jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWZsb2F0LWljb24tbGVmdCcpKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRXcmFwID0gaW5wdXRPYmplY3QuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5lLWlucHV0LWluLXdyYXAnKTtcbiAgICAgICAgICAgIGlucHV0V3JhcC5hcHBlbmRDaGlsZChhcmdzLmVsZW1lbnQpO1xuICAgICAgICAgICAgaW5wdXRXcmFwLmFwcGVuZENoaWxkKGZsb2F0TGluZWxlbWVudCk7XG4gICAgICAgICAgICBpbnB1dFdyYXAuYXBwZW5kQ2hpbGQoZmxvYXRMYWJlbEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5wdXRPYmplY3QuY29udGFpbmVyLmFwcGVuZENoaWxkKGFyZ3MuZWxlbWVudCk7XG4gICAgICAgICAgICBpbnB1dE9iamVjdC5jb250YWluZXIuYXBwZW5kQ2hpbGQoZmxvYXRMaW5lbGVtZW50KTtcbiAgICAgICAgICAgIGlucHV0T2JqZWN0LmNvbnRhaW5lci5hcHBlbmRDaGlsZChmbG9hdExhYmVsRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlTGFiZWxTdGF0ZShhcmdzLmVsZW1lbnQudmFsdWUsIGZsb2F0TGFiZWxFbGVtZW50KTtcbiAgICAgICAgaWYgKGFyZ3MuZmxvYXRMYWJlbFR5cGUgPT09ICdBbHdheXMnKSB7XG4gICAgICAgICAgICBpZiAoZmxvYXRMYWJlbEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTTkFNRVMuTEFCRUxCT1RUT00pKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW2Zsb2F0TGFiZWxFbGVtZW50XSwgQ0xBU1NOQU1FUy5MQUJFTEJPVFRPTSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRDbGFzcyhbZmxvYXRMYWJlbEVsZW1lbnRdLCBDTEFTU05BTUVTLkxBQkVMVE9QKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJncy5mbG9hdExhYmVsVHlwZSA9PT0gJ0F1dG8nKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXRGbG9hdEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnB1dEV2ZW50SGFuZGxlcihhcmdzKTsgfTtcbiAgICAgICAgICAgIHZhciBibHVyRmxvYXRIYW5kbGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gYmx1ckV2ZW50SGFuZGxlcihhcmdzKTsgfTtcbiAgICAgICAgICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnMgdXNpbmcgdGhlIGRlZmluZWQgZnVuY3Rpb25zXG4gICAgICAgICAgICBhcmdzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dEZsb2F0SGFuZGxlcik7XG4gICAgICAgICAgICBhcmdzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGJsdXJGbG9hdEhhbmRsZXIpO1xuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGV2ZW50IGhhbmRsZXIgZnVuY3Rpb25zIHRvIHJlbW92ZSB0aGVtIGxhdGVyXG4gICAgICAgICAgICBhcmdzLmVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydmbG9hdElucHV0SGFuZGxlciddID0geyBpbnB1dEZsb2F0SGFuZGxlcjogaW5wdXRGbG9hdEhhbmRsZXIgfTtcbiAgICAgICAgICAgIGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2Zsb2F0Qmx1ckhhbmRsZXInXSA9IHsgYmx1ckZsb2F0SGFuZGxlcjogYmx1ckZsb2F0SGFuZGxlciB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdW5XaXJlRmxvYXRMYWJlbEV2ZW50cyhhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJykpKSB7XG4gICAgICAgICAgICBmbG9hdExhYmVsRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIGFyZ3MuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuV2lyZUZsb2F0TGFiZWxFdmVudHMoYXJncykge1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuZWxlbWVudCkgJiZcbiAgICAgICAgICAgICFpc051bGxPclVuZGVmaW5lZChhcmdzLmVsZW1lbnQuX19ldmVudEhhbmRsZXJzKVxuICAgICAgICAgICAgJiYgIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2Zsb2F0SW5wdXRIYW5kbGVyJ10pXG4gICAgICAgICAgICAmJiAhaXNOdWxsT3JVbmRlZmluZWQoYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snZmxvYXRCbHVySGFuZGxlciddKSkge1xuICAgICAgICAgICAgdmFyIGlucHV0RmxvYXRIYW5kbGVyID0gYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snZmxvYXRJbnB1dEhhbmRsZXInXS5pbnB1dEZsb2F0SGFuZGxlcjtcbiAgICAgICAgICAgIHZhciBibHVyRmxvYXRIYW5kbGVyID0gYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snZmxvYXRCbHVySGFuZGxlciddLmJsdXJGbG9hdEhhbmRsZXI7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVycyB1c2luZyB0aGUgZGVmaW5lZCBmdW5jdGlvbnNcbiAgICAgICAgICAgIGFyZ3MuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0RmxvYXRIYW5kbGVyKTtcbiAgICAgICAgICAgIGFyZ3MuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckZsb2F0SGFuZGxlcik7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBzdG9yZWQgZXZlbnQgaGFuZGxlciBmdW5jdGlvbnNcbiAgICAgICAgICAgIGRlbGV0ZSBhcmdzLmVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydmbG9hdElucHV0SGFuZGxlciddO1xuICAgICAgICAgICAgZGVsZXRlIGFyZ3MuZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2Zsb2F0Qmx1ckhhbmRsZXInXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0Zsb2F0TGFiZWxUeXBlKHR5cGUsIGNvbnRhaW5lcikge1xuICAgICAgICBpZiAodHlwZSA9PT0gJ0Fsd2F5cycgJiYgY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnZS1vdXRsaW5lJykpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdlLXZhbGlkLWlucHV0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UHJvcGVydHlWYWx1ZShhcmdzLCBpbnB1dE9iamVjdCkge1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MucHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhhcmdzLnByb3BlcnRpZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdjc3NDbGFzcyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDc3NDbGFzcyhhcmdzLnByb3BlcnRpZXMuY3NzQ2xhc3MsIFtpbnB1dE9iamVjdC5jb250YWluZXJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrRmxvYXRMYWJlbFR5cGUoYXJncy5mbG9hdExhYmVsVHlwZSwgaW5wdXRPYmplY3QuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEVuYWJsZWQoYXJncy5wcm9wZXJ0aWVzLmVuYWJsZWQsIGFyZ3MuZWxlbWVudCwgYXJncy5mbG9hdExhYmVsVHlwZSwgaW5wdXRPYmplY3QuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmFibGVSdGwnOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RW5hYmxlUnRsKGFyZ3MucHJvcGVydGllcy5lbmFibGVSdGwsIFtpbnB1dE9iamVjdC5jb250YWluZXJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdwbGFjZWhvbGRlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRQbGFjZWhvbGRlcihhcmdzLnByb3BlcnRpZXMucGxhY2Vob2xkZXIsIGFyZ3MuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVhZG9ubHknOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVhZG9ubHkoYXJncy5wcm9wZXJ0aWVzLnJlYWRvbmx5LCBhcmdzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dE9iamVjdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlSWNvblN0YXRlKHZhbHVlLCBidXR0b24sIHJlYWRvbmx5KSB7XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoYnV0dG9uKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlICYmICFyZWFkb25seSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKFtidXR0b25dLCBDTEFTU05BTUVTLkNMRUFSSUNPTkhJREUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoW2J1dHRvbl0sIENMQVNTTkFNRVMuQ0xFQVJJQ09OSElERSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlTGFiZWxTdGF0ZSh2YWx1ZSwgbGFiZWwsIGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQgPT09IHZvaWQgMCkgeyBlbGVtZW50ID0gbnVsbDsgfVxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGFkZENsYXNzKFtsYWJlbF0sIENMQVNTTkFNRVMuTEFCRUxUT1ApO1xuICAgICAgICAgICAgaWYgKGxhYmVsLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU05BTUVTLkxBQkVMQk9UVE9NKSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKFtsYWJlbF0sIENMQVNTTkFNRVMuTEFCRUxCT1RUT00pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGlzTm90Rm9jdXNlZCA9IGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQgIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgOiB0cnVlO1xuICAgICAgICAgICAgaWYgKGlzTm90Rm9jdXNlZCkge1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5MQUJFTFRPUCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW2xhYmVsXSwgQ0xBU1NOQU1FUy5MQUJFTFRPUCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZENsYXNzKFtsYWJlbF0sIENMQVNTTkFNRVMuTEFCRUxCT1RUT00pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudE5vZGUoZWxlbWVudCkge1xuICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGlzTnVsbE9yVW5kZWZpbmVkKGVsZW1lbnQucGFyZW50Tm9kZSkgPyBlbGVtZW50XG4gICAgICAgICAgICA6IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKHBhcmVudE5vZGUgJiYgcGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2UtaW5wdXQtaW4td3JhcCcpKSB7XG4gICAgICAgICAgICBwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUbyBjcmVhdGUgY2xlYXIgYnV0dG9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNsZWFyQnV0dG9uKGVsZW1lbnQsIGlucHV0T2JqZWN0LCBpbml0aWFsLCBpbnRlcm5hbENyZWF0ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG1ha2VFbGVtZW50ID0gIWlzTnVsbE9yVW5kZWZpbmVkKGludGVybmFsQ3JlYXRlRWxlbWVudCkgPyBpbnRlcm5hbENyZWF0ZUVsZW1lbnQgOiBjcmVhdGVFbGVtZW50O1xuICAgICAgICB2YXIgYnV0dG9uID0gbWFrZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogQ0xBU1NOQU1FUy5DTEVBUklDT04gfSk7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBpbnB1dE9iamVjdC5jb250YWluZXI7XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoaW5pdGlhbCkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGJhc2VFbGVtZW50ID0gaW5wdXRPYmplY3QuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhDTEFTU05BTUVTLkZMT0FUSU5QVVQpID9cbiAgICAgICAgICAgICAgICBpbnB1dE9iamVjdC5jb250YWluZXIucXVlcnlTZWxlY3RvcignLicgKyBDTEFTU05BTUVTLkZMT0FUVEVYVCkgOiBlbGVtZW50O1xuICAgICAgICAgICAgYmFzZUVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIGJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgYWRkQ2xhc3MoW2J1dHRvbl0sIENMQVNTTkFNRVMuQ0xFQVJJQ09OSElERSk7XG4gICAgICAgIHdpcmVDbGVhckJ0bkV2ZW50cyhlbGVtZW50LCBidXR0b24sIGNvbnRhaW5lcik7XG4gICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnY2xvc2UnKTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xpY2tIYW5kbGVyKGV2ZW50LCBlbGVtZW50LCBidXR0b24pIHtcbiAgICAgICAgaWYgKCEoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5ESVNBQkxFKSB8fCBlbGVtZW50LnJlYWRPbmx5KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9ICcnO1xuICAgICAgICAgICAgYWRkQ2xhc3MoW2J1dHRvbl0sIENMQVNTTkFNRVMuQ0xFQVJJQ09OSElERSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW5wdXRIYW5kbGVyKGVsZW1lbnQsIGJ1dHRvbikge1xuICAgICAgICB1cGRhdGVJY29uU3RhdGUoZWxlbWVudC52YWx1ZSwgYnV0dG9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZm9jdXNIYW5kbGVyKGVsZW1lbnQsIGJ1dHRvbikge1xuICAgICAgICB1cGRhdGVJY29uU3RhdGUoZWxlbWVudC52YWx1ZSwgYnV0dG9uLCBlbGVtZW50LnJlYWRPbmx5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmx1ckhhbmRsZXIoZWxlbWVudCwgYnV0dG9uKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChidXR0b24pKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoW2J1dHRvbl0sIENMQVNTTkFNRVMuQ0xFQVJJQ09OSElERSk7XG4gICAgICAgICAgICAgICAgYnV0dG9uID0gIWlzTnVsbE9yVW5kZWZpbmVkKGVsZW1lbnQpICYmIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWNvbWJvYm94JykgPyBudWxsIDogYnV0dG9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAyMDApO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgZnVuY3Rpb24gd2lyZUNsZWFyQnRuRXZlbnRzKGVsZW1lbnQsIGJ1dHRvbiwgY29udGFpbmVyKSB7XG4gICAgICAgIGlmIChpc0JpbmRDbGVhckFjdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGlzQmluZENsZWFyQWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgY2xpY2tIYW5kbGVyRXZlbnQgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gY2xpY2tIYW5kbGVyKGUsIGVsZW1lbnQsIGJ1dHRvbik7IH07XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGlja0hhbmRsZXJFdmVudCk7XG4gICAgICAgICAgICBlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJDbGlja0hhbmRsZXInXSA9IHsgY2xpY2tIYW5kbGVyRXZlbnQ6IGNsaWNrSGFuZGxlckV2ZW50IH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlucHV0SGFuZGxlckV2ZW50ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5wdXRIYW5kbGVyKGVsZW1lbnQsIGJ1dHRvbik7IH07XG4gICAgICAgIHZhciBmb2N1c0hhbmRsZXJFdmVudCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZvY3VzSGFuZGxlcihlbGVtZW50LCBidXR0b24pOyB9O1xuICAgICAgICB2YXIgYmx1ckhhbmRsZXJFdmVudCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJsdXJIYW5kbGVyKGVsZW1lbnQsIGJ1dHRvbik7IH07XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dEhhbmRsZXJFdmVudCk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmb2N1c0hhbmRsZXJFdmVudCk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGJsdXJIYW5kbGVyRXZlbnQpO1xuICAgICAgICAvLyBTdG9yZSB0aGUgYm91bmQgZnVuY3Rpb25zIHRvIHJlbW92ZSB0aGVtIGxhdGVyXG4gICAgICAgIGVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydjbGVhcklucHV0SGFuZGxlciddID0geyBpbnB1dEhhbmRsZXJFdmVudDogaW5wdXRIYW5kbGVyRXZlbnQgfTtcbiAgICAgICAgZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2NsZWFyRm9jdXNIYW5kbGVyJ10gPSB7IGZvY3VzSGFuZGxlckV2ZW50OiBmb2N1c0hhbmRsZXJFdmVudCB9O1xuICAgICAgICBlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJCbHVySGFuZGxlciddID0geyBibHVySGFuZGxlckV2ZW50OiBibHVySGFuZGxlckV2ZW50IH07XG4gICAgfVxuICAgIElucHV0LndpcmVDbGVhckJ0bkV2ZW50cyA9IHdpcmVDbGVhckJ0bkV2ZW50cztcbiAgICBmdW5jdGlvbiB1bldpcmVDbGVhckJ0bkV2ZW50cyhlbGVtZW50LCBidXR0b24pIHtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChlbGVtZW50KSAmJlxuICAgICAgICAgICAgIWlzTnVsbE9yVW5kZWZpbmVkKGVsZW1lbnQuX19ldmVudEhhbmRsZXJzKSkge1xuICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJDbGlja0hhbmRsZXInXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xpY2tIYW5kbGVyRXZlbnQgPSBlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJDbGlja0hhbmRsZXInXS5jbGlja0hhbmRsZXJFdmVudDtcbiAgICAgICAgICAgICAgICBpZiAoaXNCaW5kQ2xlYXJBY3Rpb24gPT09IHVuZGVmaW5lZCB8fCBpc0JpbmRDbGVhckFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGJ1dHRvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNsaWNrSGFuZGxlckV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2NsZWFyQ2xpY2tIYW5kbGVyJ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydjbGVhcklucHV0SGFuZGxlciddKVxuICAgICAgICAgICAgICAgICYmICFpc051bGxPclVuZGVmaW5lZChlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJGb2N1c0hhbmRsZXInXSlcbiAgICAgICAgICAgICAgICAmJiAhaXNOdWxsT3JVbmRlZmluZWQoZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2NsZWFyQmx1ckhhbmRsZXInXSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXRIYW5kbGVyRXZlbnQgPSBlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJJbnB1dEhhbmRsZXInXS5pbnB1dEhhbmRsZXJFdmVudDtcbiAgICAgICAgICAgICAgICB2YXIgZm9jdXNIYW5kbGVyRXZlbnQgPSBlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJGb2N1c0hhbmRsZXInXS5mb2N1c0hhbmRsZXJFdmVudDtcbiAgICAgICAgICAgICAgICB2YXIgYmx1ckhhbmRsZXJFdmVudCA9IGVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydjbGVhckJsdXJIYW5kbGVyJ10uYmx1ckhhbmRsZXJFdmVudDtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRIYW5kbGVyRXZlbnQpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmb2N1c0hhbmRsZXJFdmVudCk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXJFdmVudCk7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgc3RvcmVkIEV2ZW50IGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBlbGVtZW50Ll9fZXZlbnRIYW5kbGVyc1snY2xlYXJJbnB1dEhhbmRsZXInXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudC5fX2V2ZW50SGFuZGxlcnNbJ2NsZWFyRm9jdXNIYW5kbGVyJ107XG4gICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQuX19ldmVudEhhbmRsZXJzWydjbGVhckJsdXJIYW5kbGVyJ107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzdHJveShhcmdzLCBidXR0b24pIHtcbiAgICAgICAgaWYgKGJ1dHRvbiA9PT0gdm9pZCAwKSB7IGJ1dHRvbiA9IG51bGw7IH1cbiAgICAgICAgdW5iaW5kSW5pdGlhbEV2ZW50KGFyZ3MpO1xuICAgICAgICBpZiAoYXJncy5mbG9hdExhYmVsVHlwZSA9PT0gJ0F1dG8nKSB7XG4gICAgICAgICAgICB1bldpcmVGbG9hdExhYmVsRXZlbnRzKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzLnByb3BlcnRpZXMuc2hvd0NsZWFyQnV0dG9uKSB7XG4gICAgICAgICAgICB1bldpcmVDbGVhckJ0bkV2ZW50cyhhcmdzLmVsZW1lbnQsIGJ1dHRvbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChhcmdzLmJ1dHRvbnMpKSB7XG4gICAgICAgICAgICBfaW50ZXJuYWxSaXBwbGUoZmFsc2UsIG51bGwsIGFyZ3MuYnV0dG9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdW53aXJlRmxvYXRpbmdFdmVudHMoYXJncy5lbGVtZW50KTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChhcmdzLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICBkZWxldGUgYXJncy5lbGVtZW50Ll9fZXZlbnRIYW5kbGVycztcbiAgICAgICAgICAgIGlmIChhcmdzLmVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTTkFNRVMuSU5QVVQpKSB7XG4gICAgICAgICAgICAgICAgYXJncy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NOQU1FUy5JTlBVVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJpdmF0ZUlucHV0T2JqID0gbnVsbDtcbiAgICB9XG4gICAgSW5wdXQuZGVzdHJveSA9IGRlc3Ryb3k7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVMYWJlbChlbGVtZW50LCBmbG9hdExhYmVsVHlwZSkge1xuICAgICAgICB2YXIgcGFyZW50ID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5GTE9BVElOUFVUKSAmJiBmbG9hdExhYmVsVHlwZSA9PT0gJ0F1dG8nKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2UtZmxvYXQtdGV4dCcpWzBdO1xuICAgICAgICAgICAgdXBkYXRlTGFiZWxTdGF0ZShlbGVtZW50LnZhbHVlLCBsYWJlbCwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVG8gY3JlYXRlIGlucHV0IGJveCBjb250aWFuZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5wdXRDb250YWluZXIoYXJncywgY2xhc3NOYW1lLCB0YWdDbGFzcywgdGFnLCBpbnRlcm5hbENyZWF0ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIG1ha2VFbGVtZW50ID0gIWlzTnVsbE9yVW5kZWZpbmVkKGludGVybmFsQ3JlYXRlRWxlbWVudCkgPyBpbnRlcm5hbENyZWF0ZUVsZW1lbnQgOiBjcmVhdGVFbGVtZW50O1xuICAgICAgICB2YXIgY29udGFpbmVyO1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGFyZ3MuY3VzdG9tVGFnKSkge1xuICAgICAgICAgICAgY29udGFpbmVyID0gbWFrZUVsZW1lbnQoYXJncy5jdXN0b21UYWcsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCh0YWdDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBtYWtlRWxlbWVudCh0YWcsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2UtY29udHJvbC13cmFwcGVyJyk7XG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuY29kZVBsYWNlSG9sZGVyKHBsYWNlaG9sZGVyKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChwbGFjZWhvbGRlcikgJiYgcGxhY2Vob2xkZXIgIT09ICcnKSB7XG4gICAgICAgICAgICB2YXIgc3BhbkVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIHNwYW5FbGUuaW5uZXJIVE1MID0gJzxpbnB1dCAgcGxhY2Vob2xkZXI9XCInICsgcGxhY2Vob2xkZXIgKyAnXCIvPic7XG4gICAgICAgICAgICB2YXIgaGlkZGVuSW5wdXQgPSAoc3BhbkVsZS5jaGlsZHJlblswXSk7XG4gICAgICAgICAgICByZXN1bHQgPSBoaWRkZW5JbnB1dC5wbGFjZWhvbGRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSB0byB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5zZXRWYWx1ZSgnY29udGVudCcsIGVsZW1lbnQsIFwiQXV0b1wiLCB0cnVlICk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBTcGVjaWZ5IHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgb24gd2hpY2ggdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyB1cGRhdGVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmbG9hdExhYmVsVHlwZSAtIFNwZWNpZnkgdGhlIGZsb2F0IGxhYmVsIHR5cGUgb2YgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhckJ1dHRvbiAtIEJvb2xlYW4gdmFsdWUgdG8gc3BlY2lmeSB3aGV0aGVyIHRoZSBjbGVhciBpY29uIGlzIGVuYWJsZWQgLyBkaXNhYmxlZCBvbiB0aGUgaW5wdXQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUsIGVsZW1lbnQsIGZsb2F0TGFiZWxUeXBlLCBjbGVhckJ1dHRvbikge1xuICAgICAgICBlbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChmbG9hdExhYmVsVHlwZSAhPT0gJ05ldmVyJykge1xuICAgICAgICAgICAgY2FsY3VsYXRlV2lkdGgoZWxlbWVudCwgZWxlbWVudC5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCFpc051bGxPclVuZGVmaW5lZChmbG9hdExhYmVsVHlwZSkpICYmIGZsb2F0TGFiZWxUeXBlID09PSAnQXV0bycpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlTGFiZWwoZWxlbWVudCwgZmxvYXRMYWJlbFR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoY2xlYXJCdXR0b24pICYmIGNsZWFyQnV0dG9uKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHBhcmVudEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IHBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShDTEFTU05BTUVTLkNMRUFSSUNPTilbMF07XG4gICAgICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChidXR0b24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnZhbHVlICYmICFpc051bGxPclVuZGVmaW5lZChwYXJlbnRFbGVtZW50KSAmJiBwYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZS1pbnB1dC1mb2N1cycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhbYnV0dG9uXSwgQ0xBU1NOQU1FUy5DTEVBUklDT05ISURFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKFtidXR0b25dLCBDTEFTU05BTUVTLkNMRUFSSUNPTkhJREUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNoZWNrSW5wdXRWYWx1ZShmbG9hdExhYmVsVHlwZSwgZWxlbWVudCk7XG4gICAgfVxuICAgIElucHV0LnNldFZhbHVlID0gc2V0VmFsdWU7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc2luZ2xlIG9yIG11bHRpcGxlIGNzc0NsYXNzIHRvIHdyYXBwZXIgb2YgaW5wdXQgZWxlbWVudC5cbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5zZXRDc3NDbGFzcygnZS1jdXN0b20tY2xhc3MnLCBbZWxlbWVudF0pO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNzc0NsYXNzIC0gQ3NzIGNsYXNzIG5hbWVzIHdoaWNoIGFyZSBuZWVkZWQgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudFtdIHwgTm9kZUxpc3R9IGVsZW1lbnRzIC0gVGhlIGVsZW1lbnRzIHdoaWNoIGFyZSBuZWVkZWQgdG8gYWRkIC8gcmVtb3ZlIGNsYXNzZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG9sZENsYXNzXG4gICAgICogLSBDc3MgY2xhc3MgbmFtZXMgd2hpY2ggYXJlIG5lZWRlZCB0byByZW1vdmUuIElmIG9sZCBjbGFzc2VzIGFyZSBuZWVkIHRvIHJlbW92ZSwgY2FuIGdpdmUgdGhpcyBvcHRpb25hbCBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Q3NzQ2xhc3MoY3NzQ2xhc3MsIGVsZW1lbnRzLCBvbGRDbGFzcykge1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKG9sZENsYXNzKSAmJiBvbGRDbGFzcyAhPT0gJycpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnRzLCBvbGRDbGFzcy5zcGxpdCgnICcpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGNzc0NsYXNzKSAmJiBjc3NDbGFzcyAhPT0gJycpIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnRzLCBjc3NDbGFzcy5zcGxpdCgnICcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJbnB1dC5zZXRDc3NDbGFzcyA9IHNldENzc0NsYXNzO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd2lkdGggdG8gdGhlIHBsYWNlaG9sZGVyIHdoZW4gaXQgb3ZlcmZsb3dzIG9uIHRoZSBidXR0b24gc3VjaCBhcyBzcGluYnV0dG9uLCBjbGVhcmJ1dHRvbiwgaWNvbiBldGNcbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5jYWxjdWxhdGVXaWR0aChlbGVtZW50LCBjb250YWluZXIpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHthbnl9IGVsZW1lbnQgLSBJbnB1dCBlbGVtZW50IHdoaWNoIGlzIG5lZWQgdG8gYWRkLlxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGNvbnRhaW5lciAtIFRoZSBwYXJlbnQgZWxlbWVudCB3aGljaCBpcyBuZWVkIHRvIGdldCB0aGUgbGFiZWwgc3BhbiB0byBjYWxjdWxhdGUgd2lkdGhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVXaWR0aChlbGVtZW50LCBjb250YWluZXIsIG1vZHVsZU5hbWUpIHtcbiAgICAgICAgaWYgKG1vZHVsZU5hbWUgIT09ICdtdWx0aXNlbGVjdCcgJiYgIV9pc0VsZW1lbnRWaXNpYmxlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRXaWR0aCA9IG1vZHVsZU5hbWUgPT09ICdtdWx0aXNlbGVjdCcgPyBlbGVtZW50IDogZWxlbWVudC5jbGllbnRXaWR0aCAtIHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy1sZWZ0JyksIDEwKTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChjb250YWluZXIpICYmICFpc051bGxPclVuZGVmaW5lZChjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0LWNvbnRlbnQnKVswXSkpIHtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0LWNvbnRlbnQnKVswXS5jbGFzc0xpc3QuY29udGFpbnMoJ2UtZmxvYXQtdGV4dC1vdmVyZmxvdycpKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2UtZmxvYXQtdGV4dC1jb250ZW50JylbMF0uY2xhc3NMaXN0LnJlbW92ZSgnZS1mbG9hdC10ZXh0LW92ZXJmbG93Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbWVudFdpZHRoIDwgY29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2UtZmxvYXQtdGV4dC1jb250ZW50JylbMF0uY2xpZW50V2lkdGggfHwgZWxlbWVudFdpZHRoID09PSBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0LWNvbnRlbnQnKVswXS5jbGllbnRXaWR0aCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlLWZsb2F0LXRleHQtY29udGVudCcpWzBdLmNsYXNzTGlzdC5hZGQoJ2UtZmxvYXQtdGV4dC1vdmVyZmxvdycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIElucHV0LmNhbGN1bGF0ZVdpZHRoID0gY2FsY3VsYXRlV2lkdGg7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB3aWR0aCB0byB0aGUgd3JhcHBlciBvZiBpbnB1dCBlbGVtZW50LlxuICAgICAqIGBgYFxuICAgICAqIEUuZyA6IElucHV0LnNldFdpZHRoKCcyMDBweCcsIGNvbnRhaW5lcik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gd2lkdGggLSBXaWR0aCB2YWx1ZSB3aGljaCBpcyBuZWVkIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBUaGUgZWxlbWVudCBvbiB3aGljaCB0aGUgd2lkdGggaXMgbmVlZCB0byBhZGQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2lkdGgod2lkdGgsIGNvbnRhaW5lcikge1xuICAgICAgICBpZiAodHlwZW9mIHdpZHRoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gZm9ybWF0VW5pdCh3aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpZHRoID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gKHdpZHRoLm1hdGNoKC9weHwlfGVtLykpID8gKHdpZHRoKSA6IChmb3JtYXRVbml0KHdpZHRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsY3VsYXRlV2lkdGgoY29udGFpbmVyLmZpcnN0Q2hpbGQsIGNvbnRhaW5lcik7XG4gICAgfVxuICAgIElucHV0LnNldFdpZHRoID0gc2V0V2lkdGg7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgdG8gdGhlIGlucHV0IGVsZW1lbnQuXG4gICAgICogYGBgXG4gICAgICogRS5nIDogSW5wdXQuc2V0UGxhY2Vob2xkZXIoJ1NlYXJjaCBoZXJlJywgZWxlbWVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGxhY2Vob2xkZXIgLSBQbGFjZWhvbGRlciB2YWx1ZSB3aGljaCBpcyBuZWVkIHRvIGFkZC5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgb24gd2hpY2ggdGhlIHBsYWNlaG9sZGVyIGlzIG5lZWQgdG8gYWRkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyLCBlbGVtZW50KSB7XG4gICAgICAgIHBsYWNlaG9sZGVyID0gZW5jb2RlUGxhY2VIb2xkZXIocGxhY2Vob2xkZXIpO1xuICAgICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7XG4gICAgICAgIGlmIChwYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU05BTUVTLkZMT0FUSU5QVVQpKSB7XG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKHBsYWNlaG9sZGVyKSAmJiBwbGFjZWhvbGRlciAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRUZXh0Q29udGVudCA9IHBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0LWNvbnRlbnQnKVswXTtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRUZXh0Q29udGVudCAmJiBmbG9hdFRleHRDb250ZW50LmNoaWxkcmVuWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsb2F0VGV4dENvbnRlbnQuY2hpbGRyZW5bMF0udGV4dENvbnRlbnQgPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShDTEFTU05BTUVTLkZMT0FUVEVYVClbMF0udGV4dENvbnRlbnQgPSBwbGFjZWhvbGRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTTkFNRVMuTk9GTE9BVExBQkVMKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgncGxhY2Vob2xkZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU05BTUVTLk5PRkxPQVRMQUJFTCk7XG4gICAgICAgICAgICAgICAgdmFyIGZsb2F0VGV4dENvbnRlbnQgPSBwYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2UtZmxvYXQtdGV4dC1jb250ZW50JylbMF07XG4gICAgICAgICAgICAgICAgaWYgKGZsb2F0VGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxvYXRUZXh0Q29udGVudC5jaGlsZHJlblswXS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKENMQVNTTkFNRVMuRkxPQVRURVhUKVswXS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQocGxhY2Vob2xkZXIpICYmIHBsYWNlaG9sZGVyICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMoZWxlbWVudCwgeyAncGxhY2Vob2xkZXInOiBwbGFjZWhvbGRlciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdwbGFjZWhvbGRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIElucHV0LnNldFBsYWNlaG9sZGVyID0gc2V0UGxhY2Vob2xkZXI7XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSByZWFkIG9ubHkgYXR0cmlidXRlIHRvIHRoZSBpbnB1dCBlbGVtZW50XG4gICAgICogYGBgXG4gICAgICogRS5nIDogSW5wdXQuc2V0UmVhZG9ubHkodHJ1ZSwgZWxlbWVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUmVhZG9ubHlcbiAgICAgKiAtIEJvb2xlYW4gdmFsdWUgdG8gc3BlY2lmeSB3aGV0aGVyIHRvIHNldCByZWFkIG9ubHkuIFNldHRpbmcgXCJUcnVlXCIgdmFsdWUgZW5hYmxlcyByZWFkIG9ubHkuXG4gICAgICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudH0gZWxlbWVudFxuICAgICAqIC0gVGhlIGVsZW1lbnQgd2hpY2ggaXMgbmVlZCB0byBlbmFibGUgcmVhZCBvbmx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFJlYWRvbmx5KGlzUmVhZG9ubHksIGVsZW1lbnQsIGZsb2F0TGFiZWxUeXBlKSB7XG4gICAgICAgIGlmIChpc1JlYWRvbmx5KSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzKGVsZW1lbnQsIHsgcmVhZG9ubHk6ICcnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3JlYWRvbmx5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChmbG9hdExhYmVsVHlwZSkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlTGFiZWwoZWxlbWVudCwgZmxvYXRMYWJlbFR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIElucHV0LnNldFJlYWRvbmx5ID0gc2V0UmVhZG9ubHk7XG4gICAgLyoqXG4gICAgICogRGlzcGxheXMgdGhlIGVsZW1lbnQgZGlyZWN0aW9uIGZyb20gcmlnaHQgdG8gbGVmdCB3aGVuIGl0cyBlbmFibGVkLlxuICAgICAqIGBgYFxuICAgICAqIEUuZyA6IElucHV0LnNldEVuYWJsZVJ0bCh0cnVlLCBbaW5wdXRPYmouY29udGFpbmVyXSk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzUnRsXG4gICAgICogLSBCb29sZWFuIHZhbHVlIHRvIHNwZWNpZnkgd2hldGhlciB0byBzZXQgUlRMLiBTZXR0aW5nIFwiVHJ1ZVwiIHZhbHVlIGVuYWJsZXMgdGhlIFJUTCBtb2RlLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudFtdIHwgTm9kZUxpc3R9IGVsZW1lbnRzXG4gICAgICogLSBUaGUgZWxlbWVudHMgdGhhdCBhcmUgbmVlZGVkIHRvIGVuYWJsZS9kaXNhYmxlIFJUTC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRFbmFibGVSdGwoaXNSdGwsIGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChpc1J0bCkge1xuICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudHMsIENMQVNTTkFNRVMuUlRMKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnRzLCBDTEFTU05BTUVTLlJUTCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSW5wdXQuc2V0RW5hYmxlUnRsID0gc2V0RW5hYmxlUnRsO1xuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIGdpdmVuIGlucHV0IGVsZW1lbnQuXG4gICAgICogYGBgXG4gICAgICogRS5nIDogSW5wdXQuc2V0RW5hYmxlZChmYWxzZSwgZWxlbWVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzRW5hYmxlXG4gICAgICogLSBCb29sZWFuIHZhbHVlIHRvIHNwZWNpZnkgd2hldGhlciB0byBlbmFibGUgb3IgZGlzYWJsZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50fSBlbGVtZW50XG4gICAgICogLSBFbGVtZW50IHRvIGJlIGVuYWJsZWQgb3IgZGlzYWJsZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0RW5hYmxlZChpc0VuYWJsZSwgZWxlbWVudCwgZmxvYXRMYWJlbFR5cGUsIGlucHV0Q29udGFpbmVyKSB7XG4gICAgICAgIHZhciBkaXNhYmxlZEF0dHJzID0geyAnZGlzYWJsZWQnOiAnJywgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZScgfTtcbiAgICAgICAgdmFyIGNvbnNpZGVyV3JhcHBlciA9IGlzTnVsbE9yVW5kZWZpbmVkKGlucHV0Q29udGFpbmVyKSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgaWYgKGlzRW5hYmxlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NOQU1FUy5ESVNBQkxFKTtcbiAgICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZXMoZGlzYWJsZWRBdHRycywgZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoY29uc2lkZXJXcmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoW2lucHV0Q29udGFpbmVyXSwgQ0xBU1NOQU1FUy5ESVNBQkxFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU05BTUVTLkRJU0FCTEUpO1xuICAgICAgICAgICAgYWRkQXR0cmlidXRlcyhkaXNhYmxlZEF0dHJzLCBlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChjb25zaWRlcldyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhbaW5wdXRDb250YWluZXJdLCBDTEFTU05BTUVTLkRJU0FCTEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoZmxvYXRMYWJlbFR5cGUpKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUxhYmVsKGVsZW1lbnQsIGZsb2F0TGFiZWxUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJbnB1dC5zZXRFbmFibGVkID0gc2V0RW5hYmxlZDtcbiAgICBmdW5jdGlvbiBzZXRDbGVhckJ1dHRvbihpc0NsZWFyLCBlbGVtZW50LCBpbnB1dE9iamVjdCwgaW5pdGlhbCwgaW50ZXJuYWxDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHZhciBtYWtlRWxlbWVudCA9ICFpc051bGxPclVuZGVmaW5lZChpbnRlcm5hbENyZWF0ZUVsZW1lbnQpID8gaW50ZXJuYWxDcmVhdGVFbGVtZW50IDogY3JlYXRlRWxlbWVudDtcbiAgICAgICAgaWYgKGlzQ2xlYXIpIHtcbiAgICAgICAgICAgIGlucHV0T2JqZWN0LmNsZWFyQnV0dG9uID0gY3JlYXRlQ2xlYXJCdXR0b24oZWxlbWVudCwgaW5wdXRPYmplY3QsIGluaXRpYWwsIG1ha2VFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZShpbnB1dE9iamVjdC5jbGVhckJ1dHRvbik7XG4gICAgICAgICAgICBpbnB1dE9iamVjdC5jbGVhckJ1dHRvbiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSW5wdXQuc2V0Q2xlYXJCdXR0b24gPSBzZXRDbGVhckJ1dHRvbjtcbiAgICAvKipcbiAgICAgKiBSZW1vdmluZyB0aGUgbXVsdGlwbGUgYXR0cmlidXRlcyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50IHN1Y2ggYXMgXCJkaXNhYmxlZFwiLFwiaWRcIiAsIGV0Yy5cbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5yZW1vdmVBdHRyaWJ1dGVzKHsgJ2Rpc2FibGVkJzogJ2Rpc2FibGVkJywgJ2FyaWEtZGlzYWJsZWQnOiAndHJ1ZScgfSwgZWxlbWVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYXR0cnNcbiAgICAgKiAtIEFycmF5IG9mIGF0dHJpYnV0ZXMgd2hpY2ggYXJlIG5lZWQgdG8gcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudCB8IEhUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICogLSBFbGVtZW50IG9uIHdoaWNoIHRoZSBhdHRyaWJ1dGVzIGFyZSBuZWVkZWQgdG8gYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGVzKGF0dHJzLCBlbGVtZW50KSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhhdHRycyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSBnZXRQYXJlbnROb2RlKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU05BTUVTLkRJU0FCTEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2Rpc2FibGVkJyAmJiBwYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU05BTUVTLklOUFVUR1JPVVApKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKENMQVNTTkFNRVMuRElTQUJMRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5ID09PSAncGxhY2Vob2xkZXInICYmIHBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTTkFNRVMuRkxPQVRJTlBVVCkpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoQ0xBU1NOQU1FUy5GTE9BVFRFWFQpWzBdLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIElucHV0LnJlbW92ZUF0dHJpYnV0ZXMgPSByZW1vdmVBdHRyaWJ1dGVzO1xuICAgIC8qKlxuICAgICAqIEFkZGluZyB0aGUgbXVsdGlwbGUgYXR0cmlidXRlcyB0byB0aGUgZ2l2ZW4gZWxlbWVudCBzdWNoIGFzIFwiZGlzYWJsZWRcIixcImlkXCIgLCBldGMuXG4gICAgICogYGBgXG4gICAgICogRS5nIDogSW5wdXQuYWRkQXR0cmlidXRlcyh7ICdpZCc6ICdpbnB1dHBvcHVwJyB9LCBlbGVtZW50KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyc1xuICAgICAqIC0gQXJyYXkgb2YgYXR0cmlidXRlcyB3aGljaCBpcyBhZGRlZCB0byBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudCB8IEhUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICogLSBFbGVtZW50IG9uIHdoaWNoIHRoZSBhdHRyaWJ1dGVzIGFyZSBuZWVkZWQgdG8gYmUgYWRkZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkQXR0cmlidXRlcyhhdHRycywgZWxlbWVudCkge1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMoYXR0cnMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hW19pXTtcbiAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZ2V0UGFyZW50Tm9kZShlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoQ0xBU1NOQU1FUy5ESVNBQkxFKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdkaXNhYmxlZCcgJiYgcGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5JTlBVVEdST1VQKSkge1xuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChDTEFTU05BTUVTLkRJU0FCTEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3BsYWNlaG9sZGVyJyAmJiBwYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU05BTUVTLkZMT0FUSU5QVVQpKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKENMQVNTTkFNRVMuRkxPQVRURVhUKVswXS50ZXh0Q29udGVudCA9IGF0dHJzW1wiXCIgKyBrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1tcIlwiICsga2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgSW5wdXQuYWRkQXR0cmlidXRlcyA9IGFkZEF0dHJpYnV0ZXM7XG4gICAgZnVuY3Rpb24gcmVtb3ZlRmxvYXRpbmcoaW5wdXQpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGlucHV0LmNvbnRhaW5lcjtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChjb250YWluZXIpICYmIGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NOQU1FUy5GTE9BVElOUFVUKSkge1xuICAgICAgICAgICAgdmFyIGlucHV0RWxlID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykgPyBjb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKSA6XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLicgKyBDTEFTU05BTUVTLkZMT0FUVEVYVCkudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICB2YXIgY2xlYXJCdXR0b24gPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmUtY2xlYXItaWNvbicpICE9PSBudWxsO1xuICAgICAgICAgICAgZGV0YWNoKGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuJyArIENMQVNTTkFNRVMuRkxPQVRMSU5FKSk7XG4gICAgICAgICAgICBkZXRhY2goY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQ0xBU1NOQU1FUy5GTE9BVFRFWFQpKTtcbiAgICAgICAgICAgIGNsYXNzTGlzdChjb250YWluZXIsIFtDTEFTU05BTUVTLklOUFVUR1JPVVBdLCBbQ0xBU1NOQU1FUy5GTE9BVElOUFVUXSk7XG4gICAgICAgICAgICB1bndpcmVGbG9hdGluZ0V2ZW50cyhpbnB1dEVsZSk7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzKGlucHV0RWxlLCB7ICdwbGFjZWhvbGRlcic6IHBsYWNlaG9sZGVyIH0pO1xuICAgICAgICAgICAgaW5wdXRFbGUuY2xhc3NMaXN0LmFkZChDTEFTU05BTUVTLklOUFVUKTtcbiAgICAgICAgICAgIGlmICghY2xlYXJCdXR0b24gJiYgaW5wdXRFbGUudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgICAgIGlucHV0RWxlLnJlbW92ZUF0dHJpYnV0ZSgncmVxdWlyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBJbnB1dC5yZW1vdmVGbG9hdGluZyA9IHJlbW92ZUZsb2F0aW5nO1xuICAgIGZ1bmN0aW9uIGFkZEZsb2F0aW5nKGlucHV0LCB0eXBlLCBwbGFjZWhvbGRlciwgaW50ZXJuYWxDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHZhciBtYWtlRWxlbWVudCA9ICFpc051bGxPclVuZGVmaW5lZChpbnRlcm5hbENyZWF0ZUVsZW1lbnQpID8gaW50ZXJuYWxDcmVhdGVFbGVtZW50IDogY3JlYXRlRWxlbWVudDtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNsb3Nlc3QoaW5wdXQsICcuJyArIENMQVNTTkFNRVMuSU5QVVRHUk9VUCk7XG4gICAgICAgIGZsb2F0VHlwZSA9IHR5cGU7XG4gICAgICAgIHZhciBjdXN0b21UYWcgPSBjb250YWluZXIudGFnTmFtZTtcbiAgICAgICAgY3VzdG9tVGFnID0gY3VzdG9tVGFnICE9PSAnRElWJyAmJiBjdXN0b21UYWcgIT09ICdTUEFOJyA/IGN1c3RvbVRhZyA6IG51bGw7XG4gICAgICAgIHZhciBhcmdzID0geyBlbGVtZW50OiBpbnB1dCwgZmxvYXRMYWJlbFR5cGU6IHR5cGUsXG4gICAgICAgICAgICBjdXN0b21UYWc6IGN1c3RvbVRhZywgcHJvcGVydGllczogeyBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIgfSB9O1xuICAgICAgICBpZiAodHlwZSAhPT0gJ05ldmVyJykge1xuICAgICAgICAgICAgdmFyIGljb25FbGUgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmUtY2xlYXItaWNvbicpO1xuICAgICAgICAgICAgdmFyIGlucHV0T2JqID0geyBjb250YWluZXI6IGNvbnRhaW5lciB9O1xuICAgICAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU05BTUVTLklOUFVUKTtcbiAgICAgICAgICAgIGNyZWF0ZUZsb2F0aW5nSW5wdXQoYXJncywgaW5wdXRPYmosIG1ha2VFbGVtZW50KTtcbiAgICAgICAgICAgIGNyZWF0ZVNwYW5FbGVtZW50KGlucHV0T2JqLmNvbnRhaW5lciwgbWFrZUVsZW1lbnQpO1xuICAgICAgICAgICAgY2FsY3VsYXRlV2lkdGgoYXJncy5lbGVtZW50LCBpbnB1dE9iai5jb250YWluZXIpO1xuICAgICAgICAgICAgdmFyIGlzUHJlcGVuZEljb24gPSBjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWZsb2F0LWljb24tbGVmdCcpO1xuICAgICAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGljb25FbGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJlcGVuZEljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0V3JhcCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZS1pbnB1dC1pbi13cmFwJyk7XG4gICAgICAgICAgICAgICAgICAgIGljb25FbGUgPSBpbnB1dFdyYXAucXVlcnlTZWxlY3RvcignLmUtaW5wdXQtZ3JvdXAtaWNvbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbkVsZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZS1pbnB1dC1ncm91cC1pY29uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGljb25FbGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUHJlcGVuZEljb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbkVsZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZS1pbnB1dC1ncm91cC1pY29uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGZsb2F0TGluZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuJyArIENMQVNTTkFNRVMuRkxPQVRMSU5FKTtcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRUZXh0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQ0xBU1NOQU1FUy5GTE9BVFRFWFQpO1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVyID0gaXNQcmVwZW5kSWNvbiA/IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZS1pbnB1dC1pbi13cmFwJykgOiBjb250YWluZXI7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5pbnNlcnRCZWZvcmUoaW5wdXQsIGljb25FbGUpO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuaW5zZXJ0QmVmb3JlKGZsb2F0TGluZSwgaWNvbkVsZSk7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5pbnNlcnRCZWZvcmUoZmxvYXRUZXh0LCBpY29uRWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHVuV2lyZUZsb2F0TGFiZWxFdmVudHMoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tGbG9hdExhYmVsVHlwZSh0eXBlLCBpbnB1dC5wYXJlbnRFbGVtZW50KTtcbiAgICB9XG4gICAgSW5wdXQuYWRkRmxvYXRpbmcgPSBhZGRGbG9hdGluZztcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgdGhlIHNwYW4gaW5zaWRlIHRoZSBsYWJlbCBhbmQgYWRkIHRoZSBsYWJlbCB0ZXh0IGludG8gdGhlIHNwYW4gdGV4dGNvbnRlbnRcbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5jcmVhdGVTcGFuRWxlbWVudChpbnB1dE9iamVjdCwgbWFrZUVsZW1lbnQpO1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBpbnB1dE9iamVjdFxuICAgICAqIC0gRWxlbWVudCB3aGljaCBpcyBuZWVkIHRvIGdldCB0aGUgbGFiZWxcbiAgICAgKiBAcGFyYW0ge2NyZWF0ZUVsZW1lbnRQYXJhbXN9IG1ha2VFbGVtZW50XG4gICAgICogLSBFbGVtZW50IHdoaWNoIGlzIG5lZWQgdG8gY3JlYXRlIHRoZSBzcGFuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlU3BhbkVsZW1lbnQoaW5wdXRPYmplY3QsIG1ha2VFbGVtZW50KSB7XG4gICAgICAgIGlmIChpbnB1dE9iamVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ2Utb3V0bGluZScpICYmIGlucHV0T2JqZWN0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2UtZmxvYXQtdGV4dCcpWzBdKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWxTcGFuRWxlbWVudCA9IG1ha2VFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IENMQVNTTkFNRVMuRkxPQVRURVhUQ09OVEVOVCB9KTtcbiAgICAgICAgICAgIGxhYmVsU3BhbkVsZW1lbnQuaW5uZXJIVE1MID0gaW5wdXRPYmplY3QuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0JylbMF0uaW5uZXJIVE1MO1xuICAgICAgICAgICAgaW5wdXRPYmplY3QuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0JylbMF0uaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBpbnB1dE9iamVjdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlLWZsb2F0LXRleHQnKVswXS5hcHBlbmRDaGlsZChsYWJlbFNwYW5FbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJbnB1dC5jcmVhdGVTcGFuRWxlbWVudCA9IGNyZWF0ZVNwYW5FbGVtZW50O1xuICAgIC8qKlxuICAgICAqIEVuYWJsZSBvciBEaXNhYmxlIHRoZSByaXBwbGUgZWZmZWN0IG9uIHRoZSBpY29ucyBpbnNpZGUgdGhlIElucHV0LiBSaXBwbGUgZWZmZWN0IGlzIG9ubHkgYXBwbGljYWJsZSBmb3IgbWF0ZXJpYWwgdGhlbWUuXG4gICAgICogYGBgXG4gICAgICogRS5nIDogSW5wdXQuc2V0UmlwcGxlKHRydWUsIFtpbnB1dE9iamVjdHNdKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNSaXBwbGVcbiAgICAgKiAtIEJvb2xlYW4gdmFsdWUgdG8gc3BlY2lmeSB3aGV0aGVyIHRvIGVuYWJsZSB0aGUgcmlwcGxlIGVmZmVjdC5cbiAgICAgKiBAcGFyYW0ge0lucHV0T2JqZWN0W119IGlucHV0T2JqXG4gICAgICogLSBTcGVjaWZ5IHRoZSBjb2xsZWN0aW9uIG9mIGlucHV0IG9iamVjdHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0UmlwcGxlKGlzUmlwcGxlLCBpbnB1dE9iaikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0T2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBfaW50ZXJuYWxSaXBwbGUoaXNSaXBwbGUsIGlucHV0T2JqW3BhcnNlSW50KGkudG9TdHJpbmcoKSwgMTApXS5jb250YWluZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIElucHV0LnNldFJpcHBsZSA9IHNldFJpcHBsZTtcbiAgICBmdW5jdGlvbiBfaW50ZXJuYWxSaXBwbGUoaXNSaXBwbGUsIGNvbnRhaW5lciwgYnV0dG9uKSB7XG4gICAgICAgIHZhciBhcmdzQnV0dG9uID0gW107XG4gICAgICAgIGFyZ3NCdXR0b24ucHVzaChidXR0b24pO1xuICAgICAgICB2YXIgYnV0dG9ucyA9IGlzTnVsbE9yVW5kZWZpbmVkKGJ1dHRvbikgP1xuICAgICAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lLWlucHV0LWdyb3VwLWljb24nKSA6IGFyZ3NCdXR0b247XG4gICAgICAgIGlmIChpc1JpcHBsZSAmJiBidXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBidXR0b25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNbcGFyc2VJbnQoaW5kZXgudG9TdHJpbmcoKSwgMTApXS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBfb25Nb3VzZURvd25SaXBwbGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBidXR0b25zW3BhcnNlSW50KGluZGV4LnRvU3RyaW5nKCksIDEwKV0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIF9vbk1vdXNlVXBSaXBwbGUsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChidXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBidXR0b25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNbcGFyc2VJbnQoaW5kZXgudG9TdHJpbmcoKSwgMTApXS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBfb25Nb3VzZURvd25SaXBwbGUsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGJ1dHRvbnNbcGFyc2VJbnQoaW5kZXgudG9TdHJpbmcoKSwgMTApXS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgX29uTW91c2VVcFJpcHBsZSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX29uTW91c2VSaXBwbGUoY29udGFpbmVyLCBidXR0b24pIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWRpc2FibGVkJykgJiYgIWNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnZS1pbnB1dC1idG4tcmlwcGxlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX2lzRWxlbWVudFZpc2libGUoZWxlbWVudCkge1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZWxlbWVudCBvciBhbnkgb2YgaXRzIHBhcmVudHMgYXJlIGhpZGRlbiB1c2luZyBkaXNwbGF5OiBub25lXG4gICAgICAgIHZhciBjdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHdoaWxlIChjdXJyZW50RWxlbWVudCAmJiBjdXJyZW50RWxlbWVudCAhPT0gZG9jdW1lbnQuYm9keSkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY3VycmVudEVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBub25lIG9mIHRoZSBlbGVtZW50cyBoYXZlIGRpc3BsYXk6IG5vbmUsIHRoZSBlbGVtZW50IGlzIGNvbnNpZGVyZWQgdmlzaWJsZVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gX29uTW91c2VEb3duUmlwcGxlKCkge1xuICAgICAgICB2YXIgZWxlID0gbnVsbCB8fCB0aGlzO1xuICAgICAgICB2YXIgcGFyZW50RWxlID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgICAgICB3aGlsZSAoIXBhcmVudEVsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2UtaW5wdXQtZ3JvdXAnKSkge1xuICAgICAgICAgICAgcGFyZW50RWxlID0gcGFyZW50RWxlLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgX29uTW91c2VSaXBwbGUocGFyZW50RWxlLCBlbGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfb25Nb3VzZVVwUmlwcGxlKCkge1xuICAgICAgICB2YXIgZWxlID0gbnVsbCB8fCB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVsZS5jbGFzc0xpc3QucmVtb3ZlKCdlLWlucHV0LWJ0bi1yaXBwbGUnKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlSWNvbkVsZShpY29uQ2xhc3MsIG1ha2VFbGVtZW50KSB7XG4gICAgICAgIHZhciBidXR0b24gPSBtYWtlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBpY29uQ2xhc3MgfSk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlLWlucHV0LWdyb3VwLWljb24nKTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzcGFuIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWNvbnMgYWRkZWQgYW5kIGFwcGVuZCBpdCBpbiBjb250YWluZXIgZWxlbWVudC5cbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5hZGRJY29uKCdhcHBlbmQnLCAnZS1pY29uLXNwaW4nLCBpbnB1dE9iai5jb250YWluZXIsIGlucHV0RWxlbWVudCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24gLSBTcGVjaWZ5IHRoZSBpY29uIHBsYWNlbWVudCBvbiB0aGUgaW5wdXQuUG9zc2libGUgdmFsdWVzIGFyZSBhcHBlbmQgYW5kIHByZXBlbmQuXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBzdHJpbmdbXX0gaWNvbnMgLSBJY29uIGNsYXNzZXMgd2hpY2ggYXJlIG5lZWQgdG8gYWRkIHRvIHRoZSBzcGFuIGVsZW1lbnQgd2hpY2ggaXMgZ29pbmcgdG8gY3JlYXRlZC5cbiAgICAgKiBTcGFuIGVsZW1lbnQgYWN0cyBhcyBpY29uIG9yIGJ1dHRvbiBlbGVtZW50IGZvciBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIG9uIHdoaWNoIGNyZWF0ZWQgc3BhbiBlbGVtZW50IGlzIGdvaW5nIHRvIGFwcGVuZC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBpbnB1dCAtIFRoZSBpbnB1dEVsZW1lbnQgb24gd2hpY2ggY3JlYXRlZCBzcGFuIGVsZW1lbnQgaXMgZ29pbmcgdG8gcHJlcGVuZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRJY29uKHBvc2l0aW9uLCBpY29ucywgY29udGFpbmVyLCBpbnB1dCwgaW50ZXJuYWxDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHR5cGVvZiAoaWNvbnMpID09PSAnc3RyaW5nJyA/IGljb25zLnNwbGl0KCcsJylcbiAgICAgICAgICAgIDogaWNvbnM7XG4gICAgICAgIGlmIChwb3NpdGlvbi50b0xvd2VyQ2FzZSgpID09PSAnYXBwZW5kJykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCByZXN1bHRfMSA9IHJlc3VsdDsgX2kgPCByZXN1bHRfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaWNvbiA9IHJlc3VsdF8xW19pXTtcbiAgICAgICAgICAgICAgICBhcHBlbmRTcGFuKGljb24sIGNvbnRhaW5lciwgaW50ZXJuYWxDcmVhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCByZXN1bHRfMiA9IHJlc3VsdDsgX2EgPCByZXN1bHRfMi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaWNvbiA9IHJlc3VsdF8yW19hXTtcbiAgICAgICAgICAgICAgICBwcmVwZW5kU3BhbihpY29uLCBjb250YWluZXIsIGlucHV0LCBpbnRlcm5hbENyZWF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlLWlucHV0LWdyb3VwLWljb24nKVswXSAmJiBjb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZS1mbG9hdC10ZXh0LW92ZXJmbG93JylbMF0pIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdlLWZsb2F0LXRleHQtb3ZlcmZsb3cnKVswXS5jbGFzc0xpc3QuYWRkKCdlLWljb24nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJbnB1dC5hZGRJY29uID0gYWRkSWNvbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNwYW4gZWxlbWVudCB3aXRoIHRoZSBnaXZlbiBpY29ucyBhZGRlZCBhbmQgcHJlcGVuZCBpdCBpbiBpbnB1dCBlbGVtZW50LlxuICAgICAqIGBgYFxuICAgICAqIEUuZyA6IElucHV0LnByZXBlbmRTcGFuKCdlLWljb24tc3BpbicsIGlucHV0T2JqLmNvbnRhaW5lciwgaW5wdXRFbGVtZW50KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpY29uQ2xhc3MgLSBJY29uIGNsYXNzZXMgd2hpY2ggYXJlIG5lZWQgdG8gYWRkIHRvIHRoZSBzcGFuIGVsZW1lbnQgd2hpY2ggaXMgZ29pbmcgdG8gY3JlYXRlZC5cbiAgICAgKiBTcGFuIGVsZW1lbnQgYWN0cyBhcyBpY29uIG9yIGJ1dHRvbiBlbGVtZW50IGZvciBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIG9uIHdoaWNoIGNyZWF0ZWQgc3BhbiBlbGVtZW50IGlzIGdvaW5nIHRvIGFwcGVuZC5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBpbnB1dEVsZW1lbnQgLSBUaGUgaW5wdXRFbGVtZW50IG9uIHdoaWNoIGNyZWF0ZWQgc3BhbiBlbGVtZW50IGlzIGdvaW5nIHRvIHByZXBlbmQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJlcGVuZFNwYW4oaWNvbkNsYXNzLCBjb250YWluZXIsIGlucHV0RWxlbWVudCwgaW50ZXJuYWxDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHZhciBtYWtlRWxlbWVudCA9ICFpc051bGxPclVuZGVmaW5lZChpbnRlcm5hbENyZWF0ZUVsZW1lbnQpID8gaW50ZXJuYWxDcmVhdGVFbGVtZW50IDogY3JlYXRlRWxlbWVudDtcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGNyZWF0ZUljb25FbGUoaWNvbkNsYXNzLCBtYWtlRWxlbWVudCk7XG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdlLWZsb2F0LWljb24tbGVmdCcpO1xuICAgICAgICB2YXIgaW5uZXJXcmFwcGVyID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5lLWlucHV0LWluLXdyYXAnKTtcbiAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWZpbmVkKGlubmVyV3JhcHBlcikpIHtcbiAgICAgICAgICAgIGlubmVyV3JhcHBlciA9IG1ha2VFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6ICdlLWlucHV0LWluLXdyYXAnIH0pO1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGlubmVyV3JhcHBlciwgaW5wdXRFbGVtZW50KTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChpbnB1dEVsZW1lbnQudGFnTmFtZSArICcgfiAqJyk7XG4gICAgICAgICAgICBpbm5lcldyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSByZXN1bHRbcGFyc2VJbnQoaS50b1N0cmluZygpLCAxMCldO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gaW5uZXJXcmFwcGVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCEoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2UtZmxvYXQtbGluZScpKSB8fCAoIShwYXJlbnRFbGVtZW50ICYmIHBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdlLWZpbGxlZCcpKSAmJiBwYXJlbnRFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpbm5lcldyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlubmVyV3JhcHBlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShidXR0b24sIGlubmVyV3JhcHBlcik7XG4gICAgICAgIF9pbnRlcm5hbFJpcHBsZSh0cnVlLCBjb250YWluZXIsIGJ1dHRvbik7XG4gICAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuICAgIElucHV0LnByZXBlbmRTcGFuID0gcHJlcGVuZFNwYW47XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBzcGFuIGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWNvbnMgYWRkZWQgYW5kIGFwcGVuZCBpdCBpbiBjb250YWluZXIgZWxlbWVudC5cbiAgICAgKiBgYGBcbiAgICAgKiBFLmcgOiBJbnB1dC5hcHBlbmRTcGFuKCdlLWljb24tc3BpbicsIGlucHV0T2JqLmNvbnRhaW5lcik7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWNvbkNsYXNzIC0gSWNvbiBjbGFzc2VzIHdoaWNoIGFyZSBuZWVkIHRvIGFkZCB0byB0aGUgc3BhbiBlbGVtZW50IHdoaWNoIGlzIGdvaW5nIHRvIGNyZWF0ZWQuXG4gICAgICogU3BhbiBlbGVtZW50IGFjdHMgYXMgaWNvbiBvciBidXR0b24gZWxlbWVudCBmb3IgaW5wdXQuXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBvbiB3aGljaCBjcmVhdGVkIHNwYW4gZWxlbWVudCBpcyBnb2luZyB0byBhcHBlbmQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwZW5kU3BhbihpY29uQ2xhc3MsIGNvbnRhaW5lciwgaW50ZXJuYWxDcmVhdGVFbGVtZW50KSB7XG4gICAgICAgIHZhciBtYWtlRWxlbWVudCA9ICFpc051bGxPclVuZGVmaW5lZChpbnRlcm5hbENyZWF0ZUVsZW1lbnQpID8gaW50ZXJuYWxDcmVhdGVFbGVtZW50IDogY3JlYXRlRWxlbWVudDtcbiAgICAgICAgdmFyIGJ1dHRvbiA9IGNyZWF0ZUljb25FbGUoaWNvbkNsYXNzLCBtYWtlRWxlbWVudCk7XG4gICAgICAgIHZhciB3cmFwID0gKGNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2UtZmxvYXQtaWNvbi1sZWZ0JykpID8gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5lLWlucHV0LWluLXdyYXAnKSA6XG4gICAgICAgICAgICBjb250YWluZXI7XG4gICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgX2ludGVybmFsUmlwcGxlKHRydWUsIGNvbnRhaW5lciwgYnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgSW5wdXQuYXBwZW5kU3BhbiA9IGFwcGVuZFNwYW47XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dFR5cGUoY29udGFpbmVyRWxlbWVudCwgaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LnR5cGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICBjb250YWluZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2UtaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2UtaGlkZGVuJykpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZS1oaWRkZW4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJbnB1dC52YWxpZGF0ZUlucHV0VHlwZSA9IHZhbGlkYXRlSW5wdXRUeXBlO1xuICAgIGZ1bmN0aW9uIHVwZGF0ZUhUTUxBdHRyaWJ1dGVzVG9FbGVtZW50KGh0bWxBdHRyaWJ1dGVzLCBlbGVtZW50KSB7XG4gICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQoaHRtbEF0dHJpYnV0ZXMpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXMoaHRtbEF0dHJpYnV0ZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYVtfaV07XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lckF0dHJpYnV0ZXMuaW5kZXhPZihrZXkpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIGh0bWxBdHRyaWJ1dGVzW1wiXCIgKyBrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgSW5wdXQudXBkYXRlSFRNTEF0dHJpYnV0ZXNUb0VsZW1lbnQgPSB1cGRhdGVIVE1MQXR0cmlidXRlc1RvRWxlbWVudDtcbiAgICBmdW5jdGlvbiB1cGRhdGVDc3NDbGFzcyhuZXdDbGFzcywgb2xkQ2xhc3MsIGNvbnRhaW5lcikge1xuICAgICAgICBzZXRDc3NDbGFzcyhnZXRJbnB1dFZhbGlkQ2xhc3NMaXN0KG5ld0NsYXNzKSwgW2NvbnRhaW5lcl0sIGdldElucHV0VmFsaWRDbGFzc0xpc3Qob2xkQ2xhc3MpKTtcbiAgICB9XG4gICAgSW5wdXQudXBkYXRlQ3NzQ2xhc3MgPSB1cGRhdGVDc3NDbGFzcztcbiAgICBmdW5jdGlvbiBnZXRJbnB1dFZhbGlkQ2xhc3NMaXN0KGlucHV0Q2xhc3NOYW1lKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBpbnB1dENsYXNzTmFtZTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChpbnB1dENsYXNzTmFtZSkgJiYgaW5wdXRDbGFzc05hbWUgIT09ICcnKSB7XG4gICAgICAgICAgICByZXN1bHQgPSAoaW5wdXRDbGFzc05hbWUucmVwbGFjZSgvXFxzKy9nLCAnICcpKS50cmltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgSW5wdXQuZ2V0SW5wdXRWYWxpZENsYXNzTGlzdCA9IGdldElucHV0VmFsaWRDbGFzc0xpc3Q7XG4gICAgZnVuY3Rpb24gdXBkYXRlSFRNTEF0dHJpYnV0ZXNUb1dyYXBwZXIoaHRtbEF0dHJpYnV0ZXMsIGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWZpbmVkKGh0bWxBdHRyaWJ1dGVzKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5rZXlzKGh0bWxBdHRyaWJ1dGVzKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXJBdHRyaWJ1dGVzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdjbGFzcycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkQ2xhc3NWYWx1ZXMgPSB0aGlzLmdldElucHV0VmFsaWRDbGFzc0xpc3QoaHRtbEF0dHJpYnV0ZXNbXCJcIiArIGtleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRDbGFzc1ZhbHVlcyAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyhbY29udGFpbmVyXSwgdXBkYXRlZENsYXNzVmFsdWVzLnNwbGl0KCcgJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNldFN0eWxlID0gY29udGFpbmVyLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3R5bGUgPSAhaXNOdWxsT3JVbmRlZmluZWQoc2V0U3R5bGUpID8gKHNldFN0eWxlICsgaHRtbEF0dHJpYnV0ZXNbXCJcIiArIGtleV0pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sQXR0cmlidXRlc1tcIlwiICsga2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoa2V5LCBzZXRTdHlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKGtleSwgaHRtbEF0dHJpYnV0ZXNbXCJcIiArIGtleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIElucHV0LnVwZGF0ZUhUTUxBdHRyaWJ1dGVzVG9XcmFwcGVyID0gdXBkYXRlSFRNTEF0dHJpYnV0ZXNUb1dyYXBwZXI7XG4gICAgZnVuY3Rpb24gaXNCbGFuayhpbnB1dFN0cmluZykge1xuICAgICAgICByZXR1cm4gKCFpbnB1dFN0cmluZyB8fCAvXlxccyokLy50ZXN0KGlucHV0U3RyaW5nKSk7XG4gICAgfVxuICAgIElucHV0LmlzQmxhbmsgPSBpc0JsYW5rO1xufSkoSW5wdXQgfHwgKElucHV0ID0ge30pKTtcbi8qIGVzbGludC1lbmFibGUgdmFsaWQtanNkb2MsIGpzZG9jL3JlcXVpcmUtanNkb2MsIGpzZG9jL3JlcXVpcmUtcmV0dXJucywganNkb2MvcmVxdWlyZS1wYXJhbSAqL1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@syncfusion+ej2-inputs@29.1.39/node_modules/@syncfusion/ej2-inputs/src/input/input.js\n");

/***/ })

};
;